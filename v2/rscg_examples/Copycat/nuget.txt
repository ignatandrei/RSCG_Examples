Decorator pattert source generator with user-defined template