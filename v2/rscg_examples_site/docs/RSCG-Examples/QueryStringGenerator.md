---
sidebar_position: 1700
title: 170 - QueryStringGenerator
description: Generate from string properties of a class a query string for a URL.
slug: /QueryStringGenerator
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import TOCInline from '@theme/TOCInline';

# QueryStringGenerator  by Tomi Parviainen


<TOCInline toc={toc}  />

## NuGet / site data
[![Nuget](https://img.shields.io/nuget/dt/QueryStringGenerator?label=QueryStringGenerator)](https://www.nuget.org/packages/QueryStringGenerator/)
[![GitHub last commit](https://img.shields.io/github/last-commit/tparviainen/query-string-generator?label=updated)](https://github.com/tparviainen/query-string-generator)
![GitHub Repo stars](https://img.shields.io/github/stars/tparviainen/query-string-generator?style=social)

## Details

### Info
:::info

Name: **QueryStringGenerator**

Package Description

Author: Tomi Parviainen

NuGet: 
*https://www.nuget.org/packages/QueryStringGenerator/*   


You can find more details at https://github.com/tparviainen/query-string-generator

Source: https://github.com/tparviainen/query-string-generator

:::

### Original Readme
:::note

# Query String Generator

C# incremental generator to create a method that returns the query string of the object.

# Usage

## 1. Install the [NuGet](https://www.nuget.org/packages/QueryStringGenerator) package

```
PM> Install-Package QueryStringGenerator
```

## 2. Update the Model(s)

Class must be decorated with `QueryString` attribute, which is declared in `QueryStringGenerator` namespace.

```csharp
using QueryStringGenerator;

[QueryString]
public class Model
{
    public int? Limit { get; set; }
    public int? Offset { get; set; }
    public string? Sort { get; set; }
}
```

## 3. Call `ToQueryString` Method to the Instance of the Class

By default the generated method name is `ToQueryString`, which when called returns the query string of the object.

```csharp
var model = new Model
{
    Limit = 10,
    Sort = "Price"
};

Console.WriteLine($"Query string: {model.ToQueryString()}");

/*
This code example produces the following results:

Query string: &limit=10&sort=Price
*/
```

# Generated Source Code

Below is the auto-generated extension method for the class defined in step 2. above.

```csharp
// <auto-generated />

namespace QueryStringGenerator.App.Models
{
    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("QueryStringGenerator", "1.0.0")]
    public static class QueryStringExtensionForModel
    {
        public static string ToQueryString(this Model _this)
        {
            if (_this == null)
            {
                return string.Empty;
            }

            var sb = new global::System.Text.StringBuilder();

            if (_this.Limit != null)
            {
                sb.Append($"&limit={_this.Limit}");
            }

            if (_this.Offset != null)
            {
                sb.Append($"&offset={_this.Offset}");
            }

            if (_this.Sort != null)
            {
                sb.Append($"&sort={System.Net.WebUtility.UrlEncode(_this.Sort)}");
            }

            return sb.ToString();
        }
    }
}
```

# Supported Data Types

- Nullable value types, including enums
- Reference types

**NOTE:** The query string _value_ for enum is the name of the enum starting with a lowercase character.


:::

### About
:::note

Generate from string properties of a class a query string for a URL.


:::

## How to use

### Example (source csproj, source files)

<Tabs>

<TabItem value="csproj" label="CSharp Project">

This is the CSharp Project that references **QueryStringGenerator**
```xml showLineNumbers {11}
<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net9.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="QueryStringGenerator" Version="1.1.0">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
  </ItemGroup>
	<PropertyGroup>
		<EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>
		<CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\GX</CompilerGeneratedFilesOutputPath>
	</PropertyGroup>
</Project>

```

</TabItem>

  <TabItem value="D:\gth\RSCG_Examples\v2\rscg_examples\QueryStringGenerator\src\DemoQuery\Program.cs" label="Program.cs" >

  This is the use of **QueryStringGenerator** in *Program.cs*

```csharp showLineNumbers 
using DemoQuery;
Person p = new();
p.FirstName = "Andrei";
p.LastName = "Ignat";
p.Age = 55;
Console.WriteLine(p.ToQueryString());
```
  </TabItem>

  <TabItem value="D:\gth\RSCG_Examples\v2\rscg_examples\QueryStringGenerator\src\DemoQuery\Person.cs" label="Person.cs" >

  This is the use of **QueryStringGenerator** in *Person.cs*

```csharp showLineNumbers 
using QueryStringGenerator;
namespace DemoQuery;
[QueryString]
internal class Person
{
    public string FirstName { get; set; }=string.Empty;
    public int Age {  get; set; }
    public string LastName { get; set; } = string.Empty;

}

```
  </TabItem>

</Tabs>

### Generated Files

Those are taken from $(BaseIntermediateOutputPath)\GX

<Tabs>


<TabItem value="D:\gth\RSCG_Examples\v2\rscg_examples\QueryStringGenerator\src\DemoQuery\obj\GX\QueryStringGenerator\QueryStringGenerator.SourceGenerator\Person.g.cs" label="Person.g.cs" >


```csharp showLineNumbers 
// <auto-generated />

namespace DemoQuery
{
    [System.CodeDom.Compiler.GeneratedCodeAttribute("QueryStringGenerator", "1.0.0")]
    internal static class QueryStringExtensionForPerson
    {
        public static string ToQueryString(this Person _this)
        {
            if (_this == null)
            {
                return string.Empty;
            }

            var sb = new System.Text.StringBuilder();

            if (_this.FirstName != null)
            {
                sb.Append($"&firstname={System.Net.WebUtility.UrlEncode(_this.FirstName)}");
            }

            if (_this.LastName != null)
            {
                sb.Append($"&lastname={System.Net.WebUtility.UrlEncode(_this.LastName)}");
            }

            return sb.ToString();
        }
    }
}

```

  </TabItem>


<TabItem value="D:\gth\RSCG_Examples\v2\rscg_examples\QueryStringGenerator\src\DemoQuery\obj\GX\QueryStringGenerator\QueryStringGenerator.SourceGenerator\QueryStringAttribute.g.cs" label="QueryStringAttribute.g.cs" >


```csharp showLineNumbers 
// <auto-generated />

namespace QueryStringGenerator
{
    [System.CodeDom.Compiler.GeneratedCodeAttribute("QueryStringGenerator", "1.0.0")]
    internal class QueryStringAttribute : System.Attribute
    {
        public string MethodName { get; set; }

        public QueryStringAttribute(string methodName = "ToQueryString")
        {
            MethodName = methodName;
        }
    }
}

```

  </TabItem>


</Tabs>

## Useful

### Download Example (.NET  C# )

:::tip

[Download Example project QueryStringGenerator ](/sources/QueryStringGenerator.zip)

:::


### Share QueryStringGenerator 

<ul>
  <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FQueryStringGenerator&quote=QueryStringGenerator" title="Share on Facebook" target="_blank">Share on Facebook</a></li>
  <li><a href="https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FQueryStringGenerator&text=QueryStringGenerator:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FQueryStringGenerator" target="_blank" title="Tweet">Share in Twitter</a></li>
  <li><a href="http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FQueryStringGenerator&title=QueryStringGenerator" target="_blank" title="Submit to Reddit">Share on Reddit</a></li>
  <li><a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FQueryStringGenerator&title=QueryStringGenerator&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FQueryStringGenerator" target="_blank" title="Share on LinkedIn">Share on Linkedin</a></li>
</ul>

https://ignatandrei.github.io/RSCG_Examples/v2/docs/QueryStringGenerator

### In the same category (EnhancementClass) - 27 other generators


#### [ApparatusAOT](/docs/ApparatusAOT)


#### [AspectGenerator](/docs/AspectGenerator)


#### [CommonCodeGenerator](/docs/CommonCodeGenerator)


#### [Comparison](/docs/Comparison)


#### [DudNet](/docs/DudNet)


#### [Enhanced.GetTypes](/docs/Enhanced.GetTypes)


#### [FastGenericNew](/docs/FastGenericNew)


#### [HsuSgSync](/docs/HsuSgSync)


#### [Immutype](/docs/Immutype)


#### [Ling.Audit](/docs/Ling.Audit)


#### [Lombok.NET](/docs/Lombok.NET)


#### [M31.FluentAPI](/docs/M31.FluentAPI)


#### [MemberAccessor](/docs/MemberAccessor)


#### [MemoryPack](/docs/MemoryPack)


#### [Meziantou.Polyfill](/docs/Meziantou.Polyfill)


#### [Microsoft.Extensions.Logging](/docs/Microsoft.Extensions.Logging)


#### [Microsoft.Extensions.Options.Generators.OptionsValidatorGenerator](/docs/Microsoft.Extensions.Options.Generators.OptionsValidatorGenerator)


#### [Microsoft.Interop.JavaScript.JSImportGenerator](/docs/Microsoft.Interop.JavaScript.JSImportGenerator)


#### [OptionToStringGenerator](/docs/OptionToStringGenerator)


#### [RSCG_Decorator](/docs/RSCG_Decorator)


#### [RSCG_UtilityTypes](/docs/RSCG_UtilityTypes)


#### [StaticReflection](/docs/StaticReflection)


#### [SyncMethodGenerator](/docs/SyncMethodGenerator)


#### [System.Runtime.InteropServices](/docs/System.Runtime.InteropServices)


#### [System.Text.RegularExpressions](/docs/System.Text.RegularExpressions)


#### [TelemetryLogging](/docs/TelemetryLogging)


#### [ThisClass](/docs/ThisClass)

