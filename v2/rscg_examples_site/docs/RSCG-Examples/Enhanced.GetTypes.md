---
sidebar_position: 1580
title: 158 - Enhanced.GetTypes
description: Generating list of PUBLIC classes that implements an interface
slug: /Enhanced.GetTypes
---
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import TOCInline from '@theme/TOCInline';

# Enhanced.GetTypes  by duskembayev


<TOCInline toc={toc}  />

## NuGet / site data
[![Nuget](https://img.shields.io/nuget/dt/Enhanced.GetTypes?label=Enhanced.GetTypes)](https://www.nuget.org/packages/Enhanced.GetTypes/)
[![GitHub last commit](https://img.shields.io/github/last-commit/duskembayev/Enhanced.GetTypes?label=updated)](https://github.com/duskembayev/Enhanced.GetTypes)
![GitHub Repo stars](https://img.shields.io/github/stars/duskembayev/Enhanced.GetTypes?style=social)

## Details

### Info
:::info

Name: **Enhanced.GetTypes**

Enhanced.GetTypes is a NuGet package for simplified types retrieval in .NET Core applications. It uses a source generator for explicit types retrieval without reflection.

Author: duskembayev

NuGet: 
*https://www.nuget.org/packages/Enhanced.GetTypes/*   


You can find more details at https://github.com/duskembayev/Enhanced.GetTypes

Source: https://github.com/duskembayev/Enhanced.GetTypes

:::

### Original Readme
:::note

# Enhanced.GetTypes

[![license](https://flat.badgen.net/github/license/duskembayev/Enhanced.GetTypes)](https://github.com/duskembayev/Enhanced.GetTypes/LICENSE)
[![nuget](https://flat.badgen.net/nuget/v/Enhanced.GetTypes?icon=nuget)](https://www.nuget.org/packages/Enhanced.GetTypes)

`Enhanced.GetTypes` is a NuGet package for observing derived types in current assembly in .NET applications **without reflection**.

## Motivation

The main goal of the package is to provide a way to get derived types in the current assembly without using reflection. This approach allows you to get the types at compile time and use them in different scenarios, such as registering them in the DI container, creating factories, etc.

## How to install
```shell
dotnet add package Enhanced.GetTypes
```

## How to use

Let's say you have an interface `IService` and you want to get all derived types of this interface in the current assembly.
To do this, you need to create a partial class and mark it with the `DerivedTypesAttribute` attribute.

```csharp
using System;
using System.Collections.Generic
using Enhanced.GetTypes;

namespace MyProject;

public partial class ProjectTypes
{
    [DerivedTypes(typeof(IService))]
    public partial IEnumerable<Type> GetServices();
}
```

The body of the method will be generated by the source generator and will contain a list of all derived types of the `IService` interface in the current assembly.

```csharp
// <auto-generated />
namespace MyProject
{
    partial class ProjectTypes
    {
        private partial System.Collections.Generic.IEnumerable<System.Type> GetServices()
        {
            yield return typeof(MyProject.People.PeopleService);
            yield return typeof(MyProject.Pets.PetsService);
            yield return typeof(MyProject.Cars.CarsService);
            yield break;
        }
    }
}
```

Now you can use the generated method to get all derived types of the `IService` interface for different purposes. For example, registering them in the DI container.

```csharp
// ...
var serviceDescriptors = ProjectTypes.GetServices()
                                     .Select(type => ServiceDescriptor.Transient(typeof(IService), type);

builder.Services.TryAddEnumerable(serviceDescriptors);
```

Additionally, you can specify flags for the `DerivedTypesAttribute` attribute to filter the types you need.

- `IncludeInternal` - include internal types.
- `IncludeAbstract` - include abstract types.
- `IncludeInterfaces` - include interfaces.

```csharp
// ...
[DerivedTypes(typeof(IService), IncludeInternal = true, IncludeAbstract = true, IncludeInterfaces = true)]
public partial IEnumerable<Type> GetServices();
```

### Important notes

- The method marked with the `DerivedTypesAttribute` attribute must return `IEnumerable<Type>`.
- Types from referenced assemblies are not included.


:::

### About
:::note

Generating list of PUBLIC classes that implements an interface


:::

## How to use

### Example (source csproj, source files)

<Tabs>

<TabItem value="csproj" label="CSharp Project">

This is the CSharp Project that references **Enhanced.GetTypes**
```xml showLineNumbers {11}
<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net8.0</TargetFramework>
    <ImplicitUsings>enable</ImplicitUsings>
    <Nullable>enable</Nullable>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Enhanced.GetTypes" Version="1.0.0" />
  </ItemGroup>
	<PropertyGroup>
		<EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>
		<CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\GX</CompilerGeneratedFilesOutputPath>
	</PropertyGroup>
</Project>

```

</TabItem>

  <TabItem value="D:\gth\RSCG_Examples\v2\rscg_examples\Enhanced.GetTypes\src\GetTypesForInterface\Program.cs" label="Program.cs" >

  This is the use of **Enhanced.GetTypes** in *Program.cs*

```csharp showLineNumbers 
// See https://aka.ms/new-console-template for more information
using GetTypesForInterface;

Console.WriteLine("Hello, World!");
foreach (var type in ProjectTypes.GetIPersonTypes())
{
    Console.WriteLine(type.Name);
}
```
  </TabItem>

  <TabItem value="D:\gth\RSCG_Examples\v2\rscg_examples\Enhanced.GetTypes\src\GetTypesForInterface\ProjectTypes.cs" label="ProjectTypes.cs" >

  This is the use of **Enhanced.GetTypes** in *ProjectTypes.cs*

```csharp showLineNumbers 
using Enhanced.GetTypes.Annotation;

namespace GetTypesForInterface;
public partial class ProjectTypes
{
    [DerivedTypes(typeof(IPerson))]
    public  static partial IEnumerable<Type> GetIPersonTypes();
}

```
  </TabItem>

  <TabItem value="D:\gth\RSCG_Examples\v2\rscg_examples\Enhanced.GetTypes\src\GetTypesForInterface\IPerson.cs" label="IPerson.cs" >

  This is the use of **Enhanced.GetTypes** in *IPerson.cs*

```csharp showLineNumbers 

namespace GetTypesForInterface;
internal interface IPerson
{
    public string Name { get; set; }
}

```
  </TabItem>

  <TabItem value="D:\gth\RSCG_Examples\v2\rscg_examples\Enhanced.GetTypes\src\GetTypesForInterface\Student.cs" label="Student.cs" >

  This is the use of **Enhanced.GetTypes** in *Student.cs*

```csharp showLineNumbers 

namespace GetTypesForInterface;
public class Student : IPerson
{
    public string Name { get; set; } = "";
}
    

```
  </TabItem>

  <TabItem value="D:\gth\RSCG_Examples\v2\rscg_examples\Enhanced.GetTypes\src\GetTypesForInterface\Teacher.cs" label="Teacher.cs" >

  This is the use of **Enhanced.GetTypes** in *Teacher.cs*

```csharp showLineNumbers 
namespace GetTypesForInterface;
public class Teacher:IPerson
{
    public string Name { get; set; } = "";
}


```
  </TabItem>

</Tabs>

### Generated Files

Those are taken from $(BaseIntermediateOutputPath)\GX

<Tabs>


<TabItem value="D:\gth\RSCG_Examples\v2\rscg_examples\Enhanced.GetTypes\src\GetTypesForInterface\obj\GX\Enhanced.GetTypes.SourceGenerator\Enhanced.GetTypes.SourceGenerator.GetTypesMethodSourceGenerator\ProjectTypes.GetIPersonTypes.g.cs" label="ProjectTypes.GetIPersonTypes.g.cs" >


```csharp showLineNumbers 
// <auto-generated />
namespace GetTypesForInterface
{
    partial class ProjectTypes
    {
        public static partial System.Collections.Generic.IEnumerable<System.Type> GetIPersonTypes()
        {
            yield return typeof(GetTypesForInterface.Student);
            yield return typeof(GetTypesForInterface.Teacher);
            yield break;
        }
    }
}

```

  </TabItem>


</Tabs>

## Useful

### Download Example (.NET  C# )

:::tip

[Download Example project Enhanced.GetTypes ](/sources/Enhanced.GetTypes.zip)

:::


### Share Enhanced.GetTypes 

<ul>
  <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FEnhanced.GetTypes&quote=Enhanced.GetTypes" title="Share on Facebook" target="_blank">Share on Facebook</a></li>
  <li><a href="https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FEnhanced.GetTypes&text=Enhanced.GetTypes:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FEnhanced.GetTypes" target="_blank" title="Tweet">Share in Twitter</a></li>
  <li><a href="http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FEnhanced.GetTypes&title=Enhanced.GetTypes" target="_blank" title="Submit to Reddit">Share on Reddit</a></li>
  <li><a href="http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FEnhanced.GetTypes&title=Enhanced.GetTypes&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FEnhanced.GetTypes" target="_blank" title="Share on LinkedIn">Share on Linkedin</a></li>
</ul>

https://ignatandrei.github.io/RSCG_Examples/v2/docs/Enhanced.GetTypes

### In the same category (EnhancementClass) - 27 other generators


#### [ApparatusAOT](/docs/ApparatusAOT)


#### [AspectGenerator](/docs/AspectGenerator)


#### [CommonCodeGenerator](/docs/CommonCodeGenerator)


#### [Comparison](/docs/Comparison)


#### [DudNet](/docs/DudNet)


#### [FastGenericNew](/docs/FastGenericNew)


#### [HsuSgSync](/docs/HsuSgSync)


#### [Immutype](/docs/Immutype)


#### [Ling.Audit](/docs/Ling.Audit)


#### [Lombok.NET](/docs/Lombok.NET)


#### [M31.FluentAPI](/docs/M31.FluentAPI)


#### [MemberAccessor](/docs/MemberAccessor)


#### [MemoryPack](/docs/MemoryPack)


#### [Meziantou.Polyfill](/docs/Meziantou.Polyfill)


#### [Microsoft.Extensions.Logging](/docs/Microsoft.Extensions.Logging)


#### [Microsoft.Extensions.Options.Generators.OptionsValidatorGenerator](/docs/Microsoft.Extensions.Options.Generators.OptionsValidatorGenerator)


#### [Microsoft.Interop.JavaScript.JSImportGenerator](/docs/Microsoft.Interop.JavaScript.JSImportGenerator)


#### [OptionToStringGenerator](/docs/OptionToStringGenerator)


#### [QueryStringGenerator](/docs/QueryStringGenerator)


#### [RSCG_Decorator](/docs/RSCG_Decorator)


#### [RSCG_UtilityTypes](/docs/RSCG_UtilityTypes)


#### [StaticReflection](/docs/StaticReflection)


#### [SyncMethodGenerator](/docs/SyncMethodGenerator)


#### [System.Runtime.InteropServices](/docs/System.Runtime.InteropServices)


#### [System.Text.RegularExpressions](/docs/System.Text.RegularExpressions)


#### [TelemetryLogging](/docs/TelemetryLogging)


#### [ThisClass](/docs/ThisClass)

