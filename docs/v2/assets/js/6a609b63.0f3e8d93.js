"use strict";(self.webpackChunkrscg_examples=self.webpackChunkrscg_examples||[]).push([[4554],{21077:(e,t,n)=>{n.d(t,{A:()=>r});const r=n.p+"assets/files/AutoSpectre-0123a1ba982d7356376dd15366797626.zip"},73705:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>d,default:()=>m,frontMatter:()=>c,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"RSCG-Examples/AutoSpectre","title":"121 - AutoSpectre","description":"Generating prompt to input values for a console application.","source":"@site/docs/RSCG-Examples/AutoSpectre.md","sourceDirName":"RSCG-Examples","slug":"/AutoSpectre","permalink":"/RSCG_Examples/v2/docs/AutoSpectre","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/RSCG-Examples/AutoSpectre.md","tags":[],"version":"current","sidebarPosition":1210,"frontMatter":{"sidebar_position":1210,"title":"121 - AutoSpectre","description":"Generating prompt to input values for a console application.","slug":"/AutoSpectre"},"sidebar":"tutorialSidebar","previous":{"title":"120 - LingoGen","permalink":"/RSCG_Examples/v2/docs/LingoGen"},"next":{"title":"122 - RSCG_JSON2Class","permalink":"/RSCG_Examples/v2/docs/RSCG_JSON2Class"}}');var i=n(74848),o=n(28453),s=n(11470),a=n(19365),l=n(14252);const c={sidebar_position:1210,title:"121 - AutoSpectre",description:"Generating prompt to input values for a console application.",slug:"/AutoSpectre"},d="AutoSpectre  by Jeppe Roi Kristensen",u={},h=[{value:"NuGet / site data",id:"nuget--site-data",level:2},{value:"Details",id:"details",level:2},{value:"Info",id:"info",level:3},{value:"Original Readme",id:"original-readme",level:3},{value:"Short Guide",id:"short-guide",level:2},{value:"Example input",id:"example-input",level:3},{value:"Example output",id:"example-output",level:3},{value:"How to call",id:"how-to-call",level:3},{value:"The form attribute",id:"the-form-attribute",level:2},{value:"Culture",id:"culture",level:3},{value:"DisableDump",id:"disabledump",level:3},{value:"Inheritance",id:"inheritance",level:3},{value:"Constructor",id:"constructor",level:3},{value:"The property attributes",id:"the-property-attributes",level:2},{value:"A short note on sources",id:"a-short-note-on-sources",level:3},{value:"TextPromptAttribute",id:"textpromptattribute",level:3},{value:"Default value",id:"default-value",level:4},{value:"IEnumerable types",id:"ienumerable-types",level:4},{value:"Other functionality",id:"other-functionality",level:4},{value:"SelectPromptAttribute",id:"selectpromptattribute",level:3},{value:"The method attribute",id:"the-method-attribute",level:2},{value:"Requirements for the method",id:"requirements-for-the-method",level:3},{value:"Title",id:"title",level:3},{value:"Status bar",id:"status-bar",level:3},{value:"Collections strategy",id:"collections-strategy",level:2},{value:"Example",id:"example",level:3},{value:"Code",id:"code",level:4},{value:"Generated",id:"generated",level:4},{value:"Converter",id:"converter",level:2},{value:"Example",id:"example-1",level:3},{value:"Code",id:"code-1",level:4},{value:"Generated",id:"generated-1",level:4},{value:"Validation",id:"validation",level:2},{value:"Example",id:"example-2",level:3},{value:"Generated",id:"generated-2",level:3},{value:"Choices",id:"choices",level:2},{value:"Example",id:"example-3",level:3},{value:"Generated",id:"generated-3",level:3},{value:"Type initialization",id:"type-initialization",level:2},{value:"Generated",id:"generated-4",level:3},{value:"Conventions",id:"conventions",level:2},{value:"Source",id:"source",level:3},{value:"Example",id:"example-4",level:4},{value:"Converter",id:"converter-1",level:3},{value:"Example",id:"example-5",level:4},{value:"Validation",id:"validation-1",level:3},{value:"Example",id:"example-6",level:4},{value:"Condition",id:"condition",level:3},{value:"About",id:"about",level:3},{value:"How to use",id:"how-to-use",level:2},{value:"Example (source csproj, source files)",id:"example-source-csproj-source-files",level:3},{value:"Generated Files",id:"generated-files",level:3},{value:"Useful",id:"useful",level:2},{value:"Download Example (.NET  C# )",id:"download-example-net--c-",level:3},{value:"Share AutoSpectre",id:"share-autospectre",level:3},{value:"In the same category (EnhancementProject) - 17 other generators",id:"in-the-same-category-enhancementproject---17-other-generators",level:3},{value:"AutoInvoke.Generator",id:"autoinvokegenerator",level:4},{value:"BuildInfo",id:"buildinfo",level:4},{value:"CommandLine",id:"commandline",level:4},{value:"Credfeto.Version.Information.Generator",id:"credfetoversioninformationgenerator",level:4},{value:"Larcanum.GitInfo",id:"larcanumgitinfo",level:4},{value:"LinqGen.Generator",id:"linqgengenerator",level:4},{value:"Pekspro.BuildInformationGenerator",id:"peksprobuildinformationgenerator",level:4},{value:"PlantUmlClassDiagramGenerator",id:"plantumlclassdiagramgenerator",level:4},{value:"RSCG_AMS",id:"rscg_ams",level:4},{value:"RSCG_ExportDiagram",id:"rscg_exportdiagram",level:4},{value:"RSCG_FunctionsWithDI",id:"rscg_functionswithdi",level:4},{value:"RSCG_NameGenerator",id:"rscg_namegenerator",level:4},{value:"RSCG_TimeBombComment",id:"rscg_timebombcomment",level:4},{value:"RSCG_Wait",id:"rscg_wait",level:4},{value:"ThisAssembly",id:"thisassembly",level:4},{value:"ThisAssembly.Constants",id:"thisassemblyconstants",level:4},{value:"ThisAssembly.Metadata",id:"thisassemblymetadata",level:4}];function p(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"autospectre--by-jeppe-roi-kristensen",children:"AutoSpectre  by Jeppe Roi Kristensen"})}),"\n",(0,i.jsx)(l.A,{toc:h}),"\n",(0,i.jsx)(t.h2,{id:"nuget--site-data",children:"NuGet / site data"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.a,{href:"https://www.nuget.org/packages/AutoSpectre.SourceGeneration",children:(0,i.jsx)(t.img,{src:"https://img.shields.io/nuget/dt/AutoSpectre.SourceGeneration?label=AutoSpectre.SourceGeneration",alt:"Nuget"})}),(0,i.jsx)(t.a,{href:"https://www.nuget.org/packages/AutoSpectre",children:(0,i.jsx)(t.img,{src:"https://img.shields.io/nuget/dt/AutoSpectre?label=AutoSpectre",alt:"Nuget"})}),"\n",(0,i.jsx)(t.a,{href:"https://github.com/jeppevammenkristensen/auto-spectre",children:(0,i.jsx)(t.img,{src:"https://img.shields.io/github/last-commit/jeppevammenkristensen/auto-spectre?label=updated",alt:"GitHub last commit"})}),"\n",(0,i.jsx)(t.img,{src:"https://img.shields.io/github/stars/jeppevammenkristensen/auto-spectre?style=social",alt:"GitHub Repo stars"})]}),"\n",(0,i.jsx)(t.h2,{id:"details",children:"Details"}),"\n",(0,i.jsx)(t.h3,{id:"info",children:"Info"}),"\n",(0,i.jsxs)(t.admonition,{type:"info",children:[(0,i.jsxs)(t.p,{children:["Name: ",(0,i.jsx)(t.strong,{children:"AutoSpectre"})]}),(0,i.jsx)(t.p,{children:"A quick and dirty tool to generate a form through with a source generator that can collect data"}),(0,i.jsx)(t.p,{children:"Author: Jeppe Roi Kristensen"}),(0,i.jsxs)(t.p,{children:["NuGet:\n",(0,i.jsx)(t.em,{children:(0,i.jsx)(t.a,{href:"https://www.nuget.org/packages/AutoSpectre.SourceGeneration",children:"https://www.nuget.org/packages/AutoSpectre.SourceGeneration"})})]}),(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:(0,i.jsx)(t.a,{href:"https://www.nuget.org/packages/AutoSpectre",children:"https://www.nuget.org/packages/AutoSpectre"})})}),(0,i.jsxs)(t.p,{children:["You can find more details at ",(0,i.jsx)(t.a,{href:"https://github.com/jeppevammenkristensen/auto-spectre",children:"https://github.com/jeppevammenkristensen/auto-spectre"})]}),(0,i.jsxs)(t.p,{children:["Source: ",(0,i.jsx)(t.a,{href:"https://github.com/jeppevammenkristensen/auto-spectre",children:"https://github.com/jeppevammenkristensen/auto-spectre"})]})]}),"\n",(0,i.jsx)(t.h3,{id:"original-readme",children:"Original Readme"}),"\n",(0,i.jsxs)(t.admonition,{type:"note",children:[(0,i.jsx)(t.h1,{id:"auto-spectre",children:"Auto Spectre"}),(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.em,{children:(0,i.jsx)(t.a,{href:"https://www.nuget.org/packages/AutoSpectre.SourceGeneration",children:(0,i.jsx)(t.img,{src:"https://img.shields.io/nuget/v/AutoSpectre.SourceGeneration?style=flat-square&label=NuGet%3A%20AutoSpectre.SourceGeneration",alt:"AutoSpectre.SourceGeneration Nuget Version"})})})," ",(0,i.jsx)(t.em,{children:(0,i.jsx)(t.a,{href:"https://www.nuget.org/packages/AutoSpectre",children:(0,i.jsx)(t.img,{src:"https://img.shields.io/nuget/v/AutoSpectre?style=flat-square&label=NuGet%3A%20AutoSpectre",alt:"AutoSpectre"})})})," ",(0,i.jsx)(t.em,{children:(0,i.jsx)(t.a,{href:"https://www.nuget.org/packages/AutoSpectre.Analyzer",children:(0,i.jsx)(t.img,{src:"https://img.shields.io/nuget/v/AutoSpectre.Analyzer?style=flat-square&label=NuGet%3A%20AutoSpectre.Analyzer",alt:"AutoSpectre.Analyzer"})})})]}),(0,i.jsx)(t.p,{children:"Source generator project to generate classes that can be used in a console to prompt for values using Spectre.Console"}),(0,i.jsx)(t.h2,{id:"short-guide",children:"Short Guide"}),(0,i.jsx)(t.p,{children:"Decorate a class with the AutoSpectreForm attribute and then decorate the properties (must be settable) with a TextPrompt or SelectPrompt attribute."}),(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"NOTE"})," The ",(0,i.jsx)(t.code,{children:"AskAttribute"})," has been marked as obsolete and split into ",(0,i.jsx)(t.code,{children:"TextPromptAttribute"})," and ",(0,i.jsx)(t.code,{children:"SelectPromptAttribute"})," to avoid having a lot of properties only relevant for one or another type of prompt."]}),(0,i.jsx)(t.h3,{id:"example-input",children:"Example input"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'[AutoSpectreForm(Culture = "da-DK")]\npublic class Example\n{\n    [TextPrompt(Title = "Add item")] public int[] IntItems { get; set; } = Array.Empty<int>();\n\n    [TextPrompt(Title = "Enter first name", DefaultValueStyle = "bold",\n        DefaultValueSource = nameof(FirstNameDefaultValue))]\n    public string? FirstName { get; set; }\n\n    public readonly string? FirstNameDefaultValue = "John Doe";\n\n    [TextPrompt(PromptStyle = "green bold")]\n    public bool LeftHanded { get; set; }\n\n    [TextPrompt(Title = "Choose your [red]value[/]")]\n    public SomeEnum Other { get; set; }\n\n    [TextPrompt(Secret = true, Mask = \'*\')]\n    public string? Password { get; set; }\n\n    [TextPrompt(ChoicesSource = nameof(NameChoices), ChoicesStyle = "red on yellow",\n        ChoicesInvalidText = "Must be one of the names")]\n    public string Name { get; set; } = null!;\n\n    public static readonly string[] NameChoices = new[] {"Kurt", "Krist", "David", "Pat"};\n\n    [TextPrompt] public OtherAutoSpectreFormClass ChildForm { get; set; } = new();\n\n    [TextPrompt]\n    public IReadOnlyList<OtherAutoSpectreFormClass> Investors { get; set; } = new List<OtherAutoSpectreFormClass>();\n\n    [TaskStep(UseStatus = true, StatusText = "This will take a while", SpinnerType = SpinnerKnownTypes.Christmas,\n        SpinnerStyle = "green on yellow")]\n    public void DoSomething(IAnsiConsole console)\n    {\n        console.Write(new FigletText("A figlet text is needed"));\n    }\n\n    [SelectPrompt(WrapAround = true, PageSize = 3,\n        MoreChoicesText = "Press down to see more choices", HighlightStyle = "purple")]\n    //[SelectPrompt(Source = nameof(ItemSource))]\n    public string Item { get; set; } = string.Empty;\n\n    public List<string> ItemSource { get; } = new() {"Alpha", "Bravo", "Charlie"};\n\n    [SelectPrompt(InstructionsText = "Check the special items you want to select")]\n    //[SelectPrompt(Converter = nameof(SpecialProjectionConverter))]\n    public List<int> SpecialProjection { get; set; } = new();\n\n    public string SpecialProjectionConverter(int source) => $"Number {source}";\n    public List<int> SpecialProjectionSource { get; set; } = new() {1, 2, 3, 4};\n\n    [TextPrompt]\n    // [TextPrompt(Validator = nameof(EnterYearValidator))]\n    public int EnterYear { get; set; }\n\n    public string? EnterYearValidator(int year)\n    {\n        return year <= DateTime.Now.Year ? null : "Year cannot be larger than current year";\n    }\n\n    [TextPrompt] public HashSet<string> Names { get; set; } = new(StringComparer.OrdinalIgnoreCase);\n\n    public string? NamesValidator(List<string> items, string newItem)\n    {\n        if (newItem == "Foobar")\n            return "Cannot be Foobar";\n\n        if (items.Contains(newItem))\n            return $"{newItem} has already been added";\n\n        return null;\n    }\n\n    [TextPrompt] public bool AddExistingName { get; set; }\n\n    [TextPrompt(Condition = nameof(AddExistingName))]\n    public string? ExistingName { get; set; }\n\n    [TextPrompt(Condition = nameof(AddExistingName), NegateCondition = true)]\n    public string? NewName { get; set; }\n}\n'})}),(0,i.jsxs)(t.p,{children:["Behind the scenes this will generate an interface factory and implentation using ",(0,i.jsx)(t.code,{children:"Spectre.Console"})," to prompt for the values."]}),(0,i.jsx)(t.h3,{id:"example-output",children:"Example output"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'/// <summary>\n/// Helps create and fill <see cref = "Example"/> with values\n/// </summary>\npublic interface IExampleSpectreFactory\n{\n    Example Get(Example destination = null);\n}\n\n/// <summary>\n/// Helps create and fill <see cref = "Example"/> with values\n/// </summary>\npublic class ExampleSpectreFactory : IExampleSpectreFactory\n{\n    public Example Get(Example destination = null)\n    {\n        IOtherAutoSpectreFormClassSpectreFactory OtherAutoSpectreFormClassSpectreFactory = new OtherAutoSpectreFormClassSpectreFactory();\n        destination ??= new Autospectre.Examples.Examples.GithubSample.Example();\n        var culture = new CultureInfo("da-DK");\n        // Prompt for values for destination.IntItems\n        {\n            List<int> items = new List<int>();\n            bool continuePrompting = true;\n            do\n            {\n                var item = AnsiConsole.Prompt(new TextPrompt<int>("Add item").WithCulture(culture));\n                items.Add(item);\n                continuePrompting = AnsiConsole.Confirm("Add more items?");\n            }\n            while (continuePrompting);\n            int[] result = items.ToArray();\n            destination.IntItems = result;\n        }\n\n        destination.FirstName = AnsiConsole.Prompt(new TextPrompt<string?>("Enter first name").AllowEmpty().WithCulture(culture).DefaultValue(destination.FirstNameDefaultValue).DefaultValueStyle("bold"));\n        destination.LeftHanded = AnsiConsole.Confirm("Enter [green]LeftHanded[/]");\n        destination.Other = AnsiConsole.Prompt(new SelectionPrompt<SomeEnum>().Title("Choose your [red]value[/]").PageSize(10).AddChoices(Enum.GetValues<SomeEnum>()));\n        destination.Password = AnsiConsole.Prompt(new TextPrompt<string?>("Enter [green]Password[/]").AllowEmpty().WithCulture(culture).Secret(\'*\'));\n        destination.Name = AnsiConsole.Prompt(new TextPrompt<string>("Enter [green]Name[/]").WithCulture(culture).AddChoices(Example.NameChoices()).ChoicesStyle("red on yellow").InvalidChoiceMessage("Must be one of the names"));\n        {\n            AnsiConsole.MarkupLine("Enter [green]ChildForm[/]");\n            var item = new Autospectre.Examples.Examples.GithubSample.OtherAutoSpectreFormClass();\n            OtherAutoSpectreFormClassSpectreFactory.Get(item);\n            destination.ChildForm = item;\n        }\n\n        // Prompt for values for destination.Investors\n        {\n            List<OtherAutoSpectreFormClass> items = new List<OtherAutoSpectreFormClass>();\n            bool continuePrompting = true;\n            do\n            {\n                {\n                    AnsiConsole.MarkupLine("Enter [green]Investors[/]");\n                    var newItem = new Autospectre.Examples.Examples.GithubSample.OtherAutoSpectreFormClass();\n                    OtherAutoSpectreFormClassSpectreFactory.Get(newItem);\n                    items.Add(newItem);\n                }\n\n                continuePrompting = AnsiConsole.Confirm("Add more items?");\n            }\n            while (continuePrompting);\n            System.Collections.Generic.IReadOnlyList<Autospectre.Examples.Examples.GithubSample.OtherAutoSpectreFormClass> result = items;\n            destination.Investors = result;\n        }\n\n        AnsiConsole.Status().SpinnerStyle("green on yellow").Spinner(Spinner.Known.Christmas).Start("This will take a while", ctx =>\n        {\n            destination.DoSomething(AnsiConsole.Console);\n        });\n        destination.Item = AnsiConsole.Prompt(new SelectionPrompt<string>().Title("Enter [green]Item[/]").PageSize(3).WrapAround(true).MoreChoicesText("Press down to see more choices").HighlightStyle("purple").AddChoices(destination.ItemSource.ToArray()));\n        destination.SpecialProjection = AnsiConsole.Prompt(new MultiSelectionPrompt<int>().Title("Enter [green]SpecialProjection[/]").UseConverter(destination.SpecialProjectionConverter).PageSize(10).InstructionsText("Check the special items you want to select").AddChoices(destination.SpecialProjectionSource.ToArray()));\n        destination.EnterYear = AnsiConsole.Prompt(new TextPrompt<int>("Enter [green]EnterYear[/]").WithCulture(culture).Validate(ctx =>\n        {\n            var result = destination.EnterYearValidator(ctx);\n            return result == null ? ValidationResult.Success() : ValidationResult.Error(result);\n        }));\n        // Prompt for values for destination.Names\n        {\n            List<string> items = new List<string>();\n            bool continuePrompting = true;\n            do\n            {\n                bool valid = false;\n                while (!valid)\n                {\n                    var item = AnsiConsole.Prompt(new TextPrompt<string>("Enter [green]Names[/]").WithCulture(culture));\n                    var validationResult = destination.NamesValidator(items, item);\n                    if (validationResult is { } error)\n                    {\n                        AnsiConsole.MarkupLine($"[red]{error}[/]");\n                        valid = false;\n                    }\n                    else\n                    {\n                        valid = true;\n                        items.Add(item);\n                    }\n                }\n\n                continuePrompting = AnsiConsole.Confirm("Add more items?");\n            }\n            while (continuePrompting);\n            System.Collections.Generic.HashSet<string> result = new System.Collections.Generic.HashSet<string>(items);\n            destination.Names = result;\n        }\n\n        destination.AddExistingName = AnsiConsole.Confirm("Enter [green]AddExistingName[/]");\n        if (destination.AddExistingName == true)\n        {\n            destination.ExistingName = AnsiConsole.Prompt(new TextPrompt<string?>("Enter [green]ExistingName[/]").AllowEmpty().WithCulture(culture));\n        }\n\n        if (destination.AddExistingName == false)\n        {\n            destination.NewName = AnsiConsole.Prompt(new TextPrompt<string?>("Enter [green]NewName[/]").AllowEmpty().WithCulture(culture));\n        }\n\n        return destination;\n    }\n}\n'})}),(0,i.jsx)(t.h3,{id:"how-to-call",children:"How to call"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"IExampleSpectreFactory formFactory = new ExampleSpectreFactory();\n            \n// The form object is initialized in the Get method\nvar form = formFactory.Get();\n\n// We pass a pre initialized form object to the get method\nvar preinitializedForm = new Example();\npreinitializedForm = formFactory.Get(preinitializedForm); \n\n// An alternative can be to use the generated extension method\n// this will initalize the factory and call the get Method\nvar form = new Example().SpectrePrompt();\n\n// If you want to dump the values to the console you can use the Dump extension method\nform.SpectreDump();\n\n"})}),(0,i.jsx)(t.h2,{id:"the-form-attribute",children:"The form attribute"}),(0,i.jsxs)(t.p,{children:["The class that you wan't populated, should be decorated with the ",(0,i.jsx)(t.code,{children:"AutoSpectreForm"})," attribute. If it has at least one valid property or method decorated with an attribute the SpectreFactory is generated."]}),(0,i.jsx)(t.h3,{id:"culture",children:"Culture"}),(0,i.jsx)(t.p,{children:"You can control the overall culture used by setting the culture property. This will be used for TextPrompts. If it's isn't set the CurrentUICulture will be used."}),(0,i.jsx)(t.h3,{id:"disabledump",children:"DisableDump"}),(0,i.jsx)(t.p,{children:"If you do want to generate the SpectreDump method, you can disable it using the DisableDump property."}),(0,i.jsx)(t.h3,{id:"inheritance",children:"Inheritance"}),(0,i.jsx)(t.p,{children:"This class can inherit from other classes that has the properties or methods decorated with attributes. It is not required that the baseclass has the AutoSpectreForm. The steps on the base class will be generated last"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"public class BaseClass \n{\n    [TextPrompt]\n    public string BaseProperty { get;set;}\n}\n\n[AutoSpectreForm]\npublic class DerivedClass : BaseClass\n{\n    [TextPrompt]\n    public string DerivedProperty { get;set;}\n}\n"})}),(0,i.jsx)(t.h3,{id:"constructor",children:"Constructor"}),(0,i.jsx)(t.p,{children:"Since version 0.5.0 the class is allowed to not have an empty constructor. But in that case the Get/GetAsync method will change to be for a passed in instance. Requirering you to new up the class before calling the Get method."}),(0,i.jsxs)(t.p,{children:["If you have multiple constructors, you can decorate the constructor intended for initalization by using the ",(0,i.jsx)(t.code,{children:"UsedConstructor"}),"attribute"]}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"public void Get(Example destination)\n"})}),(0,i.jsx)(t.p,{children:"Compared to below where destination can be preinitialized or null (in which case the result will be newed up in the call)"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"public Example Get(Example destination = null)\n"})}),(0,i.jsx)(t.h2,{id:"the-property-attributes",children:"The property attributes"}),(0,i.jsx)(t.p,{children:"These properties are applied to properties. The properties must be settable and public. The two attributes share the following Properties"}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Title (can be used to overrule the default title)"}),"\n",(0,i.jsx)(t.li,{children:"Condition (points to a property or method that returns bool to determine if the given property should be prompted for)"}),"\n",(0,i.jsx)(t.li,{children:"NegateCondition negates the condition."}),"\n"]}),(0,i.jsx)(t.h3,{id:"a-short-note-on-sources",children:"A short note on sources"}),(0,i.jsxs)(t.p,{children:["Some of the properties of the attributes are source properties. It can vary if they can point to fields, properties or methods. But a general rule is that the sources must be public and available on the ",(0,i.jsx)(t.code,{children:"AutoSpectreForm"})," decorated class."]}),(0,i.jsx)(t.h3,{id:"textpromptattribute",children:"TextPromptAttribute"}),(0,i.jsx)(t.p,{children:"This will in the end present some kind of input prompt to the user, that tries to prompt the use for the value of a given type. Per default it will try to convert a string to the given value. However if the type is bool it will produce a ConfirmationPrompt (y/n). If the type is an enum it will generate a selection prompt (but unlike using the SelectPrompt, you do not have to provide a source)."}),(0,i.jsx)(t.p,{children:"If the type is another class that has been decorated with the AutoSpectreForm attribute it will use that forms SpectreFactory to prompt for the values."}),(0,i.jsx)(t.h4,{id:"default-value",children:"Default value"}),(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Note"})," that the logic behind default value has changed. Earlier the default value was determined by the value set to a property like below:"]}),(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:'public string FirstName { get; set; } = "John Doe";'})}),(0,i.jsxs)(t.p,{children:["The new approach from version 0.7.0 is that it can be set by using the ",(0,i.jsx)(t.code,{children:"DefaultValueSource"}),". The source can be a method, property or field. And can be instance or static and must be public"]}),(0,i.jsxs)(t.p,{children:["The style can be controlled by setting the ",(0,i.jsx)(t.code,{children:"DefaultValueStyle"})]}),(0,i.jsx)(t.p,{children:"Default value is only currently used for single items (not enumerables)"}),(0,i.jsx)(t.h4,{id:"ienumerable-types",children:"IEnumerable types"}),(0,i.jsxs)(t.p,{children:["In the case of a ",(0,i.jsx)(t.code,{children:"TextPromptAttribute"})," and an ",(0,i.jsx)(t.code,{children:"IEnumerable of T"})," value. The rules above will be applied to a single type, and after collecting input the user will be prompted if the want's to continue."]}),(0,i.jsx)(t.h4,{id:"other-functionality",children:"Other functionality"}),(0,i.jsx)(t.p,{children:"The textprompt allows you to"}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["add ",(0,i.jsx)(t.a,{href:"#validation",children:"validation"}),", see more below"]}),"\n",(0,i.jsxs)(t.li,{children:["add a password prompt by using the ",(0,i.jsx)(t.code,{children:"Secret"})," and/or ",(0,i.jsx)(t.code,{children:"Mask"})," property"]}),"\n",(0,i.jsxs)(t.li,{children:["control styles with the ",(0,i.jsx)(t.code,{children:"DefaultValueStyle"}),"for the DefaultValue and ",(0,i.jsx)(t.code,{children:"PromptStyle"})," for the prompt itself. See ",(0,i.jsx)(t.a,{href:"#styles",children:"styles"}),"."]}),"\n",(0,i.jsx)(t.li,{children:"support Choices (autocomplete) with the"}),"\n"]}),(0,i.jsx)(t.h3,{id:"selectpromptattribute",children:"SelectPromptAttribute"}),(0,i.jsx)(t.p,{children:"The select prompt will adjust based on whether or not the property type is single or enumerable. If it's single select prompt will be used and other a multiselect prompt."}),(0,i.jsxs)(t.p,{children:["It's required that you define a source. Either by pointing the Source property to the name of the property or method that returns the sources to use or by convention (see ",(0,i.jsx)(t.a,{href:"#source",children:"source convention"}),")"]}),(0,i.jsxs)(t.p,{children:["Here you can use the ",(0,i.jsx)(t.a,{href:"#converter",children:"converter"})," to control how the values are presented to the user."]}),(0,i.jsx)(t.p,{children:"Other interesting attribute properties are:"}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"PageSize (defaults to 10)"}),"\n",(0,i.jsx)(t.li,{children:"WrapAround. If set to true we can cycle through the elements. If you reach the end you will go to the first element and vice versa"}),"\n",(0,i.jsx)(t.li,{children:"MoreChoicesText. If set this will be displayed when you reach the end of the page size"}),"\n",(0,i.jsx)(t.li,{children:"InstructionsText (only for multiselect). This is custom text to guide them to select mulitiple items"}),"\n",(0,i.jsx)(t.li,{children:"HighlightStyle"}),"\n"]}),(0,i.jsx)(t.h2,{id:"the-method-attribute",children:"The method attribute"}),(0,i.jsxs)(t.p,{children:["If you wan't to do something that doesn't fit prompting. Between some of the steps you can use the ",(0,i.jsx)(t.code,{children:"TaskStepAttribute"})," to do that."]}),(0,i.jsx)(t.p,{children:"The filosophy for this method is that you can do 'custom' things."}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"You can choose display whatever you may want to the user (for instance figlet text)"}),"\n",(0,i.jsx)(t.li,{children:"You can do a lookup to a database or an api."}),"\n",(0,i.jsx)(t.li,{children:"You can do some processing of the data you currently collected"}),"\n",(0,i.jsxs)(t.li,{children:["If the current supplied property step attributes does not fit your needs you do some custom prompting to set a property values. ",(0,i.jsx)(t.strong,{children:"NOTE"})," If you use the Status bar, prompting is not allowed, so it would be important that UseStatus is set to false in that case."]}),"\n"]}),(0,i.jsx)(t.h3,{id:"requirements-for-the-method",children:"Requirements for the method"}),(0,i.jsx)(t.p,{children:"It can return either void or Task. If the return type is Task this will affect how the SpectreFactory is generated. As the Get call will be async instead and be named GetAsync."}),(0,i.jsxs)(t.p,{children:["It allows you to have ",(0,i.jsx)(t.code,{children:"IAnsiConsole"})," as a parameter, and that will be injected into the method when it's called. This should make it easier to do testing if that is desired."]}),(0,i.jsx)(t.h3,{id:"title",children:"Title"}),(0,i.jsx)(t.p,{children:"Unlike the property based step attributes we will not generate a default title if the Title is not set. If you input an IAnsiConsole it might be overkill to also add a Title. But there is nothing hindering you from doing so."}),(0,i.jsx)(t.h3,{id:"status-bar",children:"Status bar"}),(0,i.jsxs)(t.p,{children:["You can control whether or not you want a status bar(spinner) to run when the method is called. This is done by setting the ",(0,i.jsx)(t.code,{children:"UseStatus"})," property to true and adding text to the ",(0,i.jsx)(t.code,{children:"StatusText"})," property. Both are required. The choice was that it was more intuitive that the status will be displayed by having two properties instead of StatusText being optional. You can control the spinner type and style by using the ",(0,i.jsx)(t.code,{children:"SpinnerType"})," and ",(0,i.jsx)(t.code,{children:"SpinnerStyle"})," properties."]}),(0,i.jsxs)(t.p,{children:["The spinner type is set by using the ",(0,i.jsx)(t.code,{children:"SpinnerKnownTypes"})," this has been generated from the KnownTypes. Custom spinner types are not possible. Alternatively you can generate the status inside the method, and thereby allowing you all the flexibility you want."]}),(0,i.jsx)(t.h2,{id:"collections-strategy",children:"Collections strategy"}),(0,i.jsx)(t.p,{children:'When requesting input for a collection we will often work with a List of T and converted it to the type of the property. Most cases should be covered. But here is a short list of some of the "conversions" behind the scenes.'}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Array will result in a ToList()"}),"\n",(0,i.jsx)(t.li,{children:"HashSet will be initalized with new HashSet of T"}),"\n",(0,i.jsx)(t.li,{children:"Immutable collection types will append ToImmutable{Type}()"}),"\n",(0,i.jsxs)(t.li,{children:["Interfaces like ",(0,i.jsx)(t.code,{children:"IList of T"})," ",(0,i.jsx)(t.code,{children:"ICollection of T"})," ",(0,i.jsx)(t.code,{children:"IEnumerable of T"})," ",(0,i.jsx)(t.code,{children:"IReadOnlyCollection of T"})," ",(0,i.jsx)(t.code,{children:"IReadOnlyList of T"})," have their values directly set as ",(0,i.jsx)(t.code,{children:"List of T"})," inherit directly from them"]}),"\n"]}),(0,i.jsx)(t.h3,{id:"example",children:"Example"}),(0,i.jsx)(t.h4,{id:"code",children:"Code"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'[AutoSpectreForm]\npublic class CollectionSample\n{\n\n    [SelectPrompt(Source = nameof(Items), Title = "Select multiple items")]\n    public IReadOnlyList<string> Multiselect { get; set; }\n\n    [SelectPrompt(Source = nameof(Items))]\n    public string[] ArrayMultiSelect { get; set; } = Array.Empty<string>();\n\n    [SelectPrompt(Source = nameof(Items))]\n    public ImmutableArray<string> ArrayMultiSelectMultiple { get; set; }\n\n    [SelectPrompt(Source = nameof(Numbers))]\n    public List<int> ListNumbers { get; set; } = new List<int>();\n\n    public int[] Numbers { get; } = new[] {1, 2, 3};\n    \n    public List<string> Items { get; } = new List<string>() { "Alpha", "Bravo", "Charlie" };\n}\n'})}),(0,i.jsx)(t.h4,{id:"generated",children:"Generated"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'public interface ICollectionSampleSpectreFactory\n{\n    CollectionSample Get(CollectionSample destination = null);\n}\n\npublic class CollectionSampleSpectreFactory : ICollectionSampleSpectreFactory\n{\n    public CollectionSample Get(CollectionSample destination = null)\n    {\n        destination ??= new Test.CollectionSample();\n        destination.Multiselect = AnsiConsole.Prompt(new MultiSelectionPrompt<string>().Title("Select multiple items").PageSize(10).AddChoices(destination.Items.ToArray()));\n        destination.ArrayMultiSelect = AnsiConsole.Prompt(new MultiSelectionPrompt<string>().Title("Enter [green]ArrayMultiSelect[/]").PageSize(10).AddChoices(destination.Items.ToArray())).ToArray();\n        destination.ArrayMultiSelectMultiple = AnsiConsole.Prompt(new MultiSelectionPrompt<string>().Title("Enter [green]ArrayMultiSelectMultiple[/]").PageSize(10).AddChoices(destination.Items.ToArray())).ToImmutableArray();\n        destination.ListNumbers = AnsiConsole.Prompt(new MultiSelectionPrompt<int>().Title("Enter [green]ListNumbers[/]").PageSize(10).AddChoices(destination.Numbers.ToArray()));\n        return destination;\n    }\n}\n'})}),(0,i.jsx)(t.h2,{id:"converter",children:"Converter"}),(0,i.jsx)(t.p,{children:"You can add a converter method that will transform a given class to a string. This can be used when the attribute is SelectPrompt to give a string representation of a class. Currently the converter\nmust be a method on the class with the [AutoSpectreForm] attribute on and it must be at least public or internal. The method should take the given type as input parameter and return a string."}),(0,i.jsx)(t.h3,{id:"example-1",children:"Example"}),(0,i.jsx)(t.h4,{id:"code-1",children:"Code"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'public record Person(string FirstName, string LastName);\n\n[AutoSpectreForm]\npublic class ConverterForms\n{\n    [SelectPrompt(Title = "Select person", Source = nameof(GetPersons), Converter = nameof(PersonToString))]\n    public Person? Person { get; set; }\n\n    [SelectPrompt(Title = "Select persons", Source = nameof(GetPersons), Converter = nameof(PersonToString))] \n    public List<Person> Persons { get; set; } = new List<Person>();\n    \n    public string PersonToString(Person person) => $"{person.FirstName} {person.LastName}";\n    \n    public IEnumerable<Person> GetPersons()\n    {\n        yield return new Person("John", "Doe");\n        yield return new Person("Jane", "Doe");\n        yield return new Person("John", "Smith");\n        yield return new Person("Jane", "Smith");\n    }\n}\n'})}),(0,i.jsx)(t.h4,{id:"generated-1",children:"Generated"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'public class ConverterFormsSpectreFactory : IConverterFormsSpectreFactory\n{\n    public ConverterForms Get(ConverterForms destination = null)\n    {\n        destination ??= new ConsoleApp1.ConverterForms();\n        destination.Person = AnsiConsole.Prompt(new SelectionPrompt<ConsoleApp1.Person?>().Title("Select person").UseConverter(destination.PersonToString).PageSize(10).AddChoices(destination.GetPersons().ToArray()));\n        destination.Persons = AnsiConsole.Prompt(new MultiSelectionPrompt<ConsoleApp1.Person>().Title("Select persons").UseConverter(destination.PersonToString).PageSize(10).AddChoices(destination.GetPersons().ToArray()));\n        return destination;\n    }\n}\n'})}),(0,i.jsx)(t.h2,{id:"validation",children:"Validation"}),(0,i.jsxs)(t.p,{children:["You can define validation by using the ",(0,i.jsx)(t.code,{children:"Validator"})," property on the ",(0,i.jsx)(t.code,{children:"TextPromptAttribute"})," or by following the {PropertyName}Validator convention."]}),(0,i.jsxs)(t.p,{children:["The method being pointed to should return a nullable string. If validation is succesfull ",(0,i.jsx)(t.code,{children:"null"})," should be returned, otherwise the validation error text message should be returned."]}),(0,i.jsx)(t.p,{children:"Based on the return type there are two types of parameters needed"}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Single property. It's expected that the method has one parameter that is the same as the property"}),"\n",(0,i.jsx)(t.li,{children:"Enumerable property. It's expected that the first parameter is an IEnumerable of the property type and the second parameter is the type"}),"\n"]}),(0,i.jsx)(t.p,{children:"The method pointed to must be public, but can be instance and static."}),(0,i.jsx)(t.h3,{id:"example-2",children:"Example"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'[TextPrompt(Validator = nameof(ValidateAge))]\npublic int Age { get; set; }\n\n[TextPrompt()]\npublic int[] Ages { get; set; } = Array.Empty<int>();\n\npublic string? AgesValidator(List<int> items, int item)\n{\n    if (ValidateAge(item) is { } error)\n        return error;\n    \n    if (items?.Contains(item) == true)\n    {\n        return $"{item} allready added";\n    }\n\n    return null;\n}\n\npublic string? ValidateAge(int age)\n{\n    return age >= 18 ? null : "Age must be at least 18";\n}\n'})}),(0,i.jsx)(t.h3,{id:"generated-2",children:"Generated"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'destination.Age = AnsiConsole.Prompt(new TextPrompt<int>("Enter [green]Age[/]").Validate(\nctx =>\n{\n    var result = destination.ValidateAge(ctx);\n    return result == null ? ValidationResult.Success() : ValidationResult.Error(result);\n}));\n// Prompt for values for destination.Ages\n{\n    List<int> items = new List<int>();\n    bool continuePrompting = true;\n    do\n    {\n        bool valid = false;\n        while (!valid)\n        {\n            var item = AnsiConsole.Prompt(new TextPrompt<int>("Enter [green]Ages[/]"));\n            var validationResult = destination.AgesValidator(items, item);\n            if (validationResult is { } error)\n            {\n                AnsiConsole.MarkupLine($"[red]{error}[/]");\n                valid = false;\n            }\n            else\n            {\n                valid = true;\n                items.Add(item);\n            }\n        }\n\n        continuePrompting = AnsiConsole.Confirm("Add more items?");\n    }\n    while (continuePrompting);\n    int[] result = items.ToArray();\n    destination.Ages = result;\n}\n'})}),(0,i.jsx)(t.h2,{id:"choices",children:"Choices"}),(0,i.jsxs)(t.p,{children:["You can define choices for a property by using the ",(0,i.jsx)(t.code,{children:"ChoicesSource"})," property or by following the {PropertyName}Choices convention. The source can be a property, method (no parameters) or field that returns the singular type of the property."]}),(0,i.jsxs)(t.p,{children:["The choices are autocomplete and will be displayed in the prompt. The style of how they are displayed can be controlled through the ",(0,i.jsx)(t.code,{children:"ChoicesStyle"})," prpoerty. When the user types something that is not in the choices, an invalid text will be displayed (this can be overloaded with ",(0,i.jsx)(t.code,{children:"ChoicesInvalidText"}),")."]}),(0,i.jsx)(t.h3,{id:"example-3",children:"Example"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'[TextPrompt(\n    ChoicesSource = nameof(NameChoices), \n    ChoicesStyle = "red on yellow",ChoicesInvalidText = "Must be one of the names")]\npublic string Name { get; set; } = null!;\n\npublic static readonly string[] NameChoices = new[] {"Kurt", "Krist", "David", "Pat"};\n'})}),(0,i.jsx)(t.h3,{id:"generated-3",children:"Generated"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'destination.Name = AnsiConsole.Prompt(\n    new TextPrompt<string>("Enter [green]Name[/]")\n    .WithCulture(culture)\n    .AddChoices(Example.NameChoices)\n    .ChoicesStyle("red on yellow")\n    .InvalidChoiceMessage("Must be one of the names"));\n'})}),(0,i.jsx)(t.h2,{id:"type-initialization",children:"Type initialization"}),(0,i.jsx)(t.p,{children:"If you have a property type that is another form. For instance"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"[AutoSpectreForm]\npublic class MainForm \n{\n    [TextPrompt]\n    public OtherForm ChildForm { get; set; }\n}\n\n[AutoSpectreForm]\npublic class OtherForm\n{\n    \n    public OtherForm(string title)\n    {\n\n    }\n\n    ...\n}\n"})}),(0,i.jsxs)(t.p,{children:["If the constructor of the other type is not empty (no parameters), you will get an error. This can however be amended by using the ",(0,i.jsx)(t.code,{children:"TypeInitalizer"})," and point it to a method that return the type you want to initalize. The method pointing to should be public or internal and should return the given type and not have any parameters."]}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'...\n\n[TextPrompt(TypeInitializer = nameof(InitializeChildForm))]\npublic OtherForm ChildForm { get;set; }\n\npublic OtherForm InitializeChildForm() => new("Some title");\n\n...\n'})}),(0,i.jsx)(t.p,{children:"Like in other scenarios this can also be achieved by convention. This is done by naming the method Init{TypeName} and have the correct signature."}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'## Styles\n\nThere are different properties to control the style. We won\'t go into detail here but we take a string as input and try to evaluate the style. If it can\'t be parsed an error will be outputted in the build log(since it\'s a source generator it will often first appear after a build).\n\nStyles can be, in very rough terms, [colors](https://spectreconsole.net/appendix/colors) or [styles](https://spectreconsole.net/appendix/styles) and used in different combinations. Try them out, you will be "told" if it\'s not allowed by the AutoSpectre SourceGenerator. :)\n\n* Red\n* Green slowblink\n* Red on white (red foreground on white background)\n* italic blue on yellow\n\n## Conditions\n\nUsing the `Condition` you can instruct whether prompting should occur for a given property. The condition should point to either a public bool property or a public method with no parameters returning bool. You can negate this by using the `NegateCondition` property.\n\n### Example\n\n```csharp\n[AutoSpectreForm]\npublic class ConditionSampleForm\n{\n    [TextPrompt]\n    public bool AskFriendlyCondition { get; set; }\n    \n    [TextPrompt(Title ="Please sir what is your name?")]\n    public string AskFriendly { get; set; }\n    \n    [TextPrompt(Title = "What is your #!^$ name", Condition = nameof(AskFriendlyCondition), NegateCondition = true)]\n    public string AskHostile { get; set; }\n}\n'})}),(0,i.jsx)(t.h3,{id:"generated-4",children:"Generated"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'destination.AskFriendlyCondition = AnsiConsole.Confirm("Enter [green]AskFriendlyCondition[/]");\nif (destination.AskFriendlyCondition == true)\n{\n    destination.AskFriendly = AnsiConsole.Prompt(new TextPrompt<string>("Please sir what is your name?"));\n}\n\nif (destination.AskFriendlyCondition == false)\n{\n    destination.AskHostile = AnsiConsole.Prompt(new TextPrompt<string>("What is your #!^$ name"));\n}\n'})}),(0,i.jsx)(t.h2,{id:"conventions",children:"Conventions"}),(0,i.jsx)(t.p,{children:"The following conventions come into play"}),(0,i.jsx)(t.h3,{id:"source",children:"Source"}),(0,i.jsx)(t.p,{children:"You can leave out the Source in the SelectPromptAttribute if you have a property or method that is named {NameOfProperty}Source and have the correct structure ( No input parameters and returns an enumerable of the type of the given property)"}),(0,i.jsx)(t.h4,{id:"example-4",children:"Example"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'[SelectPrompt]\npublic string Name { get; set; }\n\npublic IEnumerable<string> NameSource()\n{\n    yield return "John Doe";\n    yield return "Jane Doe";\n    yield return "John Smith";\n}\n'})}),(0,i.jsx)(t.h3,{id:"converter-1",children:"Converter"}),(0,i.jsxs)(t.p,{children:["You can also leave out the ",(0,i.jsx)(t.code,{children:"Converter"})," in the ",(0,i.jsx)(t.code,{children:"AskAttribute"})," if you have a method with the name {NameOfProperty}Converter and the correct structure (One parameter of the same type as the property and returning a string)"]}),(0,i.jsx)(t.h4,{id:"example-5",children:"Example"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'[SelectPrompt(AskType = AskType.Selection)]\npublic FullName Name { get; set; }\n\npublic string NameConverter(FullName name) => $"{name.FirstName} {name.LastName}";\n'})}),(0,i.jsx)(t.h3,{id:"validation-1",children:"Validation"}),(0,i.jsxs)(t.p,{children:["It's possible to leave out the ",(0,i.jsx)(t.code,{children:"Validator"})," in the ",(0,i.jsx)(t.code,{children:"TextPromptAttribute"})," if you have a method with the name {NameOfProperty}Validator and the correct structure (see the part about Validation)"]}),(0,i.jsx)(t.h4,{id:"example-6",children:"Example"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:'[TextPrompt]\npublic int Age {get;set;}\n\npublic string? AgeValidator(int age)\n{\n    return age >= 18 ? null : "Age must be at least 18";\n}\n'})}),(0,i.jsx)(t.h3,{id:"condition",children:"Condition"}),(0,i.jsxs)(t.p,{children:["It's possible to leave out the ",(0,i.jsx)(t.code,{children:"Condition"})," in a prompt attribute if you have a method with no parameters returning bool or a property returning bool that matches {NameOfProperty}Condition. If you want to negate this you will still need to provide the ",(0,i.jsx)(t.code,{children:"NegateCondition"})," manually."]}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",children:"[TextPrompt]\npublic string FirstName { get; set; }\n\npublic bool FirstNameCondition => true;\n\n[TextPrompt(NegateCondition = true)]\npublic string NegatePrompt { get; set; }\n\npublic bool NegatePromptCondition => false;\n"})})]}),"\n",(0,i.jsx)(t.h3,{id:"about",children:"About"}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"Generating prompt to input values for a console application."})}),"\n",(0,i.jsx)(t.h2,{id:"how-to-use",children:"How to use"}),"\n",(0,i.jsx)(t.h3,{id:"example-source-csproj-source-files",children:"Example (source csproj, source files)"}),"\n",(0,i.jsxs)(s.A,{children:[(0,i.jsxs)(a.A,{value:"csproj",label:"CSharp Project",children:[(0,i.jsxs)(t.p,{children:["This is the CSharp Project that references ",(0,i.jsx)(t.strong,{children:"AutoSpectre"})]}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",metastring:"showLineNumbers {12}",children:'<Project Sdk="Microsoft.NET.Sdk">\n\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>net8.0</TargetFramework>\n    <ImplicitUsings>enable</ImplicitUsings>\n    <Nullable>enable</Nullable>\n  </PropertyGroup>\n\n  <ItemGroup>\n    <PackageReference Include="AutoSpectre" Version="0.8.1" />\n    <PackageReference Include="AutoSpectre.SourceGeneration" Version="0.8.1" />\n  </ItemGroup>\n\t<PropertyGroup>\n\t\t<EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n\t\t<CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n\t</PropertyGroup>\n</Project>\n\n'})})]}),(0,i.jsxs)(a.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\AutoSpectre\\src\\ReadData\\Program.cs",label:"Program.cs",children:[(0,i.jsxs)(t.p,{children:["This is the use of ",(0,i.jsx)(t.strong,{children:"AutoSpectre"})," in ",(0,i.jsx)(t.em,{children:"Program.cs"})]}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'using ReadData;\nConsole.WriteLine("Hello, World!");\n\nIReadPersonSpectreFactory factory = new ReadPersonSpectreFactory();\nvar person = factory.Get();\n//Console.WriteLine($"Hello, {person.FirstName} {person.LastName}!");\nperson.SpectreDump();\n\n'})})]}),(0,i.jsxs)(a.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\AutoSpectre\\src\\ReadData\\ReadPerson.cs",label:"ReadPerson.cs",children:[(0,i.jsxs)(t.p,{children:["This is the use of ",(0,i.jsx)(t.strong,{children:"AutoSpectre"})," in ",(0,i.jsx)(t.em,{children:"ReadPerson.cs"})]}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'\nusing AutoSpectre;\n\nnamespace ReadData;\n[AutoSpectreForm()]\npublic class ReadPerson\n{\n\n    [TextPrompt(Title = "Enter first name", DefaultValueStyle = "bold",\n        DefaultValueSource = nameof(FirstNameDefaultValue))]\n    public string? FirstName { get; set; }\n    public readonly string? FirstNameDefaultValue = "Andrei";\n\n    [TextPrompt(PromptStyle = "green bold")]\n    public string? LastName { get; set; }\n    public readonly string? LastNameDefaultValue = "Ignat";\n\n\n}\n\n'})})]})]}),"\n",(0,i.jsx)(t.h3,{id:"generated-files",children:"Generated Files"}),"\n",(0,i.jsx)(t.p,{children:"Those are taken from $(BaseIntermediateOutputPath)\\GX"}),"\n",(0,i.jsx)(s.A,{children:(0,i.jsx)(a.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\AutoSpectre\\src\\ReadData\\obj\\GX\\AutoSpectre.SourceGeneration\\AutoSpectre.SourceGeneration.IncrementAutoSpectreGenerator\\ReadData.ReadPersonAutoSpectreFactory.g.cs",label:"ReadData.ReadPersonAutoSpectreFactory.g.cs",children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'using Spectre.Console;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Collections.Immutable;\nusing System.Globalization;\nusing AutoSpectre.Extensions;\nusing Spectre.Console.Rendering;\n\nnamespace ReadData\n{\n    /// <summary>\n    /// Helps create and fill <see cref = "ReadPerson"/> with values\n    /// </summary>\n    public interface IReadPersonSpectreFactory\n    {\n        ReadPerson Get(ReadPerson destination = null);\n    }\n\n    /// <summary>\n    /// Helps create and fill <see cref = "ReadPerson"/> with values\n    /// </summary>\n    public class ReadPersonSpectreFactory : IReadPersonSpectreFactory\n    {\n        public ReadPerson Get(ReadPerson destination = null)\n        {\n            destination ??= new ReadData.ReadPerson();\n            var culture = CultureInfo.CurrentUICulture;\n            destination.FirstName = AnsiConsole.Prompt(new TextPrompt<string?>("Enter first name").AllowEmpty().WithCulture(culture).DefaultValue(destination.FirstNameDefaultValue).DefaultValueStyle("bold"));\n            destination.LastName = AnsiConsole.Prompt(new TextPrompt<string?>("Enter [green]LastName[/]").AllowEmpty().WithCulture(culture).DefaultValue(destination.LastNameDefaultValue).PromptStyle("green bold"));\n            return destination;\n        }\n    }\n\n    public static class ReadPersonSpectreFactoryExtensions\n    {\n        public static ReadPerson SpectrePrompt(this ReadPerson source)\n        {\n            ReadPersonSpectreFactory factory = new();\n            return factory.Get(source);\n        }\n\n        /// <summary>\n        /// Returns data as a IRenderable\n        /// Experimental. Might break\n        /// </summary>\n        /// <returns></returns>\n        public static IRenderable GenerateTable(this ReadPerson source)\n        {\n            var table = new Table();\n            table.AddColumn(new TableColumn("Name"));\n            table.AddColumn(new TableColumn("Value"));\n            table.AddRow(new Markup("FirstName"), new Markup(source.FirstName?.ToString()));\n            table.AddRow(new Markup("LastName"), new Markup(source.LastName?.ToString()));\n            return table;\n        }\n\n        /// <summary>\n        /// Renders the table\n        /// Experimental. Might break\n        /// </summary>\n        /// <returns></returns>\n        public static void SpectreDump(this ReadPerson source)\n        {\n            AnsiConsole.Write(source.GenerateTable());\n        }\n    }\n}\n'})})})}),"\n",(0,i.jsx)(t.h2,{id:"useful",children:"Useful"}),"\n",(0,i.jsx)(t.h3,{id:"download-example-net--c-",children:"Download Example (.NET  C# )"}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsx)(t.p,{children:(0,i.jsx)(t.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(21077).A+"",children:"Download Example project AutoSpectre "})})}),"\n",(0,i.jsx)(t.h3,{id:"share-autospectre",children:"Share AutoSpectre"}),"\n",(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FAutoSpectre&quote=AutoSpectre",title:"Share on Facebook",target:"_blank",children:"Share on Facebook"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FAutoSpectre&text=AutoSpectre:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FAutoSpectre",target:"_blank",title:"Tweet",children:"Share in Twitter"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FAutoSpectre&title=AutoSpectre",target:"_blank",title:"Submit to Reddit",children:"Share on Reddit"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FAutoSpectre&title=AutoSpectre&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FAutoSpectre",target:"_blank",title:"Share on LinkedIn",children:"Share on Linkedin"})})]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.a,{href:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/AutoSpectre",children:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/AutoSpectre"})}),"\n",(0,i.jsx)(t.h3,{id:"in-the-same-category-enhancementproject---17-other-generators",children:"In the same category (EnhancementProject) - 17 other generators"}),"\n",(0,i.jsx)(t.h4,{id:"autoinvokegenerator",children:(0,i.jsx)(t.a,{href:"/docs/AutoInvoke.Generator",children:"AutoInvoke.Generator"})}),"\n",(0,i.jsx)(t.h4,{id:"buildinfo",children:(0,i.jsx)(t.a,{href:"/docs/BuildInfo",children:"BuildInfo"})}),"\n",(0,i.jsx)(t.h4,{id:"commandline",children:(0,i.jsx)(t.a,{href:"/docs/CommandLine",children:"CommandLine"})}),"\n",(0,i.jsx)(t.h4,{id:"credfetoversioninformationgenerator",children:(0,i.jsx)(t.a,{href:"/docs/Credfeto.Version.Information.Generator",children:"Credfeto.Version.Information.Generator"})}),"\n",(0,i.jsx)(t.h4,{id:"larcanumgitinfo",children:(0,i.jsx)(t.a,{href:"/docs/Larcanum.GitInfo",children:"Larcanum.GitInfo"})}),"\n",(0,i.jsx)(t.h4,{id:"linqgengenerator",children:(0,i.jsx)(t.a,{href:"/docs/LinqGen.Generator",children:"LinqGen.Generator"})}),"\n",(0,i.jsx)(t.h4,{id:"peksprobuildinformationgenerator",children:(0,i.jsx)(t.a,{href:"/docs/Pekspro.BuildInformationGenerator",children:"Pekspro.BuildInformationGenerator"})}),"\n",(0,i.jsx)(t.h4,{id:"plantumlclassdiagramgenerator",children:(0,i.jsx)(t.a,{href:"/docs/PlantUmlClassDiagramGenerator",children:"PlantUmlClassDiagramGenerator"})}),"\n",(0,i.jsx)(t.h4,{id:"rscg_ams",children:(0,i.jsx)(t.a,{href:"/docs/RSCG_AMS",children:"RSCG_AMS"})}),"\n",(0,i.jsx)(t.h4,{id:"rscg_exportdiagram",children:(0,i.jsx)(t.a,{href:"/docs/RSCG_ExportDiagram",children:"RSCG_ExportDiagram"})}),"\n",(0,i.jsx)(t.h4,{id:"rscg_functionswithdi",children:(0,i.jsx)(t.a,{href:"/docs/RSCG_FunctionsWithDI",children:"RSCG_FunctionsWithDI"})}),"\n",(0,i.jsx)(t.h4,{id:"rscg_namegenerator",children:(0,i.jsx)(t.a,{href:"/docs/RSCG_NameGenerator",children:"RSCG_NameGenerator"})}),"\n",(0,i.jsx)(t.h4,{id:"rscg_timebombcomment",children:(0,i.jsx)(t.a,{href:"/docs/RSCG_TimeBombComment",children:"RSCG_TimeBombComment"})}),"\n",(0,i.jsx)(t.h4,{id:"rscg_wait",children:(0,i.jsx)(t.a,{href:"/docs/RSCG_Wait",children:"RSCG_Wait"})}),"\n",(0,i.jsx)(t.h4,{id:"thisassembly",children:(0,i.jsx)(t.a,{href:"/docs/ThisAssembly",children:"ThisAssembly"})}),"\n",(0,i.jsx)(t.h4,{id:"thisassemblyconstants",children:(0,i.jsx)(t.a,{href:"/docs/ThisAssembly.Constants",children:"ThisAssembly.Constants"})}),"\n",(0,i.jsx)(t.h4,{id:"thisassemblymetadata",children:(0,i.jsx)(t.a,{href:"/docs/ThisAssembly.Metadata",children:"ThisAssembly.Metadata"})})]})}function m(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);