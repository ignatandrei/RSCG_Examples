"use strict";(self.webpackChunkrscg_examples=self.webpackChunkrscg_examples||[]).push([[50545],{9803:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>h,contentTitle:()=>d,default:()=>m,frontMatter:()=>c,metadata:()=>i,toc:()=>g});const i=JSON.parse('{"id":"RSCG-Examples/Coplt.Dropping","title":"155 - Coplt.Dropping","description":"Generating disposable","source":"@site/docs/RSCG-Examples/Coplt.Dropping.md","sourceDirName":"RSCG-Examples","slug":"/Coplt.Dropping","permalink":"/RSCG_Examples/v2/docs/Coplt.Dropping","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1550,"frontMatter":{"sidebar_position":1550,"title":"155 - Coplt.Dropping","description":"Generating disposable","slug":"/Coplt.Dropping"},"sidebar":"tutorialSidebar","previous":{"title":"154 - Fluentify","permalink":"/RSCG_Examples/v2/docs/Fluentify"},"next":{"title":"156 - RSCG_NameGenerator","permalink":"/RSCG_Examples/v2/docs/RSCG_NameGenerator"}}');var t=n(74848),o=n(28453),r=n(11470),l=n(19365),p=n(14252),a=n(98293);const c={sidebar_position:1550,title:"155 - Coplt.Dropping",description:"Generating disposable",slug:"/Coplt.Dropping"},d="Coplt.Dropping  by 2A5F",h={},g=[{value:"NuGet / site data",id:"nuget--site-data",level:2},{value:"Details",id:"details",level:2},{value:"Info",id:"info",level:3},{value:"Original Readme",id:"original-readme",level:3},{value:"Example",id:"example",level:2},{value:"About",id:"about",level:3},{value:"How to use",id:"how-to-use",level:2},{value:"Example (source csproj, source files)",id:"example-source-csproj-source-files",level:3},{value:"Generated Files",id:"generated-files",level:3},{value:"Useful",id:"useful",level:2},{value:"Download Example (.NET  C#)",id:"download-example-net--c",level:3},{value:"Share Coplt.Dropping",id:"share-copltdropping",level:3},...a.RM];function u(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Details:i}=s;return i||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"copltdropping--by-2a5f",children:"Coplt.Dropping  by 2A5F"})}),"\n",(0,t.jsx)(p.A,{toc:g}),"\n",(0,t.jsx)(s.h2,{id:"nuget--site-data",children:"NuGet / site data"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://www.nuget.org/packages/Coplt.Dropping/",children:(0,t.jsx)(s.img,{src:"https://img.shields.io/nuget/dt/Coplt.Dropping?label=Coplt.Dropping",alt:"Nuget"})}),"\n",(0,t.jsx)(s.a,{href:"https://github.com/2A5F/Coplt.Dropping",children:(0,t.jsx)(s.img,{src:"https://img.shields.io/github/last-commit/2A5F/Coplt.Dropping?label=updated",alt:"GitHub last commit"})}),"\n",(0,t.jsx)(s.img,{src:"https://img.shields.io/github/stars/2A5F/Coplt.Dropping?style=social",alt:"GitHub Repo stars"})]}),"\n",(0,t.jsx)(s.h2,{id:"details",children:"Details"}),"\n",(0,t.jsx)(s.h3,{id:"info",children:"Info"}),"\n",(0,t.jsxs)(s.admonition,{type:"info",children:[(0,t.jsxs)(s.p,{children:["Name: ",(0,t.jsx)(s.strong,{children:"Coplt.Dropping"})]}),(0,t.jsx)(s.p,{children:"Auto gen dispose pattern"}),(0,t.jsx)(s.p,{children:"Author: 2A5F"}),(0,t.jsxs)(s.p,{children:["NuGet:\n",(0,t.jsx)(s.em,{children:(0,t.jsx)(s.a,{href:"https://www.nuget.org/packages/Coplt.Dropping/",children:"https://www.nuget.org/packages/Coplt.Dropping/"})})]}),(0,t.jsxs)(s.p,{children:["You can find more details at ",(0,t.jsx)(s.a,{href:"https://github.com/2A5F/Coplt.Dropping",children:"https://github.com/2A5F/Coplt.Dropping"})]}),(0,t.jsxs)(s.p,{children:["Source: ",(0,t.jsx)(s.a,{href:"https://github.com/2A5F/Coplt.Dropping",children:"https://github.com/2A5F/Coplt.Dropping"})]})]}),"\n",(0,t.jsx)(s.h3,{id:"original-readme",children:"Original Readme"}),"\n",(0,t.jsxs)(s.admonition,{type:"note",children:[(0,t.jsx)(s.h1,{id:"copltdropping",children:"Coplt.Dropping"}),(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.a,{href:"https://www.nuget.org/packages/Coplt.Dropping/",children:(0,t.jsx)(s.img,{src:"https://img.shields.io/nuget/v/Coplt.Dropping",alt:"Nuget"})}),"\n",(0,t.jsx)(s.img,{src:"https://img.shields.io/github/license/2A5F/Coplt.Dropping",alt:"MIT"})]}),(0,t.jsx)(s.p,{children:"Auto gen dispose pattern"}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Auto handle ",(0,t.jsx)(s.code,{children:"Dispose(bool dispoing)"})," pattern"]}),"\n",(0,t.jsx)(s.li,{children:"Auto handle destructor/finalizer"}),"\n",(0,t.jsx)(s.li,{children:"Allow multiple drops"}),"\n",(0,t.jsxs)(s.li,{children:["Specify the drop order ",(0,t.jsx)(s.code,{children:"[Drop(Order = X)]"})]}),"\n",(0,t.jsxs)(s.li,{children:["The first argument of ",(0,t.jsx)(s.code,{children:"Drop"})," target method can be ",(0,t.jsx)(s.code,{children:"bool disposing"})]}),"\n",(0,t.jsxs)(s.li,{children:["Mark Drop directly on fields and properties (requires target type have ",(0,t.jsx)(s.code,{children:"Dispose"})," method)"]}),"\n",(0,t.jsxs)(s.li,{children:["Dose not supported ",(0,t.jsx)(s.code,{children:"AsyncDispose"}),", too complicated, it is recommended to implement it manually"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"Drop"})," can mark on static methods, will pass ",(0,t.jsx)(s.code,{children:"this"})," on first argument, if have ",(0,t.jsx)(s.code,{children:"bool disposing"})," will be the second argument"]}),"\n"]}),(0,t.jsx)(s.h2,{id:"example",children:"Example"}),(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:"Basic usage"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-cs",children:"[Dropping]\npublic partial class Foo1\n{\n    [Drop]\n    public void Drop()\n    {\n        Console.WriteLine(1);\n    }\n}\n"})}),"\n",(0,t.jsx)(s.p,{children:"Generate output:"}),"\n",(0,t.jsx)(i,{children:(0,t.jsx)("summary",{children:"Foo1.dropping.g.cs"})}),"\n",(0,t.jsx)("br",{}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(s.h3,{id:"about",children:"About"}),"\n",(0,t.jsx)(s.admonition,{type:"note",children:(0,t.jsx)(s.p,{children:"Generating disposable"})}),"\n",(0,t.jsx)(s.h2,{id:"how-to-use",children:"How to use"}),"\n",(0,t.jsx)(s.h3,{id:"example-source-csproj-source-files",children:"Example (source csproj, source files)"}),"\n",(0,t.jsxs)(r.A,{children:[(0,t.jsxs)(l.A,{value:"csproj",label:"CSharp Project",children:[(0,t.jsxs)(s.p,{children:["This is the CSharp Project that references ",(0,t.jsx)(s.strong,{children:"Coplt.Dropping"})]}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-xml",metastring:"showLineNumbers {14}",children:'<Project Sdk="Microsoft.NET.Sdk">\n\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>net8.0</TargetFramework>\n    <ImplicitUsings>enable</ImplicitUsings>\n    <Nullable>enable</Nullable>\n  </PropertyGroup>\n\t <PropertyGroup>\n        <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n        <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n    </PropertyGroup>\n\t <ItemGroup>\n\t   <PackageReference Include="Coplt.Dropping" Version="0.5.1" OutputItemType="Analyzer" />\n\t   \n\t </ItemGroup>\n\n</Project>\n\n'})})]}),(0,t.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Coplt.Dropping\\src\\IDisp\\Program.cs",label:"Program.cs",children:[(0,t.jsxs)(s.p,{children:["This is the use of ",(0,t.jsx)(s.strong,{children:"Coplt.Dropping"})," in ",(0,t.jsx)(s.em,{children:"Program.cs"})]}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'using IDisposableGeneratorDemo;\n//https://github.com/benutomo-dev/RoslynComponents\nusing (var db = new DALDB())\n{\n    Console.WriteLine("before releasing");\n}\nConsole.WriteLine("after releasing");\n'})})]}),(0,t.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Coplt.Dropping\\src\\IDisp\\DALDB.cs",label:"DALDB.cs",children:[(0,t.jsxs)(s.p,{children:["This is the use of ",(0,t.jsx)(s.strong,{children:"Coplt.Dropping"})," in ",(0,t.jsx)(s.em,{children:"DALDB.cs"})]}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-csharp",metastring:"showLineNumbers ",children:"using Coplt.Dropping;\n\nnamespace IDisposableGeneratorDemo;\n\n[Dropping]\npartial class DALDB :IDisposable\n{\n    private ConnectionDB cn;\n    private ConnectionDB cn1;\n\n    public DALDB()\n    {\n        cn = new ConnectionDB();\n        cn1=new ConnectionDB();\n    }\n    [Drop]\n    public void Drop()\n    {\n        cn.Dispose();\n        cn1.Dispose();\n    }\n}\n\n"})})]}),(0,t.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Coplt.Dropping\\src\\IDisp\\ConnectionDB.cs",label:"ConnectionDB.cs",children:[(0,t.jsxs)(s.p,{children:["This is the use of ",(0,t.jsx)(s.strong,{children:"Coplt.Dropping"})," in ",(0,t.jsx)(s.em,{children:"ConnectionDB.cs"})]}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'namespace IDisposableGeneratorDemo;\n\nclass ConnectionDB : IDisposable\n{\n    public void Dispose()\n    {\n        Console.WriteLine("disposing connectiondb");\n    }\n}\n\n'})})]})]}),"\n",(0,t.jsx)(s.h3,{id:"generated-files",children:"Generated Files"}),"\n",(0,t.jsx)(s.p,{children:"Those are taken from $(BaseIntermediateOutputPath)\\GX"}),"\n",(0,t.jsx)(r.A,{children:(0,t.jsx)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Coplt.Dropping\\src\\IDisp\\obj\\GX\\Coplt.Dropping.Analyzers\\Coplt.Dropping.Analyzers.Generators.DroppingGenerator\\IDisposableGeneratorDemo.DALDB.dropping.g.cs",label:"IDisposableGeneratorDemo.DALDB.dropping.g.cs",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-csharp",metastring:"showLineNumbers ",children:"// <auto-generated/>\n\n#nullable enable\n\nusing Coplt.Dropping;\n\nnamespace IDisposableGeneratorDemo {\n\ninternal partial class DALDB : global::System.IDisposable\n{\n\n    protected virtual void Dispose(bool disposing)\n    {\n        if (disposing) Drop();\n    }\n\n    public void Dispose()\n    {\n        Dispose(true);\n        GC.SuppressFinalize(this);\n    }\n\n    ~DALDB()\n    {\n        Dispose(false);\n    }\n\n}\n\n} // namespace IDisposableGeneratorDemo\n\n"})})})}),"\n",(0,t.jsx)(s.h2,{id:"useful",children:"Useful"}),"\n",(0,t.jsx)(s.h3,{id:"download-example-net--c",children:"Download Example (.NET  C#)"}),"\n",(0,t.jsx)(s.admonition,{type:"tip",children:(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(70635).A+"",children:"Download Example project Coplt.Dropping "})})}),"\n",(0,t.jsx)(s.h3,{id:"share-copltdropping",children:"Share Coplt.Dropping"}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping&quote=Coplt.Dropping",title:"Share on Facebook",target:"_blank",children:"Share on Facebook"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping&text=Coplt.Dropping:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping",target:"_blank",title:"Tweet",children:"Share in Twitter"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping&title=Coplt.Dropping",target:"_blank",title:"Submit to Reddit",children:"Share on Reddit"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping&title=Coplt.Dropping&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping",target:"_blank",title:"Share on LinkedIn",children:"Share on Linkedin"})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/Coplt.Dropping",children:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/Coplt.Dropping"})}),"\n",(0,t.jsx)(s.p,{children:"aaa"}),"\n",(0,t.jsx)(a.Ay,{})]})}function m(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},70635:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/files/Coplt.Dropping-ca577e3b8aad37a16b4281176170126e.zip"},98293:(e,s,n)=>{n.d(s,{Ay:()=>l,RM:()=>o});var i=n(74848),t=n(28453);const o=[{value:"Category &quot;Disposer&quot; has the following generators:",id:"category-disposer-has-the-following-generators",level:3},{value:"See category",id:"see-category",level:3}];function r(e){const s={a:"a",h3:"h3",img:"img",p:"p",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h3,{id:"category-disposer-has-the-following-generators",children:'Category "Disposer" has the following generators:'}),"\n",(0,i.jsxs)(s.p,{children:["1 ",(0,i.jsx)(s.a,{href:"/docs/BenutomoAutomaticDisposeImplSourceGenerator",children:"BenutomoAutomaticDisposeImplSourceGenerator"})," ",(0,i.jsx)(s.a,{href:"https://www.nuget.org/packages/Benutomo.AutomaticDisposeImpl.SourceGenerator/",children:(0,i.jsx)(s.img,{src:"https://img.shields.io/nuget/dt/Benutomo.AutomaticDisposeImpl.SourceGenerator?label=Benutomo.AutomaticDisposeImpl.SourceGenerator",alt:"Nuget"})})," ",(0,i.jsx)(s.img,{src:"https://img.shields.io/github/stars/benutomo-dev/RoslynComponents?style=social",alt:"GitHub Repo stars"})," 2023-08-15"]}),"\n",(0,i.jsxs)(s.p,{children:["2 ",(0,i.jsx)(s.a,{href:"/docs/Coplt.Dropping",children:"Coplt.Dropping"})," ",(0,i.jsx)(s.a,{href:"https://www.nuget.org/packages/Coplt.Dropping/",children:(0,i.jsx)(s.img,{src:"https://img.shields.io/nuget/dt/Coplt.Dropping?label=Coplt.Dropping",alt:"Nuget"})})," ",(0,i.jsx)(s.img,{src:"https://img.shields.io/github/stars/2A5F/Coplt.Dropping?style=social",alt:"GitHub Repo stars"})," 2024-08-13"]}),"\n",(0,i.jsxs)(s.p,{children:["3 ",(0,i.jsx)(s.a,{href:"/docs/DisposableHelpers",children:"DisposableHelpers"})," ",(0,i.jsx)(s.a,{href:"https://www.nuget.org/packages/DisposableHelpers/",children:(0,i.jsx)(s.img,{src:"https://img.shields.io/nuget/dt/DisposableHelpers?label=DisposableHelpers",alt:"Nuget"})})," ",(0,i.jsx)(s.img,{src:"https://img.shields.io/github/stars/Kiryuumaru/DisposableHelpers?style=social",alt:"GitHub Repo stars"})," 2023-10-09"]}),"\n",(0,i.jsxs)(s.p,{children:["4 ",(0,i.jsx)(s.a,{href:"/docs/Disposer",children:"Disposer"})," ",(0,i.jsx)(s.a,{href:"https://www.nuget.org/packages/Disposer/",children:(0,i.jsx)(s.img,{src:"https://img.shields.io/nuget/dt/Disposer?label=Disposer",alt:"Nuget"})})," ",(0,i.jsx)(s.img,{src:"https://img.shields.io/github/stars/HakamFostok/Disposer?style=social",alt:"GitHub Repo stars"})," 2023-10-03"]}),"\n",(0,i.jsxs)(s.p,{children:["5 ",(0,i.jsx)(s.a,{href:"/docs/IDisposableGenerator",children:"IDisposableGenerator"})," ",(0,i.jsx)(s.a,{href:"https://www.nuget.org/packages/IDisposableGenerator/",children:(0,i.jsx)(s.img,{src:"https://img.shields.io/nuget/dt/IDisposableGenerator?label=IDisposableGenerator",alt:"Nuget"})})," ",(0,i.jsx)(s.img,{src:"https://img.shields.io/github/stars/Elskom/IDisposableGenerator?style=social",alt:"GitHub Repo stars"})," 2023-10-11"]}),"\n",(0,i.jsx)(s.h3,{id:"see-category",children:"See category"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"/docs/Categories/Disposer",children:"Disposer"})})]})}function l(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(r,{...e})}):r(e)}}}]);