"use strict";(self.webpackChunkrscg_examples=self.webpackChunkrscg_examples||[]).push([[94625],{18978:(e,i,n)=>{n.d(i,{Ay:()=>l,RM:()=>r});var s=n(74848),t=n(28453);const r=[{value:"Category &quot;FunctionalProgramming&quot; has the following generators:",id:"category-functionalprogramming-has-the-following-generators",level:3},{value:"See category",id:"see-category",level:3}];function a(e){const i={a:"a",h3:"h3",img:"img",p:"p",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h3,{id:"category-functionalprogramming-has-the-following-generators",children:'Category "FunctionalProgramming" has the following generators:'}),"\n",(0,s.jsxs)(i.p,{children:["1 ",(0,s.jsx)(i.a,{href:"/docs/cachesourcegenerator",children:"cachesourcegenerator"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/cachesourcegenerator/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/cachesourcegenerator?label=cachesourcegenerator",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/jeppevammenkristensen/cachesourcegenerator?style=social",alt:"GitHub Repo stars"})," 2024-02-14"]}),"\n",(0,s.jsxs)(i.p,{children:["2 ",(0,s.jsx)(i.a,{href:"/docs/dunet",children:"dunet"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/dunet/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/dunet?label=dunet",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/domn1995/dunet?style=social",alt:"GitHub Repo stars"})," 2023-04-16"]}),"\n",(0,s.jsxs)(i.p,{children:["3 ",(0,s.jsx)(i.a,{href:"/docs/Dusharp",children:"Dusharp"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/Dusharp/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/Dusharp?label=Dusharp",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/kolebynov/Dusharp?style=social",alt:"GitHub Repo stars"})," 2024-09-19"]}),"\n",(0,s.jsxs)(i.p,{children:["4 ",(0,s.jsx)(i.a,{href:"/docs/Funcky.DiscriminatedUnion",children:"Funcky.DiscriminatedUnion"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/Funcky.DiscriminatedUnion/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/Funcky.DiscriminatedUnion?label=Funcky.DiscriminatedUnion",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/polyadic/funcky-discriminated-union?style=social",alt:"GitHub Repo stars"})," 2024-01-18"]}),"\n",(0,s.jsxs)(i.p,{children:["5 ",(0,s.jsx)(i.a,{href:"/docs/FunicularSwitch",children:"FunicularSwitch"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/FunicularSwitch.Generators/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/FunicularSwitch.Generators?label=FunicularSwitch.Generators",alt:"Nuget"})}),(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/FunicularSwitch",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/FunicularSwitch?label=FunicularSwitch",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/bluehands/Funicular-Switch?style=social",alt:"GitHub Repo stars"})," 2024-02-12"]}),"\n",(0,s.jsxs)(i.p,{children:["6 ",(0,s.jsx)(i.a,{href:"/docs/N.SourceGenerators.UnionTypes",children:"N.SourceGenerators.UnionTypes"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/N.SourceGenerators.UnionTypes/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/N.SourceGenerators.UnionTypes?label=N.SourceGenerators.UnionTypes",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/Ne4to/N.SourceGenerators.UnionTypes?style=social",alt:"GitHub Repo stars"})," 2023-10-29"]}),"\n",(0,s.jsxs)(i.p,{children:["7 ",(0,s.jsx)(i.a,{href:"/docs/OneOf",children:"OneOf"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/OneOf.SourceGenerator",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/OneOf.SourceGenerator?label=OneOf.SourceGenerator",alt:"Nuget"})}),(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/OneOf/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/OneOf?label=OneOf",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/mcintyre321/OneOf?style=social",alt:"GitHub Repo stars"})," 2023-08-21"]}),"\n",(0,s.jsxs)(i.p,{children:["8 ",(0,s.jsx)(i.a,{href:"/docs/PartiallyApplied",children:"PartiallyApplied"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/PartiallyApplied/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/PartiallyApplied?label=PartiallyApplied",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/JasonBock/PartiallyApplied?style=social",alt:"GitHub Repo stars"})," 2023-04-16"]}),"\n",(0,s.jsxs)(i.p,{children:["9 ",(0,s.jsx)(i.a,{href:"/docs/polytype",children:"polytype"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/polytype/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/polytype?label=polytype",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/eiriktsarpalis/PolyType?style=social",alt:"GitHub Repo stars"})," 2024-11-04"]}),"\n",(0,s.jsxs)(i.p,{children:["10 ",(0,s.jsx)(i.a,{href:"/docs/rscg_demeter",children:"rscg_demeter"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/rscg_demeter/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/rscg_demeter?label=rscg_demeter",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/ignatandrei/rscg_demeter?style=social",alt:"GitHub Repo stars"})," 2025-03-26"]}),"\n",(0,s.jsxs)(i.p,{children:["11 ",(0,s.jsx)(i.a,{href:"/docs/rscg_queryables",children:"rscg_queryables"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/rscg_queryables/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/rscg_queryables?label=rscg_queryables",alt:"Nuget"})}),(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/rscg_queryablesCommon/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/rscg_queryablesCommon?label=rscg_queryablesCommon",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/ignatandrei/rscg_queryables?style=social",alt:"GitHub Repo stars"})," 2024-11-02"]}),"\n",(0,s.jsxs)(i.p,{children:["12 ",(0,s.jsx)(i.a,{href:"/docs/RSCG_Utils_Memo",children:"RSCG_Utils_Memo"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/rscgutils",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/rscgutils?label=rscgutils",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/ignatandrei/RSCG_Utils?style=social",alt:"GitHub Repo stars"})," 2023-08-27"]}),"\n",(0,s.jsxs)(i.p,{children:["13 ",(0,s.jsx)(i.a,{href:"/docs/Sera.Union",children:"Sera.Union"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/Sera.Union/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/Sera.Union?label=Sera.Union",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/sera-net/Sera.Union?style=social",alt:"GitHub Repo stars"})," 2024-08-26"]}),"\n",(0,s.jsxs)(i.p,{children:["14 ",(0,s.jsx)(i.a,{href:"/docs/Sundew.DiscriminatedUnions",children:"Sundew.DiscriminatedUnions"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/Sundew.DiscriminatedUnions/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/Sundew.DiscriminatedUnions?label=Sundew.DiscriminatedUnions",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/sundews/Sundew.DiscriminatedUnions?style=social",alt:"GitHub Repo stars"})," 2026-02-14"]}),"\n",(0,s.jsxs)(i.p,{children:["15 ",(0,s.jsx)(i.a,{href:"/docs/TypeUtilities",children:"TypeUtilities"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/TypeUtilities/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/TypeUtilities?label=TypeUtilities",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/DragonsLord/TypeUtilities?style=social",alt:"GitHub Repo stars"})," 2024-03-05"]}),"\n",(0,s.jsxs)(i.p,{children:["16 ",(0,s.jsx)(i.a,{href:"/docs/UnionGen",children:"UnionGen"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/UnionGen/",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/UnionGen?label=UnionGen",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/markushaslinger/union_source_generator?style=social",alt:"GitHub Repo stars"})," 2024-04-05"]}),"\n",(0,s.jsxs)(i.p,{children:["17 ",(0,s.jsx)(i.a,{href:"/docs/UnionsGenerator",children:"UnionsGenerator"})," ",(0,s.jsx)(i.a,{href:"https://www.nuget.org/packages/RhoMicro.CodeAnalysis.UnionsGenerator",children:(0,s.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/RhoMicro.CodeAnalysis.UnionsGenerator?label=RhoMicro.CodeAnalysis.UnionsGenerator",alt:"Nuget"})})," ",(0,s.jsx)(i.img,{src:"https://img.shields.io/github/stars/PaulBraetz/RhoMicro.CodeAnalysis?style=social",alt:"GitHub Repo stars"})," 2024-02-18"]}),"\n",(0,s.jsx)(i.h3,{id:"see-category",children:"See category"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.a,{href:"/docs/Categories/FunctionalProgramming",children:"FunctionalProgramming"})})]})}function l(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},54077:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>h,contentTitle:()=>u,default:()=>m,frontMatter:()=>d,metadata:()=>s,toc:()=>g});const s=JSON.parse('{"id":"RSCG-Examples/Funcky.DiscriminatedUnion","title":"98 - Funcky.DiscriminatedUnion","description":"Generating discriminated unions for C# 9.0 and above.","source":"@site/docs/RSCG-Examples/Funcky.DiscriminatedUnion.md","sourceDirName":"RSCG-Examples","slug":"/Funcky.DiscriminatedUnion","permalink":"/RSCG_Examples/v2/docs/Funcky.DiscriminatedUnion","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":980,"frontMatter":{"sidebar_position":980,"title":"98 - Funcky.DiscriminatedUnion","description":"Generating discriminated unions for C# 9.0 and above.","slug":"/Funcky.DiscriminatedUnion"},"sidebar":"tutorialSidebar","previous":{"title":"97 - DomainPrimitives","permalink":"/RSCG_Examples/v2/docs/DomainPrimitives"},"next":{"title":"99 - MakeInterface.Generator","permalink":"/RSCG_Examples/v2/docs/MakeInterface.Generator"}}');var t=n(74848),r=n(28453),a=n(11470),l=n(19365),c=n(14252),o=n(18978);const d={sidebar_position:980,title:"98 - Funcky.DiscriminatedUnion",description:"Generating discriminated unions for C# 9.0 and above.",slug:"/Funcky.DiscriminatedUnion"},u="Funcky.DiscriminatedUnion  by Polyadic",h={},g=[{value:"NuGet / site data",id:"nuget--site-data",level:2},{value:"Details",id:"details",level:2},{value:"Info",id:"info",level:3},{value:"Original Readme",id:"original-readme",level:3},{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Example",id:"example",level:2},{value:"Minimum Required Versions",id:"minimum-required-versions",level:2},{value:"Settings",id:"settings",level:2},{value:"<code>NonExhaustive</code>",id:"nonexhaustive",level:3},{value:"<code>MatchResultTypeName</code>",id:"matchresulttypename",level:3},{value:"<code>Flatten</code>",id:"flatten",level:3},{value:"<code>[JsonPolymorphic]</code>",id:"jsonpolymorphic",level:3},{value:"About",id:"about",level:3},{value:"How to use",id:"how-to-use",level:2},{value:"Example (source csproj, source files)",id:"example-source-csproj-source-files",level:3},{value:"Generated Files",id:"generated-files",level:3},{value:"Useful",id:"useful",level:2},{value:"Download Example (.NET  C#)",id:"download-example-net--c",level:3},{value:"Share Funcky.DiscriminatedUnion",id:"share-funckydiscriminatedunion",level:3},...o.RM];function p(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:s}=i;return s||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"funckydiscriminatedunion--by-polyadic",children:"Funcky.DiscriminatedUnion  by Polyadic"})}),"\n",(0,t.jsx)(c.A,{toc:g}),"\n",(0,t.jsx)(i.h2,{id:"nuget--site-data",children:"NuGet / site data"}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.a,{href:"https://www.nuget.org/packages/Funcky.DiscriminatedUnion/",children:(0,t.jsx)(i.img,{src:"https://img.shields.io/nuget/dt/Funcky.DiscriminatedUnion?label=Funcky.DiscriminatedUnion",alt:"Nuget"})}),"\n",(0,t.jsx)(i.a,{href:"https://github.com/polyadic/funcky-discriminated-union",children:(0,t.jsx)(i.img,{src:"https://img.shields.io/github/last-commit/polyadic/funcky-discriminated-union?label=updated",alt:"GitHub last commit"})}),"\n",(0,t.jsx)(i.img,{src:"https://img.shields.io/github/stars/polyadic/funcky-discriminated-union?style=social",alt:"GitHub Repo stars"})]}),"\n",(0,t.jsx)(i.h2,{id:"details",children:"Details"}),"\n",(0,t.jsx)(i.h3,{id:"info",children:"Info"}),"\n",(0,t.jsxs)(i.admonition,{type:"info",children:[(0,t.jsxs)(i.p,{children:["Name: ",(0,t.jsx)(i.strong,{children:"Funcky.DiscriminatedUnion"})]}),(0,t.jsxs)(i.p,{children:["A source generator that generates ",(0,t.jsx)(i.code,{children:"Match"})," methods for all your discriminated unions needs. \u2728"]}),(0,t.jsx)(i.p,{children:"Author: Polyadic"}),(0,t.jsxs)(i.p,{children:["NuGet:\n",(0,t.jsx)(i.em,{children:(0,t.jsx)(i.a,{href:"https://www.nuget.org/packages/Funcky.DiscriminatedUnion/",children:"https://www.nuget.org/packages/Funcky.DiscriminatedUnion/"})})]}),(0,t.jsxs)(i.p,{children:["You can find more details at ",(0,t.jsx)(i.a,{href:"https://github.com/polyadic/funcky-discriminated-union",children:"https://github.com/polyadic/funcky-discriminated-union"})]}),(0,t.jsxs)(i.p,{children:["Source: ",(0,t.jsx)(i.a,{href:"https://github.com/polyadic/funcky-discriminated-union",children:"https://github.com/polyadic/funcky-discriminated-union"})]})]}),"\n",(0,t.jsx)(i.h3,{id:"original-readme",children:"Original Readme"}),"\n",(0,t.jsxs)(i.admonition,{type:"note",children:[(0,t.jsx)(i.h1,{id:"funcky-discriminated-unions",children:"Funcky Discriminated Unions"}),(0,t.jsxs)(i.p,{children:["A source generator that generates ",(0,t.jsx)(i.code,{children:"Match"})," methods for all your discriminated unions needs. \u2728"]}),(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.a,{href:"https://www.nuget.org/packages/Funcky.DiscriminatedUnion",children:(0,t.jsx)(i.img,{src:"https://buildstats.info/nuget/Funcky.DiscriminatedUnion",alt:"NuGet package"})}),"\n",(0,t.jsx)(i.a,{href:"https://github.com/polyadic/funcky-discriminated-union/actions?query=workflow%3ABuild",children:(0,t.jsx)(i.img,{src:"https://github.com/polyadic/funcky-discriminated-union/workflows/Build/badge.svg",alt:"Build"})}),"\n",(0,t.jsx)(i.a,{href:"https://raw.githubusercontent.com/polyadic/funcky-discriminated-union/main/license-mit.txt",children:(0,t.jsx)(i.img,{src:"https://img.shields.io/badge/licence-MIT-green",alt:"Licence: MIT"})}),"\n",(0,t.jsx)(i.a,{href:"https://raw.githubusercontent.com/polyadic/funcky-discriminated-union/main/license-apache.txt",children:(0,t.jsx)(i.img,{src:"https://img.shields.io/badge/licence-Apache-green",alt:"Licence: Apache"})})]}),(0,t.jsx)(i.h2,{id:"installation",children:"Installation"}),(0,t.jsxs)(i.p,{children:["Add ",(0,t.jsx)(i.code,{children:'<ProjectReference Include="Funcky.DiscriminatedUnion" Version="..." PrivateAssets="all" />'})," to your project file."]}),(0,t.jsx)(i.h2,{id:"usage",children:"Usage"}),(0,t.jsxs)(i.p,{children:["Apply the ",(0,t.jsx)(i.code,{children:"[DiscriminatedUnion]"})," to an abstract class (or record) with nested types representing the variants."]}),(0,t.jsx)(i.h2,{id:"example",children:"Example"}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-cs",children:"using Funcky;\n\nvar result = Result<int>.Ok(42);\nvar resultOrFallback = result.Match(ok: ok => ok.Value, error: _ => 0);\n\n[DiscriminatedUnion]\npublic abstract partial record Result<T>\n    where T : notnull\n{\n    public sealed partial record Ok(T Value) : Result<T>;\n\n    public sealed partial record Error(Exception Exception) : Result<T>;\n}\n"})}),(0,t.jsx)(i.h2,{id:"minimum-required-versions",children:"Minimum Required Versions"}),(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Visual Studio 2022"}),"\n",(0,t.jsx)(i.li,{children:"Roslyn 4.0.0"}),"\n",(0,t.jsx)(i.li,{children:".NET 6"}),"\n"]}),(0,t.jsx)(i.h2,{id:"settings",children:"Settings"}),(0,t.jsx)(i.p,{children:"The attribute allows configuration of some aspects of source generation."}),(0,t.jsx)(i.h3,{id:"nonexhaustive",children:(0,t.jsx)(i.code,{children:"NonExhaustive"})}),(0,t.jsxs)(i.p,{children:["The auto-generated ",(0,t.jsx)(i.code,{children:"Match"})," and ",(0,t.jsx)(i.code,{children:"Switch"})," methods are public by default.\nWhen ",(0,t.jsx)(i.code,{children:"NonExhaustive"})," is set to ",(0,t.jsx)(i.code,{children:"true"}),", these methods are generated with ",(0,t.jsx)(i.code,{children:"internal"})," visibility instead."]}),(0,t.jsx)(i.h3,{id:"matchresulttypename",children:(0,t.jsx)(i.code,{children:"MatchResultTypeName"})}),(0,t.jsxs)(i.p,{children:["The auto-generated ",(0,t.jsx)(i.code,{children:"Match"})," method uses a generic type for the result. This type is named ",(0,t.jsx)(i.code,{children:"TResult"})," by default.\nThis can cause conflict with generic types on the discriminated union itself. Use ",(0,t.jsx)(i.code,{children:"MatchResultTypeName"})," to set a custom name for this type."]}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-cs",children:'using Funcky;\n\n[DiscriminatedUnion(MatchResultTypeName = "TMatchResult")]\npublic abstract partial record Result<TResult> { ... }\n\n// Generated code\npartial record Result<TResult>\n{\n    public abstract TMatchResult Match<TMatchResult>(...);\n\n    ...\n}\n'})}),(0,t.jsx)(i.h3,{id:"flatten",children:(0,t.jsx)(i.code,{children:"Flatten"})}),(0,t.jsxs)(i.p,{children:["The auto-generated ",(0,t.jsx)(i.code,{children:"Match"})," and ",(0,t.jsx)(i.code,{children:"Switch"})," methods only accept one level of inheritance by default.\nSet ",(0,t.jsx)(i.code,{children:"Flatten"})," to ",(0,t.jsx)(i.code,{children:"true"})," to include arbitrarily deep inherited types in these methods."]}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-cs",children:"using Funcky;\n\nSyntaxNode node = ...;\nvar nodeAsString = node.Match(\n    keyword: keyword => keyword.Value,\n    integer: integer => integer.Value.ToString(),\n    double: @double => @double.Value.ToString());\n\n[DiscriminatedUnion(Flatten = true)]\npublic abstract partial record SyntaxNode\n{\n    public sealed partial record Keyword(string Value) : SyntaxNode;\n\n    public abstract partial record Literal : SyntaxNode;\n\n    public abstract partial record Number : Literal;\n\n    public sealed partial record Integer(int Value) : Number;\n\n    public sealed partial record Double(double Value) : Number;\n}\n"})}),(0,t.jsx)(i.h3,{id:"jsonpolymorphic",children:(0,t.jsx)(i.code,{children:"[JsonPolymorphic]"})}),(0,t.jsxs)(i.p,{children:["System.Text.Json adds support for ",(0,t.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/polymorphism",children:"serializing derived classes"})," starting with .NET 7.\nThis generator supports this feature by generating the required ",(0,t.jsx)(i.code,{children:"[JsonDerivedType]"})," attributes for you."]}),(0,t.jsxs)(i.p,{children:["All missing ",(0,t.jsx)(i.code,{children:"[JsonDerivedType]"})," attributes are generated if at least one ",(0,t.jsx)(i.code,{children:"[JsonDerivedType]"})," or ",(0,t.jsx)(i.code,{children:"[JsonPolymorphic]"}),"\nattribute is specified."]}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-cs",children:"using Funcky;\nusing System.Text.Serialization;\n\n[DiscriminatedUnion]\n[JsonPolymorphic]\npublic abstract partial record Shape\n{\n    public sealed partial record Rectangle(double Width, double Length) : Shape;\n\n    public sealed partial record Circle(double Radius) : Shape;\n\n    public sealed partial record EquilateralTriangle(double SideLength) : Shape;\n}\n"})}),(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:"Generated code"}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-cs",children:"using System.Text.Serialization;\n\n[JsonDerivedType(typeof(Rectangle), typeDiscriminator: nameof(Rectangle))]\n[JsonDerivedType(typeof(Circle), typeDiscriminator: nameof(Circle))]\n[JsonDerivedType(typeof(EquilateralTriangle), typeDiscriminator: nameof(EquilateralTriangle))]\npartial record Shape\n{\n    // ...\n}\n"})})]})]}),"\n",(0,t.jsx)(i.h3,{id:"about",children:"About"}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsx)(i.p,{children:"Generating discriminated unions for C# 9.0 and above."})}),"\n",(0,t.jsx)(i.h2,{id:"how-to-use",children:"How to use"}),"\n",(0,t.jsx)(i.h3,{id:"example-source-csproj-source-files",children:"Example (source csproj, source files)"}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsxs)(l.A,{value:"csproj",label:"CSharp Project",children:[(0,t.jsxs)(i.p,{children:["This is the CSharp Project that references ",(0,t.jsx)(i.strong,{children:"Funcky.DiscriminatedUnion"})]}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-xml",metastring:"showLineNumbers {11}",children:'<Project Sdk="Microsoft.NET.Sdk">\n\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>net8.0</TargetFramework>\n    <ImplicitUsings>enable</ImplicitUsings>\n    <Nullable>enable</Nullable>\n  </PropertyGroup>\n\n  <ItemGroup>\n    <PackageReference Include="Funcky.DiscriminatedUnion" Version="1.1.0"  />\n  </ItemGroup>\n\t<PropertyGroup>\n\t\t<EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n\t\t<CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n\t</PropertyGroup>\n</Project>\n\n'})})]}),(0,t.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\FUD\\src\\Union\\Program.cs",label:"Program.cs",children:[(0,t.jsxs)(i.p,{children:["This is the use of ",(0,t.jsx)(i.strong,{children:"Funcky.DiscriminatedUnion"})," in ",(0,t.jsx)(i.em,{children:"Program.cs"})]}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'using Union;\n\nConsole.WriteLine("Save or not");\nvar data = SaveToDatabase.Save(0);\n\nConsole.WriteLine(data.Match(ok => true, error => false));\ndata = SaveToDatabase.Save(1);\nConsole.WriteLine(data.Match(ok => true, error => false));\n\n'})})]}),(0,t.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\FUD\\src\\Union\\ResultSave.cs",label:"ResultSave.cs",children:[(0,t.jsxs)(i.p,{children:["This is the use of ",(0,t.jsx)(i.strong,{children:"Funcky.DiscriminatedUnion"})," in ",(0,t.jsx)(i.em,{children:"ResultSave.cs"})]}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-csharp",metastring:"showLineNumbers ",children:"namespace Union;\n\n[Funcky.DiscriminatedUnion]\npublic abstract partial record ResultSave\n{\n    public partial record Success(int Value): ResultSave;\n    public partial record ValidationError(string Message):ResultSave;\n\n    //public sealed partial record Ok(T Value) : ResultSave<T>;\n\n    //public sealed partial record Error(Exception Exception) : ResultSave<T>;\n}\n"})})]}),(0,t.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\FUD\\src\\Union\\SaveToDatabase.cs",label:"SaveToDatabase.cs",children:[(0,t.jsxs)(i.p,{children:["This is the use of ",(0,t.jsx)(i.strong,{children:"Funcky.DiscriminatedUnion"})," in ",(0,t.jsx)(i.em,{children:"SaveToDatabase.cs"})]}),(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace Union;\ninternal class SaveToDatabase\n{\n    public static ResultSave Save(int i)\n    {\n        if (i == 0)\n        {\n            return new ResultSave.ValidationError(" cannot save 0");\n        }\n        return new ResultSave.Success(i);\n    }\n}\n\n'})})]})]}),"\n",(0,t.jsx)(i.h3,{id:"generated-files",children:"Generated Files"}),"\n",(0,t.jsx)(i.p,{children:"Those are taken from $(BaseIntermediateOutputPath)\\GX"}),"\n",(0,t.jsxs)(a.A,{children:[(0,t.jsx)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\FUD\\src\\Union\\obj\\GX\\Funcky.DiscriminatedUnion.SourceGeneration\\Funcky.DiscriminatedUnion.SourceGeneration.DiscriminatedUnionGenerator\\DiscriminatedUnionAttribute.g.cs",label:"DiscriminatedUnionAttribute.g.cs",children:(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'// <auto-generated/>\n#nullable enable\n\nnamespace Funcky\n{\n    [global::System.Diagnostics.Conditional("Funcky_DiscriminatedUnion")]\n    [global::System.AttributeUsage(global::System.AttributeTargets.Class)]\n    internal sealed class DiscriminatedUnionAttribute : global::System.Attribute\n    {\n        /// <summary>Allow only consumers in the same assembly to use the exhaustive <c>Match</c> and <c>Switch</c> methods.</summary>\n        public bool NonExhaustive { get; set; }\n\n        /// <summary>Generates exhaustive <c>Match</c> and <c>Switch</c> methods for the entire type hierarchy.</summary>\n        public bool Flatten { get; set; }\n\n        /// <summary>Customized the generic type name used for the result in the generated <c>Match</c> methods. Defaults to <c>TResult</c>.</summary>\n        public string? MatchResultTypeName { get; set; }\n    }\n}\n\n'})})}),(0,t.jsx)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\FUD\\src\\Union\\obj\\GX\\Funcky.DiscriminatedUnion.SourceGeneration\\Funcky.DiscriminatedUnion.SourceGeneration.DiscriminatedUnionGenerator\\DiscriminatedUnionGenerator.g.cs",label:"DiscriminatedUnionGenerator.g.cs",children:(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'// <auto-generated/>\n#nullable enable\n\nnamespace Union\n{\n    partial record ResultSave\n    {\n        [global::System.CodeDom.Compiler.GeneratedCode("Funcky.DiscriminatedUnion.SourceGeneration", "1.1.0.0")]\n        public abstract TResult Match<TResult>(global::System.Func<Success, TResult> success, global::System.Func<ValidationError, TResult> validationError);\n        \n        [global::System.CodeDom.Compiler.GeneratedCode("Funcky.DiscriminatedUnion.SourceGeneration", "1.1.0.0")]\n        public abstract void Switch(global::System.Action<Success> success, global::System.Action<ValidationError> validationError);\n        \n        partial record Success\n        {\n            [global::System.CodeDom.Compiler.GeneratedCode("Funcky.DiscriminatedUnion.SourceGeneration", "1.1.0.0")]\n            public override TResult Match<TResult>(global::System.Func<Success, TResult> success, global::System.Func<ValidationError, TResult> validationError) => success(this);\n            \n            [global::System.CodeDom.Compiler.GeneratedCode("Funcky.DiscriminatedUnion.SourceGeneration", "1.1.0.0")]\n            public override void Switch(global::System.Action<Success> success, global::System.Action<ValidationError> validationError) => success(this);\n        }\n        \n        partial record ValidationError\n        {\n            [global::System.CodeDom.Compiler.GeneratedCode("Funcky.DiscriminatedUnion.SourceGeneration", "1.1.0.0")]\n            public override TResult Match<TResult>(global::System.Func<Success, TResult> success, global::System.Func<ValidationError, TResult> validationError) => validationError(this);\n            \n            [global::System.CodeDom.Compiler.GeneratedCode("Funcky.DiscriminatedUnion.SourceGeneration", "1.1.0.0")]\n            public override void Switch(global::System.Action<Success> success, global::System.Action<ValidationError> validationError) => validationError(this);\n        }\n    }\n}\n\n'})})})]}),"\n",(0,t.jsx)(i.h2,{id:"useful",children:"Useful"}),"\n",(0,t.jsx)(i.h3,{id:"download-example-net--c",children:"Download Example (.NET  C#)"}),"\n",(0,t.jsx)(i.admonition,{type:"tip",children:(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(58899).A+"",children:"Download Example project Funcky.DiscriminatedUnion "})})}),"\n",(0,t.jsx)(i.h3,{id:"share-funckydiscriminatedunion",children:"Share Funcky.DiscriminatedUnion"}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FFuncky.DiscriminatedUnion&quote=Funcky.DiscriminatedUnion",title:"Share on Facebook",target:"_blank",children:"Share on Facebook"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FFuncky.DiscriminatedUnion&text=Funcky.DiscriminatedUnion:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FFuncky.DiscriminatedUnion",target:"_blank",title:"Tweet",children:"Share in Twitter"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FFuncky.DiscriminatedUnion&title=Funcky.DiscriminatedUnion",target:"_blank",title:"Submit to Reddit",children:"Share on Reddit"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FFuncky.DiscriminatedUnion&title=Funcky.DiscriminatedUnion&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FFuncky.DiscriminatedUnion",target:"_blank",title:"Share on LinkedIn",children:"Share on Linkedin"})})]}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/Funcky.DiscriminatedUnion",children:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/Funcky.DiscriminatedUnion"})}),"\n",(0,t.jsx)(i.p,{children:"aaa"}),"\n",(0,t.jsx)(o.Ay,{})]})}function m(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},58899:(e,i,n)=>{n.d(i,{A:()=>s});const s=n.p+"assets/files/Funcky.DiscriminatedUnion-780c2d737c5bc052c1539a0418faeb55.zip"}}]);