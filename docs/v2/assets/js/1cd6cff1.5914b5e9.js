"use strict";(self.webpackChunkrscg_examples=self.webpackChunkrscg_examples||[]).push([[545],{9803:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>x,frontMatter:()=>c,metadata:()=>i,toc:()=>g});const i=JSON.parse('{"id":"RSCG-Examples/Coplt.Dropping","title":"155 - Coplt.Dropping","description":"Generating disposable","source":"@site/docs/RSCG-Examples/Coplt.Dropping.md","sourceDirName":"RSCG-Examples","slug":"/Coplt.Dropping","permalink":"/RSCG_Examples/v2/docs/Coplt.Dropping","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1550,"frontMatter":{"sidebar_position":1550,"title":"155 - Coplt.Dropping","description":"Generating disposable","slug":"/Coplt.Dropping"},"sidebar":"tutorialSidebar","previous":{"title":"154 - Fluentify","permalink":"/RSCG_Examples/v2/docs/Fluentify"},"next":{"title":"156 - RSCG_NameGenerator","permalink":"/RSCG_Examples/v2/docs/RSCG_NameGenerator"}}');var o=s(74848),r=s(28453),t=s(11470),l=s(19365),p=s(14252),a=s(98293);const c={sidebar_position:1550,title:"155 - Coplt.Dropping",description:"Generating disposable",slug:"/Coplt.Dropping"},d="Coplt.Dropping  by 2A5F",h={},g=[{value:"NuGet / site data",id:"nuget--site-data",level:2},{value:"Details",id:"details",level:2},{value:"Info",id:"info",level:3},{value:"Original Readme",id:"original-readme",level:3},{value:"Example",id:"example",level:2},{value:"About",id:"about",level:3},{value:"How to use",id:"how-to-use",level:2},{value:"Example (source csproj, source files)",id:"example-source-csproj-source-files",level:3},{value:"Generated Files",id:"generated-files",level:3},{value:"Useful",id:"useful",level:2},{value:"Download Example (.NET  C#)",id:"download-example-net--c",level:3},{value:"Share Coplt.Dropping",id:"share-copltdropping",level:3},...a.RM];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"copltdropping--by-2a5f",children:"Coplt.Dropping  by 2A5F"})}),"\n",(0,o.jsx)(p.A,{toc:g}),"\n",(0,o.jsx)(n.h2,{id:"nuget--site-data",children:"NuGet / site data"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://www.nuget.org/packages/Coplt.Dropping/",children:(0,o.jsx)(n.img,{src:"https://img.shields.io/nuget/dt/Coplt.Dropping?label=Coplt.Dropping",alt:"Nuget"})}),"\n",(0,o.jsx)(n.a,{href:"https://github.com/2A5F/Coplt.Dropping",children:(0,o.jsx)(n.img,{src:"https://img.shields.io/github/last-commit/2A5F/Coplt.Dropping?label=updated",alt:"GitHub last commit"})}),"\n",(0,o.jsx)(n.img,{src:"https://img.shields.io/github/stars/2A5F/Coplt.Dropping?style=social",alt:"GitHub Repo stars"})]}),"\n",(0,o.jsx)(n.h2,{id:"details",children:"Details"}),"\n",(0,o.jsx)(n.h3,{id:"info",children:"Info"}),"\n",(0,o.jsxs)(n.admonition,{type:"info",children:[(0,o.jsxs)(n.p,{children:["Name: ",(0,o.jsx)(n.strong,{children:"Coplt.Dropping"})]}),(0,o.jsx)(n.p,{children:"Auto gen dispose pattern"}),(0,o.jsx)(n.p,{children:"Author: 2A5F"}),(0,o.jsxs)(n.p,{children:["NuGet:\n",(0,o.jsx)(n.em,{children:(0,o.jsx)(n.a,{href:"https://www.nuget.org/packages/Coplt.Dropping/",children:"https://www.nuget.org/packages/Coplt.Dropping/"})})]}),(0,o.jsxs)(n.p,{children:["You can find more details at ",(0,o.jsx)(n.a,{href:"https://github.com/2A5F/Coplt.Dropping",children:"https://github.com/2A5F/Coplt.Dropping"})]}),(0,o.jsxs)(n.p,{children:["Source: ",(0,o.jsx)(n.a,{href:"https://github.com/2A5F/Coplt.Dropping",children:"https://github.com/2A5F/Coplt.Dropping"})]})]}),"\n",(0,o.jsx)(n.h3,{id:"original-readme",children:"Original Readme"}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.h1,{id:"copltdropping",children:"Coplt.Dropping"}),(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://www.nuget.org/packages/Coplt.Dropping/",children:(0,o.jsx)(n.img,{src:"https://img.shields.io/nuget/v/Coplt.Dropping",alt:"Nuget"})}),"\n",(0,o.jsx)(n.img,{src:"https://img.shields.io/github/license/2A5F/Coplt.Dropping",alt:"MIT"})]}),(0,o.jsx)(n.p,{children:"Auto gen dispose pattern"}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Auto handle ",(0,o.jsx)(n.code,{children:"Dispose(bool dispoing)"})," pattern"]}),"\n",(0,o.jsx)(n.li,{children:"Auto handle destructor/finalizer"}),"\n",(0,o.jsx)(n.li,{children:"Allow multiple drops"}),"\n",(0,o.jsxs)(n.li,{children:["Specify the drop order ",(0,o.jsx)(n.code,{children:"[Drop(Order = X)]"})]}),"\n",(0,o.jsxs)(n.li,{children:["The first argument of ",(0,o.jsx)(n.code,{children:"Drop"})," target method can be ",(0,o.jsx)(n.code,{children:"bool disposing"})]}),"\n",(0,o.jsxs)(n.li,{children:["Mark Drop directly on fields and properties (requires target type have ",(0,o.jsx)(n.code,{children:"Dispose"})," method)"]}),"\n",(0,o.jsxs)(n.li,{children:["Dose not supported ",(0,o.jsx)(n.code,{children:"AsyncDispose"}),", too complicated, it is recommended to implement it manually"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"Drop"})," can mark on static methods, will pass ",(0,o.jsx)(n.code,{children:"this"})," on first argument, if have ",(0,o.jsx)(n.code,{children:"bool disposing"})," will be the second argument"]}),"\n"]}),(0,o.jsx)(n.h2,{id:"example",children:"Example"}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Basic usage"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cs",children:"[Dropping]\npublic partial class Foo1\n{\n    [Drop]\n    public void Drop()\n    {\n        Console.WriteLine(1);\n    }\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:"Generate output:"}),"\n",(0,o.jsx)(i,{children:(0,o.jsx)("summary",{children:"Foo1.dropping.g.cs"})}),"\n",(0,o.jsx)("br",{}),"\n"]}),"\n"]})]}),"\n",(0,o.jsx)(n.h3,{id:"about",children:"About"}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"Generating disposable"})}),"\n",(0,o.jsx)(n.h2,{id:"how-to-use",children:"How to use"}),"\n",(0,o.jsx)(n.h3,{id:"example-source-csproj-source-files",children:"Example (source csproj, source files)"}),"\n",(0,o.jsxs)(t.A,{children:[(0,o.jsxs)(l.A,{value:"csproj",label:"CSharp Project",children:[(0,o.jsxs)(n.p,{children:["This is the CSharp Project that references ",(0,o.jsx)(n.strong,{children:"Coplt.Dropping"})]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",metastring:"showLineNumbers {14}",children:'<Project Sdk="Microsoft.NET.Sdk">\n\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>net8.0</TargetFramework>\n    <ImplicitUsings>enable</ImplicitUsings>\n    <Nullable>enable</Nullable>\n  </PropertyGroup>\n\t <PropertyGroup>\n        <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n        <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n    </PropertyGroup>\n\t <ItemGroup>\n\t   <PackageReference Include="Coplt.Dropping" Version="0.5.1" OutputItemType="Analyzer" />\n\t   \n\t </ItemGroup>\n\n</Project>\n\n'})})]}),(0,o.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Coplt.Dropping\\src\\IDisp\\Program.cs",label:"Program.cs",children:[(0,o.jsxs)(n.p,{children:["This is the use of ",(0,o.jsx)(n.strong,{children:"Coplt.Dropping"})," in ",(0,o.jsx)(n.em,{children:"Program.cs"})]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'using IDisposableGeneratorDemo;\n//https://github.com/benutomo-dev/RoslynComponents\nusing (var db = new DALDB())\n{\n    Console.WriteLine("before releasing");\n}\nConsole.WriteLine("after releasing");\n'})})]}),(0,o.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Coplt.Dropping\\src\\IDisp\\DALDB.cs",label:"DALDB.cs",children:[(0,o.jsxs)(n.p,{children:["This is the use of ",(0,o.jsx)(n.strong,{children:"Coplt.Dropping"})," in ",(0,o.jsx)(n.em,{children:"DALDB.cs"})]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",metastring:"showLineNumbers ",children:"using Coplt.Dropping;\n\nnamespace IDisposableGeneratorDemo;\n\n[Dropping]\npartial class DALDB :IDisposable\n{\n    private ConnectionDB cn;\n    private ConnectionDB cn1;\n\n    public DALDB()\n    {\n        cn = new ConnectionDB();\n        cn1=new ConnectionDB();\n    }\n    [Drop]\n    public void Drop()\n    {\n        cn.Dispose();\n        cn1.Dispose();\n    }\n}\n\n"})})]}),(0,o.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Coplt.Dropping\\src\\IDisp\\ConnectionDB.cs",label:"ConnectionDB.cs",children:[(0,o.jsxs)(n.p,{children:["This is the use of ",(0,o.jsx)(n.strong,{children:"Coplt.Dropping"})," in ",(0,o.jsx)(n.em,{children:"ConnectionDB.cs"})]}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'namespace IDisposableGeneratorDemo;\n\nclass ConnectionDB : IDisposable\n{\n    public void Dispose()\n    {\n        Console.WriteLine("disposing connectiondb");\n    }\n}\n\n'})})]})]}),"\n",(0,o.jsx)(n.h3,{id:"generated-files",children:"Generated Files"}),"\n",(0,o.jsx)(n.p,{children:"Those are taken from $(BaseIntermediateOutputPath)\\GX"}),"\n",(0,o.jsx)(t.A,{children:(0,o.jsx)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Coplt.Dropping\\src\\IDisp\\obj\\GX\\Coplt.Dropping.Analyzers\\Coplt.Dropping.Analyzers.Generators.DroppingGenerator\\IDisposableGeneratorDemo.DALDB.dropping.g.cs",label:"IDisposableGeneratorDemo.DALDB.dropping.g.cs",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-csharp",metastring:"showLineNumbers ",children:"// <auto-generated/>\n\n#nullable enable\n\nusing Coplt.Dropping;\n\nnamespace IDisposableGeneratorDemo {\n\ninternal partial class DALDB : global::System.IDisposable\n{\n\n    protected virtual void Dispose(bool disposing)\n    {\n        if (disposing) Drop();\n    }\n\n    public void Dispose()\n    {\n        Dispose(true);\n        GC.SuppressFinalize(this);\n    }\n\n    ~DALDB()\n    {\n        Dispose(false);\n    }\n\n}\n\n} // namespace IDisposableGeneratorDemo\n\n"})})})}),"\n",(0,o.jsx)(n.h2,{id:"useful",children:"Useful"}),"\n",(0,o.jsx)(n.h3,{id:"download-example-net--c",children:"Download Example (.NET  C#)"}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(70635).A+"",children:"Download Example project Coplt.Dropping "})})}),"\n",(0,o.jsx)(n.h3,{id:"share-copltdropping",children:"Share Coplt.Dropping"}),"\n",(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping&quote=Coplt.Dropping",title:"Share on Facebook",target:"_blank",children:"Share on Facebook"})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping&text=Coplt.Dropping:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping",target:"_blank",title:"Tweet",children:"Share in Twitter"})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping&title=Coplt.Dropping",target:"_blank",title:"Submit to Reddit",children:"Share on Reddit"})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping&title=Coplt.Dropping&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FCoplt.Dropping",target:"_blank",title:"Share on LinkedIn",children:"Share on Linkedin"})})]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/Coplt.Dropping",children:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/Coplt.Dropping"})}),"\n",(0,o.jsx)(n.p,{children:"aaa"}),"\n",(0,o.jsx)(a.Ay,{})]})}function x(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},70635:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/files/Coplt.Dropping-ca577e3b8aad37a16b4281176170126e.zip"},98293:(e,n,s)=>{s.d(n,{Ay:()=>l,RM:()=>r});var i=s(74848),o=s(28453);const r=[{value:"Category &quot;Disposer&quot; has the following generators:",id:"category-disposer-has-the-following-generators",level:3},{value:"See category",id:"see-category",level:3}];function t(e){const n={a:"a",h3:"h3",p:"p",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"category-disposer-has-the-following-generators",children:'Category "Disposer" has the following generators:'}),"\n",(0,i.jsxs)(n.p,{children:["1 ",(0,i.jsx)(n.a,{href:"/docs/BenutomoAutomaticDisposeImplSourceGenerator",children:"BenutomoAutomaticDisposeImplSourceGenerator"})]}),"\n",(0,i.jsxs)(n.p,{children:["2 ",(0,i.jsx)(n.a,{href:"/docs/Coplt.Dropping",children:"Coplt.Dropping"})]}),"\n",(0,i.jsxs)(n.p,{children:["3 ",(0,i.jsx)(n.a,{href:"/docs/DisposableHelpers",children:"DisposableHelpers"})]}),"\n",(0,i.jsxs)(n.p,{children:["4 ",(0,i.jsx)(n.a,{href:"/docs/Disposer",children:"Disposer"})]}),"\n",(0,i.jsxs)(n.p,{children:["5 ",(0,i.jsx)(n.a,{href:"/docs/IDisposableGenerator",children:"IDisposableGenerator"})]}),"\n",(0,i.jsx)(n.h3,{id:"see-category",children:"See category"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"/docs/Categories/Disposer",children:"Disposer"})})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}}}]);