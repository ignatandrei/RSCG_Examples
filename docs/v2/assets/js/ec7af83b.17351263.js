"use strict";(self.webpackChunkrscg_examples=self.webpackChunkrscg_examples||[]).push([[1163],{7585:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>p,default:()=>g,frontMatter:()=>l,metadata:()=>u,toc:()=>d});var a=n(7462),r=(n(7294),n(4137)),o=n(3992),i=n(425),s=n(8839);const l={sidebar_position:490,title:"49 - Strongly",description:"Generate and customize strong id structs",slug:"/Strongly"},p="Strongly  by Lucas Teles",u={unversionedId:"RSCG-Examples/Strongly",id:"RSCG-Examples/Strongly",title:"49 - Strongly",description:"Generate and customize strong id structs",source:"@site/docs/RSCG-Examples/Strongly.md",sourceDirName:"RSCG-Examples",slug:"/Strongly",permalink:"/RSCG_Examples/v2/docs/Strongly",draft:!1,tags:[],version:"current",sidebarPosition:490,frontMatter:{sidebar_position:490,title:"49 - Strongly",description:"Generate and customize strong id structs",slug:"/Strongly"},sidebar:"tutorialSidebar",previous:{title:"48 - PropertyChangedSourceGenerator",permalink:"/RSCG_Examples/v2/docs/PropertyChangedSourceGenerator"},next:{title:"50 - Ridge",permalink:"/RSCG_Examples/v2/docs/Ridge"}},m={},d=[{value:"Details",id:"details",level:2},{value:"Info",id:"info",level:3},{value:"Original Readme",id:"original-readme",level:3},{value:"About",id:"about",level:3},{value:"How to use",id:"how-to-use",level:2},{value:"Example ( source csproj, source files )",id:"example--source-csproj-source-files-",level:3},{value:"Generated Files",id:"generated-files",level:3},{value:"Usefull",id:"usefull",level:2},{value:"Download Example (.NET  C# )",id:"download-example-net--c-",level:3},{value:"Share Strongly",id:"share-strongly",level:3},{value:"In the same category (PrimitiveObsession)",id:"in-the-same-category-primitiveobsession",level:2},{value:"DomainPrimitives",id:"domainprimitives",level:3},{value:"UnitGenerator",id:"unitgenerator",level:3},{value:"Vogen",id:"vogen",level:3}],y={toc:d},c="wrapper";function g(e){let{components:t,...l}=e;return(0,r.kt)(c,(0,a.Z)({},y,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"strongly--by-lucas-teles"},"Strongly  by Lucas Teles"),(0,r.kt)(s.Z,{toc:d,mdxType:"TOCInline"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/Strongly/"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/nuget/dt/Strongly?label=Strongly",alt:"Nuget"})),"\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lucasteles/Strongly/"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/github/last-commit/lucasteles/Strongly?label=updated",alt:"GitHub last commit"})),"\n",(0,r.kt)("img",{parentName:"p",src:"https://img.shields.io/github/stars/lucasteles/Strongly?style=social",alt:"GitHub Repo stars"})),(0,r.kt)("h2",{id:"details"},"Details"),(0,r.kt)("h3",{id:"info"},"Info"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Name: ",(0,r.kt)("strong",{parentName:"p"},"Strongly")),(0,r.kt)("p",{parentName:"admonition"},"A source generator for creating strongly-typed values by decorating with a ","[Strongly]"," attribute"),(0,r.kt)("p",{parentName:"admonition"},"Author: Lucas Teles"),(0,r.kt)("p",{parentName:"admonition"},"NuGet:\n",(0,r.kt)("em",{parentName:"p"},(0,r.kt)("a",{parentName:"em",href:"https://www.nuget.org/packages/Strongly/"},"https://www.nuget.org/packages/Strongly/")),"   "),(0,r.kt)("p",{parentName:"admonition"},"You can find more details at ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lucasteles/Strongly/"},"https://github.com/lucasteles/Strongly/")),(0,r.kt)("p",{parentName:"admonition"},"Source : ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/lucasteles/Strongly/"},"https://github.com/lucasteles/Strongly/"))),(0,r.kt)("h3",{id:"original-readme"},"Original Readme"),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("h1",{parentName:"admonition",id:"strongly"},"Strongly"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/lucasteles/Strongly/master/logo.png",alt:"Strongly logo"})),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("img",{parentName:"p",src:"https://github.com/lucasteles/Strongly/actions/workflows/BuildAndPack.yml/badge.svg",alt:"Build status"}),"\n",(0,r.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/Strongly/"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/nuget/v/Strongly.svg",alt:"NuGet"}))),(0,r.kt)("p",{parentName:"admonition"},"Strongly makes creating strongly-typed values as easy as adding an attribute! No\nmore ",(0,r.kt)("a",{parentName:"p",href:"https://andrewlock.net/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-1/#an-example-of-the-problem"},"accidentally passing arguments in the wrong order to methods")," -\nStrongly uses .NET 6's compile-time incremental source generators to\ngenerate ",(0,r.kt)("a",{parentName:"p",href:"https://andrewlock.net/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-2/#a-full-example-implementation"},"the boilerplate"),"\nrequired to use strongly-typed IDs."),(0,r.kt)("p",{parentName:"admonition"},"Simply, ",(0,r.kt)("a",{parentName:"p",href:"#installing"},"install the required package")," add the ",(0,r.kt)("inlineCode",{parentName:"p"},"[Strongly]")," attribute to a ",(0,r.kt)("inlineCode",{parentName:"p"},"struct")," (in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Strongly"),"\nnamespace):"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"using Strongly;\n \n[Strongly] // <- Add this attribute to auto-generate the rest of the type\npublic partial struct FooId { }\n")),(0,r.kt)("p",{parentName:"admonition"},"and the source generator magically generates the backing code when you save the file! Use ",(0,r.kt)("em",{parentName:"p"},"Go to Definition")," to see the\ngenerated code:"),(0,r.kt)("img",{src:"https://raw.githubusercontent.com/andrewlock/Strongly/master/docs/strongly_typed_id.gif",alt:"Generating a strongly-typed ID using the Strongly packages"}),(0,r.kt)("blockquote",{parentName:"admonition"},(0,r.kt)("p",{parentName:"blockquote"},"Strongly requires requires ",(0,r.kt)("a",{parentName:"p",href:"https://dotnet.microsoft.com/download/dotnet/6.0"},"the .NET Core SDK v6.0.100 or greater"),".")),(0,r.kt)("h2",{parentName:"admonition",id:"installing"},"Installing"),(0,r.kt)("p",{parentName:"admonition"},"To use the the ",(0,r.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/Strongly"},"Strongly NuGet package"),", install\nthe ",(0,r.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/Strongly"},"Strongly")," package into your project. Depending on which converters you\nimplement, you may need one or more of the following additional packages"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/System.Text.Json/"},"System.Text.Json")," (optional, only required\nif ",(0,r.kt)("a",{parentName:"li",href:"https://andrewlock.net/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-2/#creating-a-custom-jsonconverter"},"generating a System.Text ",(0,r.kt)("inlineCode",{parentName:"a"},"JsonConverter")),").\nNote that in .NET Core apps, you will likely already reference this project via transitive dependencies."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Newtonsoft.Json/"},"Newtonsoft.Json")," (optional, only required\nif ",(0,r.kt)("a",{parentName:"li",href:"https://andrewlock.net/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-2/#creating-a-custom-jsonconverter"},"generating a Newtonsoft ",(0,r.kt)("inlineCode",{parentName:"a"},"JsonConverter")),").\nNote that in some ASP.NET Core apps, you will likely already reference this project via transitive dependencies."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Dapper/"},"Dapper")," (optional, only required\nif ",(0,r.kt)("a",{parentName:"li",href:"https://andrewlock.net/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-3/#interfacing-with-external-system-using-strongly-typed-ids"},"generating a type mapper"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Microsoft.EntityFrameworkCore"},"EF Core")," (optional, only required\nif ",(0,r.kt)("a",{parentName:"li",href:"https://andrewlock.net/strongly-typed-ids-in-ef-core-using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-4/"},"generating an EF Core ValueConverter"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Swashbuckle.AspNetCore.Annotations"},"Swagger Annotations")," (optional, only required\nif ",(0,r.kt)("a",{parentName:"li",href:"#openapiswagger-specification"},"generating an Swagger Schema Filter"))),(0,r.kt)("p",{parentName:"admonition"},"To install the packages, add the references to your ",(0,r.kt)("em",{parentName:"p"},"csproj")," file, for example by running"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"dotnet add package Strongly \n")),(0,r.kt)("p",{parentName:"admonition"},"This adds a ",(0,r.kt)("inlineCode",{parentName:"p"},"<PackageReference>")," to your project. You can additionally mark the package as ",(0,r.kt)("inlineCode",{parentName:"p"},'PrivateAssets="all"'),"\nand ",(0,r.kt)("inlineCode",{parentName:"p"},'ExcludeAssets="runtime"'),"."),(0,r.kt)("blockquote",{parentName:"admonition"},(0,r.kt)("p",{parentName:"blockquote"},"Setting ",(0,r.kt)("inlineCode",{parentName:"p"},'PrivateAssets="all"')," means any projects referencing this one will not also get a reference to the ",(0,r.kt)("em",{parentName:"p"},"Strongly"),"\npackage. Setting ",(0,r.kt)("inlineCode",{parentName:"p"},'ExcludeAssets="runtime"')," ensures the ",(0,r.kt)("em",{parentName:"p"},"Strongly.Attributes.dll")," file is not copied to your build\noutput (it is not required at runtime).")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\n<Project Sdk="Microsoft.NET.Sdk">\n\n    <PropertyGroup>\n        <OutputType>Exe</OutputType>\n        <TargetFramework>net6.0</TargetFramework>\n    </PropertyGroup>\n\n    \x3c!-- Add the package --\x3e\n    <PackageReference Include="Strongly" Version="1.0.0" PrivateAssets="all" ExcludeAssets="runtime"/>\n    \x3c!-- --\x3e\n\n</Project>\n')),(0,r.kt)("h2",{parentName:"admonition",id:"usage"},"Usage"),(0,r.kt)("p",{parentName:"admonition"},"To create a strongly-typed ID, create a ",(0,r.kt)("inlineCode",{parentName:"p"},"partial struct")," with the desired name, and decorate it with the ",(0,r.kt)("inlineCode",{parentName:"p"},"[Strongly]"),"\nattribute, in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Strongly")," namespace:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"using Strongly;\n\n[Strongly] // Add this attribute to auto-generate the rest of the type\npublic partial struct FooId { }\n")),(0,r.kt)("p",{parentName:"admonition"},'This generates the "default" strongly-typed ID using a ',(0,r.kt)("inlineCode",{parentName:"p"},"Guid")," backing field, a custom ",(0,r.kt)("inlineCode",{parentName:"p"},"TypeConverter"),", and a\ncustom ",(0,r.kt)("inlineCode",{parentName:"p"},"JsonConverter")," based on System.Text.Json."),(0,r.kt)("h3",{parentName:"admonition",id:"customising-the-converters"},"Customising the converters"),(0,r.kt)("p",{parentName:"admonition"},"You can customise which converters to generate by using flags. For example, to generate a ",(0,r.kt)("inlineCode",{parentName:"p"},"TypeConverter"),",\na ",(0,r.kt)("inlineCode",{parentName:"p"},"Newtonsoft.Json"),", and an EF Core ",(0,r.kt)("inlineCode",{parentName:"p"},"ValueConverter"),", use"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"using Strongly;\n\n[Strongly(converters: StronglyConverter.TypeConverter | StronglyConverter.SystemTextJson | StronglyConverter.EfValueConverter)] \npublic partial struct SystemTextJsonConverterId { }\n")),(0,r.kt)("h3",{parentName:"admonition",id:"using-different-types-as-a-backing-fields"},"Using different types as a backing fields"),(0,r.kt)("p",{parentName:"admonition"},"The default strongly-typed ID uses a ",(0,r.kt)("inlineCode",{parentName:"p"},"Guid")," backing field:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"using Strongly;\n\n[Strongly]\npublic partial struct FooId { }\n\nvar id = new FooId(Guid.NewGuid());\n")),(0,r.kt)("p",{parentName:"admonition"},"You can choose a different type backing field, by passing a value of the ",(0,r.kt)("inlineCode",{parentName:"p"},"StronglyBackingType")," enum in the constructor."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},'using Strongly;\n\n[Strongly(backingType: StronglyBackingType.String)]\npublic partial struct FooId { }\n\nvar id = new FooId("my-id-value");\n')),(0,r.kt)("p",{parentName:"admonition"},"Currently supported values are ",(0,r.kt)("inlineCode",{parentName:"p"},"Guid")," (the default), ",(0,r.kt)("inlineCode",{parentName:"p"},"int"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"long"),",",(0,r.kt)("inlineCode",{parentName:"p"},"decimal"),",",(0,r.kt)("inlineCode",{parentName:"p"},"BigInteger"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"MassTransit.NewId"),"\nand ",(0,r.kt)("inlineCode",{parentName:"p"},"string"),"."),(0,r.kt)("h2",{parentName:"admonition",id:"changing-the-defaults-globally"},"Changing the defaults globally"),(0,r.kt)("p",{parentName:"admonition"},"If you wish to change the converters, backing types, or implementations used by default for ",(0,r.kt)("em",{parentName:"p"},"all")," the ",(0,r.kt)("inlineCode",{parentName:"p"},"[Strongly]"),"\n-decorated types in your project, you can use the assembly attribute ",(0,r.kt)("inlineCode",{parentName:"p"},"[StronglyDefaults]")," to set all of these. For\nexample, the following sets the default converter to a whole project to ",(0,r.kt)("inlineCode",{parentName:"p"},"[SystemTextJson]"),", and changes the default\nbacking-type to an ",(0,r.kt)("inlineCode",{parentName:"p"},"int")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"// Set the defaults for the project\n[assembly:StronglyDefaults(\n    backingType: StronglyType.Int,\n    converters: StronglyConverter.SystemTextJson)]\n\n[Strongly]\npublic partial struct OrderId { }\n\n[Strongly]\npublic partial struct UserId { } \n")),(0,r.kt)("p",{parentName:"admonition"},"This is equivalent to setting these values manually on all the IDs:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"[Strongly(\n    backingType: StronglyType.Int,\n    converters: StronglyConverter.SystemTextJson)]\npublic partial struct OrderId { }\n\n[Strongly(\n     backingType: StronglyType.Int,\n    converters: StronglyConverter.SystemTextJson)]\npublic partial struct UserId { }\n")),(0,r.kt)("h2",{parentName:"admonition",id:"ef-core---valueconverter"},"EF Core - ValueConverter"),(0,r.kt)("p",{parentName:"admonition"},"When you create a ",(0,r.kt)("inlineCode",{parentName:"p"},"Strongly")," type with EF Converter, the type will have a nested ",(0,r.kt)("inlineCode",{parentName:"p"},"ValueConverter")," class you can use on\nyour entity model definition"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"[Strongly(StronglyType.String, StronglyConverter.EfValueConverter)]\npublic partial struct PhoneNumber\n{\n}\n\npublic class MyDbContext : DbContext\n{\n    protected override void OnModelCreating(ModelBuilder builder)\n    {\n        var customer = builder.Entity<Customer>();\n        customer.Property(x => x.Phone).HasConversion<PhoneNumber.EfValueConverter>();\n    }\n}\n\n")),(0,r.kt)("p",{parentName:"admonition"},"If you have lots of strongly type values you can use the package bellow to automatically set\nthe ",(0,r.kt)("inlineCode",{parentName:"p"},"Strongly ValueConverter")," on all your entities ",(0,r.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/Strongly.EFCore/"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/nuget/v/Strongly.EFCore.svg",alt:"NuGet"}))),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"dotnet add package Strongly.EFCore\n")),(0,r.kt)("p",{parentName:"admonition"},"After installation you need to set it on yor ",(0,r.kt)("inlineCode",{parentName:"p"},"DbContextOptionsBuilder")),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"services\n    .AddDbContext<AppDbContext>(options => options\n        .UseStronglyTypeConverters()\n        /* ... */\n        )\n")),(0,r.kt)("h2",{parentName:"admonition",id:"openapiswagger-specification"},"OpenApi/Swagger Specification"),(0,r.kt)("p",{parentName:"admonition"},"If you wish to use an ID in your Swagger models and want to have schema and model sample reflecting the value\nbacking-field\ntype you will need:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Install ",(0,r.kt)("a",{parentName:"li",href:"https://www.nuget.org/packages/Swashbuckle.AspNetCore.Annotations"},"Swagger Annotations")," ",(0,r.kt)("inlineCode",{parentName:"li"},">=5.0.0")),(0,r.kt)("li",{parentName:"ul"},"Enable annotation in swagger gen with ",(0,r.kt)("inlineCode",{parentName:"li"},"services.AddSwaggerGen(c => c.EnableAnnotations());")),(0,r.kt)("li",{parentName:"ul"},"Use the converter flag ",(0,r.kt)("inlineCode",{parentName:"li"},"StronglyConverter.SwaggerSchemaFilter")," on the ID decorator. eg:",(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-csharp"},"[Strongly(\n    backingType: StronglyType.Int,\n    converters: StronglyConverter.SwaggerSchemaFilter | StronglyConverter.SystemTextJson)]\npublic partial struct UserId { }\n")))),(0,r.kt)("h2",{parentName:"admonition",id:"embedding-the-attributes-in-your-project"},"Embedding the attributes in your project"),(0,r.kt)("p",{parentName:"admonition"},"By default, the ",(0,r.kt)("inlineCode",{parentName:"p"},"[Strongly]")," attributes referenced in your application are contained in an external dll. It is also\npossible to embed the attributes directly in your project, so they appear in the dll when your project is built. If you\nwish to do this, you must do two things:"),(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"Define the MSBuild constant ",(0,r.kt)("inlineCode",{parentName:"li"},"STRONGLY_TYPED_EMBED_ATTRIBUTES"),". This ensures the attributes are embedded in your\nproject"),(0,r.kt)("li",{parentName:"ol"},"Add ",(0,r.kt)("inlineCode",{parentName:"li"},"compile")," to the list of excluded assets in your ",(0,r.kt)("inlineCode",{parentName:"li"},"<PackageReference>")," element. This ensures the attributes in\nyour project are referenced, instead of the ",(0,r.kt)("em",{parentName:"li"},"Strongly.Attributes.dll")," library.")),(0,r.kt)("p",{parentName:"admonition"},"Your project file should look something like this:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\n<Project Sdk="Microsoft.NET.Sdk">\n\n    <PropertyGroup>\n        <OutputType>Exe</OutputType>\n        <TargetFramework>net6.0</TargetFramework>\n        \x3c!--  Define the MSBuild constant    --\x3e\n        <DefineConstants>STRONGLY_TYPED_EMBED_ATTRIBUTES</DefineConstants>\n    </PropertyGroup>\n\n    \x3c!-- Add the package --\x3e\n    <PackageReference Include="Strongly" Version="1.0.0"\n                      PrivateAssets="all"\n                      ExcludeAssets="compile;runtime"/>\n    \x3c!--                               \u261d Add compile to the list of excluded assets. --\x3e\n\n</Project>\n')),(0,r.kt)("h2",{parentName:"admonition",id:"preserving-usages-of-the-strongly-attribute"},"Preserving usages of the ",(0,r.kt)("inlineCode",{parentName:"h2"},"[Strongly]")," attribute"),(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"[Strongly]")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"[StronglyDefaults]")," attributes are decorated with the ",(0,r.kt)("inlineCode",{parentName:"p"},"[Conditional]"),"\nattribute, ",(0,r.kt)("a",{parentName:"p",href:"https://andrewlock.net/conditional-compilation-for-ignoring-method-calls-with-the-conditionalattribute/#applying-the-conditional-attribute-to-classes"},"so their usage will not appear in the build output of your project"),".\nIf you use reflection at runtime on one of your IDs, you will not find ",(0,r.kt)("inlineCode",{parentName:"p"},"[Strongly]")," in the list of custom attributes."),(0,r.kt)("p",{parentName:"admonition"},"If you wish to preserve these attributes in the build output, you can define the ",(0,r.kt)("inlineCode",{parentName:"p"},"STRONGLY_TYPED_USAGES")," MSBuild\nvariable. Note that this means your project will have a runtime-dependency on ",(0,r.kt)("em",{parentName:"p"},"Strongly.Attributes.dll")," so you need to\nensure this is included in your build output."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},'\n<Project Sdk="Microsoft.NET.Sdk">\n\n    <PropertyGroup>\n        <OutputType>Exe</OutputType>\n        <TargetFramework>net6.0</TargetFramework>\n        \x3c!--  Define the MSBuild constant to preserve usages   --\x3e\n        <DefineConstants>STRONGLY_TYPED_USAGES</DefineConstants>\n    </PropertyGroup>\n\n    \x3c!-- Add the package --\x3e\n    <PackageReference Include="Strongly" Version="1.0.0" PrivateAssets="all"/>\n    \x3c!--              \u261d You must not exclude the runtime assets in this case --\x3e\n\n</Project>\n')),(0,r.kt)("h2",{parentName:"admonition",id:"why-do-i-need-this-library"},"Why do I need this library?"),(0,r.kt)("p",{parentName:"admonition"},"Andrew\nhave ",(0,r.kt)("a",{parentName:"p",href:"https://andrewlock.net/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-1/"},"written a blog-post series"),"\non strongly-typed IDs that explains the issues and rational behind this library. For a detailed view, I suggest starting\nthere, but I provide a brief introduction here."),(0,r.kt)("p",{parentName:"admonition"},"This library is designed to tackle a specific instance of ",(0,r.kt)("a",{parentName:"p",href:"https://lostechies.com/jimmybogard/2007/12/03/dealing-with-primitive-obsession/"},(0,r.kt)("em",{parentName:"a"},"primitive\nobsession")),", whereby we use primitive\nobjects (",(0,r.kt)("inlineCode",{parentName:"p"},"Guid"),"/",(0,r.kt)("inlineCode",{parentName:"p"},"string"),"/",(0,r.kt)("inlineCode",{parentName:"p"},"int"),"/",(0,r.kt)("inlineCode",{parentName:"p"},"long"),"/",(0,r.kt)("inlineCode",{parentName:"p"},"decimal")," etc) to represent the IDs or values of\ndomain objects. The problem is that these\ntypes are all\ninterchangeable - an order ID can be assigned to a product ID despite the fact that is likely nonsensical from the\ndomain point of\nview. ",(0,r.kt)("a",{parentName:"p",href:"https://andrewlock.net/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-1/#an-example-of-the-problem"},"See here for a more concrete example"),"."),(0,r.kt)("p",{parentName:"admonition"},"By using strongly-typed values, we give each of then its own ",(0,r.kt)("inlineCode",{parentName:"p"},"Type")," which ",(0,r.kt)("em",{parentName:"p"},"wraps")," the underlying primitive value. This\nensures\nyou can only use the value where it makes sense: ",(0,r.kt)("inlineCode",{parentName:"p"},"ProductId"),"s can only be assigned to products, or you can only search\nfor\nproducts using a ",(0,r.kt)("inlineCode",{parentName:"p"},"ProductId"),", not an ",(0,r.kt)("inlineCode",{parentName:"p"},"OrderId"),"."),(0,r.kt)("p",{parentName:"admonition"},"Unfortunately, taking this approach\nrequires ",(0,r.kt)("a",{parentName:"p",href:"https://andrewlock.net/using-strongly-typed-entity-ids-to-avoid-primitive-obsession-part-2/#a-full-example-implementation"},"a lot of boilerplate and ceremony"),"\nto make working with it manageable. This library abstracts all that away from you, by generating the boilerplate at\nbuild-time by using a Roslyn-powered code generator."),(0,r.kt)("h2",{parentName:"admonition",id:"what-code-is-generated"},"What code is generated?"),(0,r.kt)("p",{parentName:"admonition"},"The exact code generated depends on the arguments you provide to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Strongly")," attribute. The code is generated to the\n",(0,r.kt)("em",{parentName:"p"},"obj")," folder of the project, so you can use ",(0,r.kt)("em",{parentName:"p"},"Go to Definition")," on your Id to see the ",(0,r.kt)("em",{parentName:"p"},"exact")," code generated in each\ncase."),(0,r.kt)("h2",{parentName:"admonition",id:"requirements"},"Requirements"),(0,r.kt)("p",{parentName:"admonition"},"The Strongly NuGet package is a .NET Standard 2.0 package."),(0,r.kt)("p",{parentName:"admonition"},"You must be using the .NET 6+ SDK (though you can compile for other target frameworks like .NET Core 2.1 and .NET\nFramework 4.8)"),(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"struct"),"s you decorate with the ",(0,r.kt)("inlineCode",{parentName:"p"},"Strongly")," attribute must be marked ",(0,r.kt)("inlineCode",{parentName:"p"},"partial"),"."),(0,r.kt)("h2",{parentName:"admonition",id:"credits"},"Credits"),(0,r.kt)("p",{parentName:"admonition"},"This project born as a fork of ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/andrewlock/StronglyTypedId"},"StronglyTypedId")," ")),(0,r.kt)("h3",{id:"about"},"About"),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Generate and customize strong id structs")),(0,r.kt)("h2",{id:"how-to-use"},"How to use"),(0,r.kt)("h3",{id:"example--source-csproj-source-files-"},"Example ( source csproj, source files )"),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"csproj",label:"CSharp Project",mdxType:"TabItem"},(0,r.kt)("p",null,"This is the CSharp Project that references ",(0,r.kt)("strong",{parentName:"p"},"Strongly")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:"showLineNumbers {11}",showLineNumbers:!0,"{11}":!0},'<Project Sdk="Microsoft.NET.Sdk">\n\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>net7.0</TargetFramework>\n    <ImplicitUsings>enable</ImplicitUsings>\n    <Nullable>enable</Nullable>\n  </PropertyGroup>\n\n  <ItemGroup>\n    <PackageReference Include="Strongly" Version="1.1.0" OutputItemType="Analyzer" />\n  </ItemGroup>\n    <PropertyGroup>\n        <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n        <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n    </PropertyGroup>\n</Project>\n\n'))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Strongly\\src\\StronglyDemo\\Program.cs",label:"Program.cs",mdxType:"TabItem"},(0,r.kt)("p",null,"  This is the use of ",(0,r.kt)("strong",{parentName:"p"},"Strongly")," in ",(0,r.kt)("em",{parentName:"p"},"Program.cs")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"// See https://aka.ms/new-console-template for more information\nusing StronglyDemo;\n\nPerson p = new();\n//p.SetBirthDate(1970, 4, 16);\np.SetBirthDate(new YearId(1970) , new MonthId(4),new DayId( 16));\nConsole.WriteLine(p.BirthDate);\n"))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Strongly\\src\\StronglyDemo\\Person.cs",label:"Person.cs",mdxType:"TabItem"},(0,r.kt)("p",null,"  This is the use of ",(0,r.kt)("strong",{parentName:"p"},"Strongly")," in ",(0,r.kt)("em",{parentName:"p"},"Person.cs")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"\nusing Strongly;\n\nnamespace StronglyDemo;\n\n\n[Strongly(backingType: StronglyType.Int)]\npublic partial struct YearId { }\n\n[Strongly(backingType: StronglyType.Int)]\npublic partial struct MonthId { }\n\n[Strongly(backingType: StronglyType.Int)]\npublic partial struct DayId { }\n\ninternal class Person\n{\n    public DateTime BirthDate { get; internal set; }\n    public void SetBirthDate(YearId yearId,MonthId monthId,DayId dayId)\n    {\n        BirthDate = new DateTime(yearId.Value, monthId.Value, dayId.Value);\n    }\n}\n\n")))),(0,r.kt)("h3",{id:"generated-files"},"Generated Files"),(0,r.kt)("p",null,"Those are taken from $(BaseIntermediateOutputPath)\\GX"),(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Strongly\\src\\StronglyDemo\\obj\\GX\\Strongly\\Strongly.StronglyGenerator\\StronglyAttribute.g.cs",label:"StronglyAttribute.g.cs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'#if STRONGLY_TYPED_EMBED_ATTRIBUTES\n\nusing System;\n\nnamespace Strongly\n{\n    /// <summary>\n    /// Place on partial structs to make the type a strongly-typed ID\n    /// </summary>\n    [AttributeUsage(AttributeTargets.Struct)]\n    [System.Diagnostics.Conditional("STRONGLY_TYPED_USAGES")]\n    internal sealed class StronglyAttribute : Attribute\n    {\n        /// <summary>\n        /// Make the struct a strongly typed ID\n        /// </summary>\n        /// <param name="backingType">The <see cref="Type"/> to use to store the strongly-typed ID value.\n        /// If not set, uses <see cref="StronglyDefaultsAttribute.BackingType"/>, which defaults to <see cref="StronglyType.Guid"/></param>\n        /// <param name="converters">Converters to create for serializing/deserializing the strongly-typed ID value.\n        /// If not set, uses <see cref="StronglyDefaultsAttribute.Converters"/>, which defaults to <see cref="StronglyConverter.NewtonsoftJson"/>\n        /// and <see cref="StronglyConverter.TypeConverter"/></param>\n        /// <param name="implementations">Interfaces and patterns the strongly typed id should implement\n        /// If not set, uses <see cref="StronglyDefaultsAttribute.Implementations"/>, which defaults to <see cref="StronglyImplementations.IEquatable"/>\n        /// and <see cref="StronglyImplementations.IComparable"/></param>\n        public StronglyAttribute(\n            StronglyType backingType = StronglyType.Default,\n            StronglyConverter converters = StronglyConverter.Default,\n            StronglyImplementations implementations = StronglyImplementations.Default)\n        {\n            BackingType = backingType;\n            Converters = converters;\n            Implementations = implementations;\n        }\n\n        /// <summary>\n        /// The <see cref="Type"/> to use to store the strongly-typed ID value\n        /// </summary>\n        public StronglyType BackingType { get; }\n\n        /// <summary>\n        /// JSON library used to serialize/deserialize strongly-typed ID value\n        /// </summary>\n        public StronglyConverter Converters { get; }\n\n        /// <summary>\n        /// Interfaces and patterns the strongly typed id should implement\n        /// </summary>\n        public StronglyImplementations Implementations { get; }\n    }\n}\n#endif\n'))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Strongly\\src\\StronglyDemo\\obj\\GX\\Strongly\\Strongly.StronglyGenerator\\StronglyConverter.g.cs",label:"StronglyConverter.g.cs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'#if STRONGLY_TYPED_EMBED_ATTRIBUTES\n\nusing System;\n\nnamespace Strongly\n{\n    /// <summary>\n    /// Converters used to to serialize/deserialize strongly-typed ID values\n    /// </summary>\n    [Flags]\n    internal enum StronglyConverter\n    {\n        // Used with HasFlag, so needs to be 1, 2, 4 etc\n\n        /// <summary>\n        /// Don\'t create any converters for the strongly typed ID\n        /// </summary>\n        None = 0,\n\n        /// <summary>\n        /// Use the default converters for the strongly typed Id.\n        /// This will be the value provided in the <see cref="StronglyDefaultsAttribute"/>, which falls back to\n        /// <see cref="TypeConverter"/> and <see cref="SystemTextJson"/>\n        /// </summary>\n        Default = 1,\n\n        /// <summary>\n        /// Creates a <see cref="TypeConverter"/> for converting from the strongly typed ID to and from a string\n        /// </summary>\n        TypeConverter = 2,\n\n        /// <summary>\n        /// Creates a Newtonsoft.Json.JsonConverter for serializing the strongly typed id to its primitive value\n        /// </summary>\n        NewtonsoftJson = 4,\n\n        /// <summary>\n        /// Creates a System.Text.Json.Serialization.JsonConverter for serializing the strongly typed id to its primitive value\n        /// </summary>\n        SystemTextJson = 8,\n\n        /// <summary>\n        /// Creates an EF Core Value Converter for extracting the primitive value\n        /// </summary>\n        EfValueConverter = 16,\n\n        /// <summary>\n        /// Creates a Dapper TypeHandler for converting to and from the type\n        /// </summary>\n        DapperTypeHandler = 32,\n\n        /// <summary>\n        /// Creates a Swagger SchemaFilter for OpenApi documentation\n        /// </summary>\n        SwaggerSchemaFilter = 64,\n    }\n}\n#endif\n'))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Strongly\\src\\StronglyDemo\\obj\\GX\\Strongly\\Strongly.StronglyGenerator\\StronglyDefaultsAttribute.g.cs",label:"StronglyDefaultsAttribute.g.cs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'#if STRONGLY_TYPED_EMBED_ATTRIBUTES\n\nusing System;\n\nnamespace Strongly\n{\n    /// <summary>\n    /// Used to control the default Place on partial structs to make the type a strongly-typed ID\n    /// </summary>\n    [AttributeUsage(AttributeTargets.Assembly, Inherited = false, AllowMultiple = false)]\n    [System.Diagnostics.Conditional("STRONGLY_TYPED_USAGES")]\n    internal sealed class StronglyDefaultsAttribute : Attribute\n    {\n        /// <summary>\n        /// Set the default values used for strongly typed ids\n        /// </summary>\n        /// <param name="backingType">The <see cref="Type"/> to use to store the strongly-typed ID value.\n        /// Defaults to <see cref="StronglyType.Guid"/></param>\n        /// <param name="converters">JSON library used to serialize/deserialize strongly-typed ID value.\n        /// Defaults to <see cref="StronglyConverter.SystemTextJson"/> and <see cref="StronglyConverter.TypeConverter"/></param>\n        /// <param name="implementations">Interfaces and patterns the strongly typed id should implement\n        /// Defaults to <see cref="StronglyImplementations.IEquatable"/> and <see cref="StronglyImplementations.IComparable"/></param>\n        public StronglyDefaultsAttribute(\n            StronglyType backingType = StronglyType.Default,\n            StronglyConverter converters = StronglyConverter.Default,\n            StronglyImplementations implementations = StronglyImplementations.Default)\n        {\n            BackingType = backingType;\n            Converters = converters;\n            Implementations = implementations;\n        }\n\n        /// <summary>\n        /// The default <see cref="Type"/> to use to store the strongly-typed ID values.\n        /// </summary>\n        public StronglyType BackingType { get; }\n\n        /// <summary>\n        /// The default converters to create for serializing/deserializing strongly-typed ID values.\n        /// </summary>\n        public StronglyConverter Converters { get; }\n\n        /// <summary>\n        /// Interfaces and patterns the strongly typed id should implement\n        /// </summary>\n        public StronglyImplementations Implementations { get; }\n    }\n}\n#endif\n'))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Strongly\\src\\StronglyDemo\\obj\\GX\\Strongly\\Strongly.StronglyGenerator\\StronglyDemo.DayId.g.cs",label:"StronglyDemo.DayId.g.cs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by the Strongly source generator\n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n\n#pragma warning disable 1591 // publicly visible type or member must be documented\n\nnamespace StronglyDemo\n{\n    [System.Text.Json.Serialization.JsonConverter(typeof(DayIdSystemTextJsonConverter))]\n    [System.ComponentModel.TypeConverter(typeof(DayIdTypeConverter))]\nreadonly partial struct DayId : System.IComparable<DayId>, System.IEquatable<DayId>\n{\n    public int Value { get; }\n\n    public DayId(int value)\n    {\n        Value = value;\n    }\n    \n    public static readonly DayId Empty = new DayId(0);\n\n    public bool Equals(DayId other) => this.Value.Equals(other.Value);\n    public override bool Equals(object obj)\n    {\n        if (ReferenceEquals(null, obj)) return false;\n        return obj is DayId other && Equals(other);\n    }\n    public override int GetHashCode() => Value.GetHashCode();\n    public override string ToString() => Value.ToString();\n    public static bool operator ==(DayId a, DayId b) => a.Equals(b);\n    public static bool operator !=(DayId a, DayId b) => !(a == b);\n    public static DayId Parse(string value) => new DayId(int.Parse(value));\n    public static bool TryParse(string value, out DayId result)\n    {\n        if (int.TryParse(value, out int parseResult))\n        {\n            result = new DayId(parseResult);\n            return true;\n        }\n        result = default;\n        return false;\n    }\npublic int CompareTo(DayId other) => Value.CompareTo(other.Value);\n\n\nclass DayIdTypeConverter : System.ComponentModel.TypeConverter\n{\n    public override bool CanConvertFrom(System.ComponentModel.ITypeDescriptorContext context, System.Type sourceType)\n    {\n        return sourceType == typeof(int) || sourceType == typeof(string) || base.CanConvertFrom(context, sourceType);\n    }\n\n    public override object ConvertFrom(System.ComponentModel.ITypeDescriptorContext context, System.Globalization.CultureInfo culture, object value)\n    {\n        return value switch\n        {\n            int intValue => new DayId(intValue),\n            string stringValue when !string.IsNullOrEmpty(stringValue) && int.TryParse(stringValue, out var result) => new DayId(result),\n            _ => base.ConvertFrom(context, culture, value),\n        };\n    }\n\n    public override bool CanConvertTo(System.ComponentModel.ITypeDescriptorContext context, System.Type sourceType)\n    {\n        return sourceType == typeof(int) || sourceType == typeof(string) || base.CanConvertTo(context, sourceType);\n    }\n\n    public override object ConvertTo(System.ComponentModel.ITypeDescriptorContext context, System.Globalization.CultureInfo culture, object value, System.Type destinationType)\n    {\n        if (value is DayId idValue)\n        {\n            if (destinationType == typeof(int))\n            {\n                return idValue.Value;\n            }\n\n            if (destinationType == typeof(string))\n            {\n                return idValue.Value.ToString();\n            }\n        }\n\n        return base.ConvertTo(context, culture, value, destinationType);\n    }\n}\n\n\nclass DayIdSystemTextJsonConverter : System.Text.Json.Serialization.JsonConverter<DayId>\n{\n    public override DayId Read(ref System.Text.Json.Utf8JsonReader reader, System.Type typeToConvert, System.Text.Json.JsonSerializerOptions options)\n    {\n        return new DayId(reader.GetInt32());\n    }\n\n    public override void Write(System.Text.Json.Utf8JsonWriter writer, DayId value, System.Text.Json.JsonSerializerOptions options)\n    {\n        writer.WriteNumberValue(value.Value);\n    }\n}\n\n    }\n}\n\n"))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Strongly\\src\\StronglyDemo\\obj\\GX\\Strongly\\Strongly.StronglyGenerator\\StronglyDemo.MonthId.g.cs",label:"StronglyDemo.MonthId.g.cs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by the Strongly source generator\n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n\n#pragma warning disable 1591 // publicly visible type or member must be documented\n\nnamespace StronglyDemo\n{\n    [System.Text.Json.Serialization.JsonConverter(typeof(MonthIdSystemTextJsonConverter))]\n    [System.ComponentModel.TypeConverter(typeof(MonthIdTypeConverter))]\nreadonly partial struct MonthId : System.IComparable<MonthId>, System.IEquatable<MonthId>\n{\n    public int Value { get; }\n\n    public MonthId(int value)\n    {\n        Value = value;\n    }\n    \n    public static readonly MonthId Empty = new MonthId(0);\n\n    public bool Equals(MonthId other) => this.Value.Equals(other.Value);\n    public override bool Equals(object obj)\n    {\n        if (ReferenceEquals(null, obj)) return false;\n        return obj is MonthId other && Equals(other);\n    }\n    public override int GetHashCode() => Value.GetHashCode();\n    public override string ToString() => Value.ToString();\n    public static bool operator ==(MonthId a, MonthId b) => a.Equals(b);\n    public static bool operator !=(MonthId a, MonthId b) => !(a == b);\n    public static MonthId Parse(string value) => new MonthId(int.Parse(value));\n    public static bool TryParse(string value, out MonthId result)\n    {\n        if (int.TryParse(value, out int parseResult))\n        {\n            result = new MonthId(parseResult);\n            return true;\n        }\n        result = default;\n        return false;\n    }\npublic int CompareTo(MonthId other) => Value.CompareTo(other.Value);\n\n\nclass MonthIdTypeConverter : System.ComponentModel.TypeConverter\n{\n    public override bool CanConvertFrom(System.ComponentModel.ITypeDescriptorContext context, System.Type sourceType)\n    {\n        return sourceType == typeof(int) || sourceType == typeof(string) || base.CanConvertFrom(context, sourceType);\n    }\n\n    public override object ConvertFrom(System.ComponentModel.ITypeDescriptorContext context, System.Globalization.CultureInfo culture, object value)\n    {\n        return value switch\n        {\n            int intValue => new MonthId(intValue),\n            string stringValue when !string.IsNullOrEmpty(stringValue) && int.TryParse(stringValue, out var result) => new MonthId(result),\n            _ => base.ConvertFrom(context, culture, value),\n        };\n    }\n\n    public override bool CanConvertTo(System.ComponentModel.ITypeDescriptorContext context, System.Type sourceType)\n    {\n        return sourceType == typeof(int) || sourceType == typeof(string) || base.CanConvertTo(context, sourceType);\n    }\n\n    public override object ConvertTo(System.ComponentModel.ITypeDescriptorContext context, System.Globalization.CultureInfo culture, object value, System.Type destinationType)\n    {\n        if (value is MonthId idValue)\n        {\n            if (destinationType == typeof(int))\n            {\n                return idValue.Value;\n            }\n\n            if (destinationType == typeof(string))\n            {\n                return idValue.Value.ToString();\n            }\n        }\n\n        return base.ConvertTo(context, culture, value, destinationType);\n    }\n}\n\n\nclass MonthIdSystemTextJsonConverter : System.Text.Json.Serialization.JsonConverter<MonthId>\n{\n    public override MonthId Read(ref System.Text.Json.Utf8JsonReader reader, System.Type typeToConvert, System.Text.Json.JsonSerializerOptions options)\n    {\n        return new MonthId(reader.GetInt32());\n    }\n\n    public override void Write(System.Text.Json.Utf8JsonWriter writer, MonthId value, System.Text.Json.JsonSerializerOptions options)\n    {\n        writer.WriteNumberValue(value.Value);\n    }\n}\n\n    }\n}\n\n"))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Strongly\\src\\StronglyDemo\\obj\\GX\\Strongly\\Strongly.StronglyGenerator\\StronglyDemo.YearId.g.cs",label:"StronglyDemo.YearId.g.cs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by the Strongly source generator\n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n\n#pragma warning disable 1591 // publicly visible type or member must be documented\n\nnamespace StronglyDemo\n{\n    [System.Text.Json.Serialization.JsonConverter(typeof(YearIdSystemTextJsonConverter))]\n    [System.ComponentModel.TypeConverter(typeof(YearIdTypeConverter))]\nreadonly partial struct YearId : System.IComparable<YearId>, System.IEquatable<YearId>\n{\n    public int Value { get; }\n\n    public YearId(int value)\n    {\n        Value = value;\n    }\n    \n    public static readonly YearId Empty = new YearId(0);\n\n    public bool Equals(YearId other) => this.Value.Equals(other.Value);\n    public override bool Equals(object obj)\n    {\n        if (ReferenceEquals(null, obj)) return false;\n        return obj is YearId other && Equals(other);\n    }\n    public override int GetHashCode() => Value.GetHashCode();\n    public override string ToString() => Value.ToString();\n    public static bool operator ==(YearId a, YearId b) => a.Equals(b);\n    public static bool operator !=(YearId a, YearId b) => !(a == b);\n    public static YearId Parse(string value) => new YearId(int.Parse(value));\n    public static bool TryParse(string value, out YearId result)\n    {\n        if (int.TryParse(value, out int parseResult))\n        {\n            result = new YearId(parseResult);\n            return true;\n        }\n        result = default;\n        return false;\n    }\npublic int CompareTo(YearId other) => Value.CompareTo(other.Value);\n\n\nclass YearIdTypeConverter : System.ComponentModel.TypeConverter\n{\n    public override bool CanConvertFrom(System.ComponentModel.ITypeDescriptorContext context, System.Type sourceType)\n    {\n        return sourceType == typeof(int) || sourceType == typeof(string) || base.CanConvertFrom(context, sourceType);\n    }\n\n    public override object ConvertFrom(System.ComponentModel.ITypeDescriptorContext context, System.Globalization.CultureInfo culture, object value)\n    {\n        return value switch\n        {\n            int intValue => new YearId(intValue),\n            string stringValue when !string.IsNullOrEmpty(stringValue) && int.TryParse(stringValue, out var result) => new YearId(result),\n            _ => base.ConvertFrom(context, culture, value),\n        };\n    }\n\n    public override bool CanConvertTo(System.ComponentModel.ITypeDescriptorContext context, System.Type sourceType)\n    {\n        return sourceType == typeof(int) || sourceType == typeof(string) || base.CanConvertTo(context, sourceType);\n    }\n\n    public override object ConvertTo(System.ComponentModel.ITypeDescriptorContext context, System.Globalization.CultureInfo culture, object value, System.Type destinationType)\n    {\n        if (value is YearId idValue)\n        {\n            if (destinationType == typeof(int))\n            {\n                return idValue.Value;\n            }\n\n            if (destinationType == typeof(string))\n            {\n                return idValue.Value.ToString();\n            }\n        }\n\n        return base.ConvertTo(context, culture, value, destinationType);\n    }\n}\n\n\nclass YearIdSystemTextJsonConverter : System.Text.Json.Serialization.JsonConverter<YearId>\n{\n    public override YearId Read(ref System.Text.Json.Utf8JsonReader reader, System.Type typeToConvert, System.Text.Json.JsonSerializerOptions options)\n    {\n        return new YearId(reader.GetInt32());\n    }\n\n    public override void Write(System.Text.Json.Utf8JsonWriter writer, YearId value, System.Text.Json.JsonSerializerOptions options)\n    {\n        writer.WriteNumberValue(value.Value);\n    }\n}\n\n    }\n}\n\n"))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Strongly\\src\\StronglyDemo\\obj\\GX\\Strongly\\Strongly.StronglyGenerator\\StronglyImplementations.g.cs",label:"StronglyImplementations.g.cs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'#if STRONGLY_TYPED_EMBED_ATTRIBUTES\n\nusing System;\n\nnamespace Strongly\n{\n    /// <summary>\n    /// Interfaces and patterns the strongly typed id should implement\n    /// </summary>\n    [Flags]\n    internal enum StronglyImplementations\n    {\n        // Used with HasFlag, so needs to be 1, 2, 4 etc\n\n        /// <summary>\n        /// Don\'t implement any additional members for the strongly typed ID\n        /// </summary>\n        None = 0,\n\n        /// <summary>\n        /// Use the default implementations for the strongly typed Id.\n        /// This will be the value provided in the <see cref="StronglyDefaultsAttribute"/>, which falls back to\n        /// <see cref="IEquatable"/> and <see cref="IComparable"/>\n        /// </summary>\n        Default = 1,\n\n        // ReSharper disable once InconsistentNaming\n        /// <summary>\n        /// Implement the <see cref="IEquatable{T}"/> interface\n        /// </summary>\n        IEquatable = 2,\n\n        // ReSharper disable once InconsistentNaming\n        /// <summary>\n        /// Implement the <see cref="IComparable{T}"/> interface\n        /// </summary>\n        IComparable = 4,\n    }\n}\n#endif\n'))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\Strongly\\src\\StronglyDemo\\obj\\GX\\Strongly\\Strongly.StronglyGenerator\\StronglyType.g.cs",label:"StronglyType.g.cs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'#if STRONGLY_TYPED_EMBED_ATTRIBUTES\n\nusing System;\n\nnamespace Strongly\n{\n    /// <summary>\n    /// The <see cref="Type"/> to use to store the value of a strongly-typed ID\n    /// </summary>\n    internal enum StronglyType\n    {\n        /// <summary>\n        /// Use the default backing type (either the globally configured default, or Sequential Guid)\n        /// </summary>\n        Default = 0,\n        Guid,\n        SequentialGuid,\n        GuidComb,\n        Int,\n        String,\n        Long,\n        NullableString,\n        MassTransitNewId,\n        BigInteger,\n        Decimal,\n    }\n}\n#endif\n')))),(0,r.kt)("h2",{id:"usefull"},"Usefull"),(0,r.kt)("h3",{id:"download-example-net--c-"},"Download Example (.NET  C# )"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{target:"_blank",href:n(5978).Z},"Download Example project Strongly "))),(0,r.kt)("h3",{id:"share-strongly"},"Share Strongly"),(0,r.kt)("ul",null,(0,r.kt)("li",null,(0,r.kt)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FStrongly&quote=Strongly",title:"Share on Facebook",target:"_blank"},"Share on Facebook")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FStrongly&text=Strongly:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FStrongly",target:"_blank",title:"Tweet"},"Share in Twitter")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FStrongly&title=Strongly",target:"_blank",title:"Submit to Reddit"},"Share on Reddit")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FStrongly&title=Strongly&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FStrongly",target:"_blank",title:"Share on LinkedIn"},"Share on Linkedin"))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/Strongly"},"https://ignatandrei.github.io/RSCG_Examples/v2/docs/Strongly")),(0,r.kt)("h2",{id:"in-the-same-category-primitiveobsession"},"In the same category (PrimitiveObsession)"),(0,r.kt)("h3",{id:"domainprimitives"},(0,r.kt)("a",{parentName:"h3",href:"/docs/DomainPrimitives"},"DomainPrimitives")),(0,r.kt)("h3",{id:"unitgenerator"},(0,r.kt)("a",{parentName:"h3",href:"/docs/UnitGenerator"},"UnitGenerator")),(0,r.kt)("h3",{id:"vogen"},(0,r.kt)("a",{parentName:"h3",href:"/docs/Vogen"},"Vogen")))}g.isMDXComponent=!0},5978:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/files/Strongly-cdc36e67b534a80fbc68bb74290356a6.zip"}}]);