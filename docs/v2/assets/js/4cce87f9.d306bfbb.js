"use strict";(self.webpackChunkrscg_examples=self.webpackChunkrscg_examples||[]).push([[25204],{59714:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/files/SkinnyControllersCommon-cf5724bcf25aec052bb345ed56e4f5da.zip"},83605:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>u,frontMatter:()=>c,metadata:()=>o,toc:()=>m});const o=JSON.parse('{"id":"RSCG-Examples/SkinnyControllersCommon","title":"06 - SkinnyControllersCommon","description":"Automatically add controllers actions for any class injected in constructor","source":"@site/docs/RSCG-Examples/SkinnyControllersCommon.md","sourceDirName":"RSCG-Examples","slug":"/SkinnyControllersCommon","permalink":"/RSCG_Examples/v2/docs/SkinnyControllersCommon","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":60,"frontMatter":{"sidebar_position":60,"title":"06 - SkinnyControllersCommon","description":"Automatically add controllers actions for any class injected in constructor","slug":"/SkinnyControllersCommon"},"sidebar":"tutorialSidebar","previous":{"title":"05 - System.Text.RegularExpressions","permalink":"/RSCG_Examples/v2/docs/System.Text.RegularExpressions"},"next":{"title":"07 - Microsoft.Extensions.Logging","permalink":"/RSCG_Examples/v2/docs/Microsoft.Extensions.Logging"}}');var t=r(74848),i=r(28453),s=r(11470),l=r(19365),a=r(14252);const c={sidebar_position:60,title:"06 - SkinnyControllersCommon",description:"Automatically add controllers actions for any class injected in constructor",slug:"/SkinnyControllersCommon"},d="SkinnyControllersCommon  by Ignat Andrei",h={},m=[{value:"NuGet / site data",id:"nuget--site-data",level:2},{value:"Details",id:"details",level:2},{value:"Info",id:"info",level:3},{value:"Original Readme",id:"original-readme",level:3},{value:"About",id:"about",level:3},{value:"How to use",id:"how-to-use",level:2},{value:"Example ( source csproj, source files )",id:"example--source-csproj-source-files-",level:3},{value:"Generated Files",id:"generated-files",level:3},{value:"Useful",id:"useful",level:2},{value:"Download Example (.NET  C# )",id:"download-example-net--c-",level:3},{value:"Share SkinnyControllersCommon",id:"share-skinnycontrollerscommon",level:3},{value:"In the same category (API) - 9 other generators",id:"in-the-same-category-api---9-other-generators",level:3},{value:"immediate.apis",id:"immediateapis",level:4},{value:"Microsoft.Extensions.Configuration.Binder",id:"microsoftextensionsconfigurationbinder",level:4},{value:"MinimalApiBuilder",id:"minimalapibuilder",level:4},{value:"MinimalApis.Discovery",id:"minimalapisdiscovery",level:4},{value:"MinimalHelpers.Routing.Analyzers",id:"minimalhelpersroutinganalyzers",level:4},{value:"RDG",id:"rdg",level:4},{value:"Refit",id:"refit",level:4},{value:"RSCG_WebAPIExports",id:"rscg_webapiexports",level:4},{value:"SafeRouting",id:"saferouting",level:4}];function p(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"skinnycontrollerscommon--by-ignat-andrei",children:"SkinnyControllersCommon  by Ignat Andrei"})}),"\n",(0,t.jsx)(a.A,{toc:m}),"\n",(0,t.jsx)(n.h2,{id:"nuget--site-data",children:"NuGet / site data"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://www.nuget.org/packages/SkinnyControllersCommon",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/nuget/dt/SkinnyControllersCommon?label=SkinnyControllersCommon",alt:"Nuget"})}),"\n",(0,t.jsx)(n.a,{href:"https://github.com/ignatandrei/SkinnyControllersGenerator/",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/github/last-commit/ignatandrei/SkinnyControllersGenerator?label=updated",alt:"GitHub last commit"})}),"\n",(0,t.jsx)(n.img,{src:"https://img.shields.io/github/stars/ignatandrei/SkinnyControllersGenerator?style=social",alt:"GitHub Repo stars"})]}),"\n",(0,t.jsx)(n.h2,{id:"details",children:"Details"}),"\n",(0,t.jsx)(n.h3,{id:"info",children:"Info"}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsxs)(n.p,{children:["Name: ",(0,t.jsx)(n.strong,{children:"SkinnyControllersCommon"})]}),(0,t.jsx)(n.p,{children:"** C# 9.0 ONLY **"}),(0,t.jsx)(n.p,{children:"Author: Ignat Andrei"}),(0,t.jsxs)(n.p,{children:["NuGet:\n",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.a,{href:"https://www.nuget.org/packages/SkinnyControllersCommon",children:"https://www.nuget.org/packages/SkinnyControllersCommon"})})]}),(0,t.jsxs)(n.p,{children:["You can find more details at ",(0,t.jsx)(n.a,{href:"https://github.com/ignatandrei/SkinnyControllersGenerator/",children:"https://github.com/ignatandrei/SkinnyControllersGenerator/"})]}),(0,t.jsxs)(n.p,{children:["Source: ",(0,t.jsx)(n.a,{href:"https://github.com/ignatandrei/SkinnyControllersGenerator/",children:"https://github.com/ignatandrei/SkinnyControllersGenerator/"})]})]}),"\n",(0,t.jsx)(n.h3,{id:"original-readme",children:"Original Readme"}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsx)(n.h1,{id:"skinnycontrollersgenerator",children:"SkinnyControllersGenerator"}),(0,t.jsx)(n.p,{children:"SkinnyControllers generates controller action for each field of your controller"}),(0,t.jsx)(n.p,{children:"How to install SkinnyControllers  in a .NET Core 5 WebAPI / MVC application\nStep 1:"}),(0,t.jsxs)(n.p,{children:["Install ",(0,t.jsx)(n.a,{href:"https://www.nuget.org/packages/SkinnyControllersGenerator/",children:"https://www.nuget.org/packages/SkinnyControllersGenerator/"})]}),(0,t.jsx)(n.p,{children:"Step 2:"}),(0,t.jsxs)(n.p,{children:["Install ",(0,t.jsx)(n.a,{href:"https://www.nuget.org/packages/SkinnyControllersCommon/",children:"https://www.nuget.org/packages/SkinnyControllersCommon/"})]}),(0,t.jsx)(n.p,{children:"Step 3:"}),(0,t.jsx)(n.p,{children:"Add a field to your action either via DI, either directly"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'    [ApiController]\n    [Route("[controller]/[action]")]\n    public partial class WeatherForecastController : ControllerBase\n    {\n\n        private readonly RepositoryWF repository;\n        \n        public WeatherForecastController(RepositoryWF repository)\n        {\n            this.repository = repository;            \n            //or make\n\t\t\t//this.repository=new RepositoryWF();\n        }\n'})}),(0,t.jsx)(n.p,{children:"Step 4:"}),(0,t.jsx)(n.p,{children:"Add partial declaration and decorate your controller with"}),(0,t.jsxs)(n.p,{children:["[AutoActions(template = TemplateIndicator.AllPost,FieldsName =new[] ","*",", ExcludeFields =new[]","_logger",')]\n[ApiController]\n[Route("[controller]/[action]")]\npublic partial class WeatherForecastController : ControllerBase']}),(0,t.jsx)(n.p,{children:"You can choose your template from"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"All Post"}),"\n",(0,t.jsx)(n.li,{children:"Get - if not arguments, POST else"}),"\n",(0,t.jsx)(n.li,{children:"Rest action"}),"\n"]}),(0,t.jsx)(n.p,{children:"You can add your template in 2 ways:\n//if custom template , hte name must end in controller.txt"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["[AutoActions(template = TemplateIndicator.CustomTemplateFile, FieldsName = new[] ","*",' ,CustomTemplateFileName = "Controllers\\CustomTemplate1.controller.txt")]']}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["For creating new generic templates, please PR to ",(0,t.jsx)(n.a,{href:"https://github.com/ignatandrei/SkinnyControllersGenerator",children:"https://github.com/ignatandrei/SkinnyControllersGenerator"})]}),"\n"]}),"\n"]}),(0,t.jsx)(n.p,{children:"That's all!"}),(0,t.jsx)(n.p,{children:"Usual problems:"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"error CS0260: Missing partial modifier on declaration of type"}),"\n"]}),(0,t.jsx)(n.p,{children:"Answer:"}),(0,t.jsx)(n.p,{children:"Did you put partial on the controller declaration ?"}),(0,t.jsx)(n.p,{children:"public partial class"}),(0,t.jsx)(n.h1,{id:"more-roslyn-source-code-generators",children:"More Roslyn Source Code Generators"}),(0,t.jsxs)(n.p,{children:["You can find more RSCG with examples at ",(0,t.jsx)(n.a,{href:"https://ignatandrei.github.io/RSCG_Examples/v2/",children:"Roslyn Source Code Generators"})]})]}),"\n",(0,t.jsx)(n.h3,{id:"about",children:"About"}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Automatically add controllers actions for any class injected in constructor"})}),"\n",(0,t.jsx)(n.h2,{id:"how-to-use",children:"How to use"}),"\n",(0,t.jsx)(n.h3,{id:"example--source-csproj-source-files-",children:"Example ( source csproj, source files )"}),"\n",(0,t.jsxs)(s.A,{children:[(0,t.jsxs)(l.A,{value:"csproj",label:"CSharp Project",children:[(0,t.jsxs)(n.p,{children:["This is the CSharp Project that references ",(0,t.jsx)(n.strong,{children:"SkinnyControllersCommon"})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",metastring:"showLineNumbers {10}",children:'<Project Sdk="Microsoft.NET.Sdk.Web">\n\n  <PropertyGroup>\n    <TargetFramework>net6.0</TargetFramework>\n    <Nullable>enable</Nullable>\n    <ImplicitUsings>enable</ImplicitUsings>\n  </PropertyGroup>\n\n  <ItemGroup>\n    <PackageReference Include="SkinnyControllersCommon" Version="2023.5.14.2055" />\n    <PackageReference Include="Swashbuckle.AspNetCore" Version="6.2.3" />\n  </ItemGroup>\n\t<PropertyGroup>\n\t\t<EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n\t\t<CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n\t</PropertyGroup>\n</Project>\n\n'})})]}),(0,t.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\SkinnyControllersCommon\\src\\SkinnyControllersDemo\\Program.cs",label:"Program.cs",children:[(0,t.jsxs)(n.p,{children:["This is the use of ",(0,t.jsx)(n.strong,{children:"SkinnyControllersCommon"})," in ",(0,t.jsx)(n.em,{children:"Program.cs"})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",metastring:"showLineNumbers ",children:"using SkinnyControllersDemo.Controllers;\n\nvar builder = WebApplication.CreateBuilder(args);\n\n// Add services to the container.\n\nbuilder.Services.AddControllers();\n// Learn more about configuring Swagger/OpenAPI at https://aka.ms/aspnetcore/swashbuckle\nbuilder.Services.AddEndpointsApiExplorer();\nbuilder.Services.AddSwaggerGen();\nbuilder.Services.AddTransient<WeatherActions>();\nvar app = builder.Build();\n\n// Configure the HTTP request pipeline.\nif (app.Environment.IsDevelopment())\n{\n    app.UseSwagger();\n    app.UseSwaggerUI();\n}\n\napp.UseHttpsRedirection();\n\napp.UseAuthorization();\n\napp.MapControllers();\n\napp.Run();\n\n"})})]}),(0,t.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\SkinnyControllersCommon\\src\\SkinnyControllersDemo\\Controllers\\WeatherForecastController.cs",label:"WeatherForecastController.cs",children:[(0,t.jsxs)(n.p,{children:["This is the use of ",(0,t.jsx)(n.strong,{children:"SkinnyControllersCommon"})," in ",(0,t.jsx)(n.em,{children:"WeatherForecastController.cs"})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'using Microsoft.AspNetCore.Mvc;\nusing SkinnyControllersCommon;\n\nnamespace SkinnyControllersDemo.Controllers;\n[AutoActions(template = TemplateIndicator.NoArgs_Is_Get_Else_Post, FieldsName = new[] { "*" }, ExcludeFields = new[] { "_logger" })]\n[ApiController]\n[Route("[controller]/[action]")]\npublic partial class WeatherForecastController : ControllerBase\n{\n\n    private readonly ILogger<WeatherForecastController> _logger;\n    private readonly WeatherActions weather;\n\n    public WeatherForecastController(ILogger<WeatherForecastController> logger, WeatherActions weather)\n    {\n        _logger = logger;\n        this.weather = weather;\n    }\n\n    \n\n}\n'})})]}),(0,t.jsxs)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\SkinnyControllersCommon\\src\\SkinnyControllersDemo\\Controllers\\WeatherActions.cs",label:"WeatherActions.cs",children:[(0,t.jsxs)(n.p,{children:["This is the use of ",(0,t.jsx)(n.strong,{children:"SkinnyControllersCommon"})," in ",(0,t.jsx)(n.em,{children:"WeatherActions.cs"})]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'namespace SkinnyControllersDemo.Controllers\n{\n    public class WeatherActions\n    {\n        private static readonly string[] Summaries = new[]\n        {\n        "Freezing", "Bracing", "Chilly", "Cool", "Mild", "Warm", "Balmy", "Hot", "Sweltering", "Scorching"\n    };\n        public IEnumerable<WeatherForecast> Get()\n        {\n            return Enumerable.Range(1, 5).Select(index => new WeatherForecast\n            {\n                Date = DateTime.Now.AddDays(index),\n                TemperatureC = Random.Shared.Next(-20, 55),\n                Summary = Summaries[Random.Shared.Next(Summaries.Length)]\n            })\n            .ToArray();\n        }\n        public async Task<int> MultiplyBy2(int nr)\n        {\n            await Task.Delay(nr);\n            return nr*2;\n        }\n    }\n}\n'})})]})]}),"\n",(0,t.jsx)(n.h3,{id:"generated-files",children:"Generated Files"}),"\n",(0,t.jsx)(n.p,{children:"Those are taken from $(BaseIntermediateOutputPath)\\GX"}),"\n",(0,t.jsx)(s.A,{children:(0,t.jsx)(l.A,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\SkinnyControllersCommon\\src\\SkinnyControllersDemo\\obj\\GX\\SkinnyControllerGeneratorV2\\SkinnyControllerGeneratorV2.AutoGenerateActions\\WeatherForecastController.autogenerate.cs",label:"WeatherForecastController.autogenerate.cs",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",metastring:"showLineNumbers ",children:'//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by a tool.\n//\n//     SkinnyControllersGenerator: \n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n\nusing System.CodeDom.Compiler;\nusing System.Runtime.CompilerServices;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.Extensions.Logging;\n\nnamespace SkinnyControllersDemo.Controllers {\n  [GeneratedCode("SkinnyControllersGenerator", "")]\n  [CompilerGenerated]\n  partial class WeatherForecastController{ \n    /*[HttpGet()]\n    public int id(){\n    System.Diagnostics.Debugger.Break();\n    return 1;\n    } */\n\n      \n\n        [HttpGet] \n        public System.Collections.Generic.IEnumerable<SkinnyControllersDemo.WeatherForecast> Get (){\n            //System.Diagnostics.Debugger.Break();\n            \n                            return \n                        \n            weather.Get();\n\n        }\n      \n\n        [HttpPost] \n        public System.Threading.Tasks.Task<int> MultiplyBy2 (int nr){\n            //System.Diagnostics.Debugger.Break();\n            \n                            return \n                        \n            weather.MultiplyBy2(nr);\n\n        }\n      \n    \n  }\n}              \n'})})})}),"\n",(0,t.jsx)(n.h2,{id:"useful",children:"Useful"}),"\n",(0,t.jsx)(n.h3,{id:"download-example-net--c-",children:"Download Example (.NET  C# )"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:r(59714).A+"",children:"Download Example project SkinnyControllersCommon "})})}),"\n",(0,t.jsx)(n.h3,{id:"share-skinnycontrollerscommon",children:"Share SkinnyControllersCommon"}),"\n",(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon&quote=SkinnyControllersCommon",title:"Share on Facebook",target:"_blank",children:"Share on Facebook"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon&text=SkinnyControllersCommon:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon",target:"_blank",title:"Tweet",children:"Share in Twitter"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon&title=SkinnyControllersCommon",target:"_blank",title:"Submit to Reddit",children:"Share on Reddit"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon&title=SkinnyControllersCommon&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon",target:"_blank",title:"Share on LinkedIn",children:"Share on Linkedin"})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/SkinnyControllersCommon",children:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/SkinnyControllersCommon"})}),"\n",(0,t.jsx)(n.h3,{id:"in-the-same-category-api---9-other-generators",children:"In the same category (API) - 9 other generators"}),"\n",(0,t.jsx)(n.h4,{id:"immediateapis",children:(0,t.jsx)(n.a,{href:"/docs/immediate.apis",children:"immediate.apis"})}),"\n",(0,t.jsx)(n.h4,{id:"microsoftextensionsconfigurationbinder",children:(0,t.jsx)(n.a,{href:"/docs/Microsoft.Extensions.Configuration.Binder",children:"Microsoft.Extensions.Configuration.Binder"})}),"\n",(0,t.jsx)(n.h4,{id:"minimalapibuilder",children:(0,t.jsx)(n.a,{href:"/docs/MinimalApiBuilder",children:"MinimalApiBuilder"})}),"\n",(0,t.jsx)(n.h4,{id:"minimalapisdiscovery",children:(0,t.jsx)(n.a,{href:"/docs/MinimalApis.Discovery",children:"MinimalApis.Discovery"})}),"\n",(0,t.jsx)(n.h4,{id:"minimalhelpersroutinganalyzers",children:(0,t.jsx)(n.a,{href:"/docs/MinimalHelpers.Routing.Analyzers",children:"MinimalHelpers.Routing.Analyzers"})}),"\n",(0,t.jsx)(n.h4,{id:"rdg",children:(0,t.jsx)(n.a,{href:"/docs/RDG",children:"RDG"})}),"\n",(0,t.jsx)(n.h4,{id:"refit",children:(0,t.jsx)(n.a,{href:"/docs/Refit",children:"Refit"})}),"\n",(0,t.jsx)(n.h4,{id:"rscg_webapiexports",children:(0,t.jsx)(n.a,{href:"/docs/RSCG_WebAPIExports",children:"RSCG_WebAPIExports"})}),"\n",(0,t.jsx)(n.h4,{id:"saferouting",children:(0,t.jsx)(n.a,{href:"/docs/SafeRouting",children:"SafeRouting"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}}}]);