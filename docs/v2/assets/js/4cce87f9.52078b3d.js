"use strict";(self.webpackChunkrscg_examples=self.webpackChunkrscg_examples||[]).push([[5162],{13878:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>m,default:()=>g,frontMatter:()=>s,metadata:()=>p,toc:()=>d});var o=t(87462),r=(t(67294),t(3905)),a=t(73992),i=t(18679),l=t(68839);const s={sidebar_position:60,title:"06 - SkinnyControllersCommon",description:"Automatically add controllers actions for any class injected in constructor",slug:"/SkinnyControllersCommon"},m="SkinnyControllersCommon  by Ignat Andrei",p={unversionedId:"RSCG-Examples/SkinnyControllersCommon",id:"RSCG-Examples/SkinnyControllersCommon",title:"06 - SkinnyControllersCommon",description:"Automatically add controllers actions for any class injected in constructor",source:"@site/docs/RSCG-Examples/SkinnyControllersCommon.md",sourceDirName:"RSCG-Examples",slug:"/SkinnyControllersCommon",permalink:"/RSCG_Examples/v2/docs/SkinnyControllersCommon",draft:!1,tags:[],version:"current",sidebarPosition:60,frontMatter:{sidebar_position:60,title:"06 - SkinnyControllersCommon",description:"Automatically add controllers actions for any class injected in constructor",slug:"/SkinnyControllersCommon"},sidebar:"tutorialSidebar",previous:{title:"05 - System.Text.RegularExpressions",permalink:"/RSCG_Examples/v2/docs/System.Text.RegularExpressions"},next:{title:"07 - Microsoft.Extensions.Logging",permalink:"/RSCG_Examples/v2/docs/Microsoft.Extensions.Logging"}},c={},d=[{value:"Nuget / site data",id:"nuget--site-data",level:2},{value:"Details",id:"details",level:2},{value:"Info",id:"info",level:3},{value:"Original Readme",id:"original-readme",level:3},{value:"About",id:"about",level:3},{value:"How to use",id:"how-to-use",level:2},{value:"Example ( source csproj, source files )",id:"example--source-csproj-source-files-",level:3},{value:"Generated Files",id:"generated-files",level:3},{value:"Usefull",id:"usefull",level:2},{value:"Download Example (.NET  C# )",id:"download-example-net--c-",level:3},{value:"Share SkinnyControllersCommon",id:"share-skinnycontrollerscommon",level:3},{value:"In the same category (API) - 9 other generators",id:"in-the-same-category-api---9-other-generators",level:3},{value:"immediate.apis",id:"immediateapis",level:4},{value:"Microsoft.Extensions.Configuration.Binder",id:"microsoftextensionsconfigurationbinder",level:4},{value:"MinimalApiBuilder",id:"minimalapibuilder",level:4},{value:"MinimalApis.Discovery",id:"minimalapisdiscovery",level:4},{value:"MinimalHelpers.Routing.Analyzers",id:"minimalhelpersroutinganalyzers",level:4},{value:"RDG",id:"rdg",level:4},{value:"Refit",id:"refit",level:4},{value:"RSCG_WebAPIExports",id:"rscg_webapiexports",level:4},{value:"SafeRouting",id:"saferouting",level:4}],u={toc:d},k="wrapper";function g(e){let{components:n,...s}=e;return(0,r.kt)(k,(0,o.Z)({},u,s,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"skinnycontrollerscommon--by-ignat-andrei"},"SkinnyControllersCommon  by Ignat Andrei"),(0,r.kt)(l.Z,{toc:d,mdxType:"TOCInline"}),(0,r.kt)("h2",{id:"nuget--site-data"},"Nuget / site data"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/SkinnyControllersCommon"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/nuget/dt/SkinnyControllersCommon?label=SkinnyControllersCommon",alt:"Nuget"})),"\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ignatandrei/SkinnyControllersGenerator/"},(0,r.kt)("img",{parentName:"a",src:"https://img.shields.io/github/last-commit/ignatandrei/SkinnyControllersGenerator?label=updated",alt:"GitHub last commit"})),"\n",(0,r.kt)("img",{parentName:"p",src:"https://img.shields.io/github/stars/ignatandrei/SkinnyControllersGenerator?style=social",alt:"GitHub Repo stars"})),(0,r.kt)("h2",{id:"details"},"Details"),(0,r.kt)("h3",{id:"info"},"Info"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Name: ",(0,r.kt)("strong",{parentName:"p"},"SkinnyControllersCommon")),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"}," C# 9.0 ONLY ")),(0,r.kt)("p",{parentName:"admonition"},"Author: Ignat Andrei"),(0,r.kt)("p",{parentName:"admonition"},"NuGet:\n",(0,r.kt)("em",{parentName:"p"},(0,r.kt)("a",{parentName:"em",href:"https://www.nuget.org/packages/SkinnyControllersCommon"},"https://www.nuget.org/packages/SkinnyControllersCommon")),"   "),(0,r.kt)("p",{parentName:"admonition"},"You can find more details at ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ignatandrei/SkinnyControllersGenerator/"},"https://github.com/ignatandrei/SkinnyControllersGenerator/")),(0,r.kt)("p",{parentName:"admonition"},"Source : ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ignatandrei/SkinnyControllersGenerator/"},"https://github.com/ignatandrei/SkinnyControllersGenerator/"))),(0,r.kt)("h3",{id:"original-readme"},"Original Readme"),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("h1",{parentName:"admonition",id:"skinnycontrollersgenerator"},"SkinnyControllersGenerator"),(0,r.kt)("p",{parentName:"admonition"},"SkinnyControllers generates controller action for each field of your controller "),(0,r.kt)("p",{parentName:"admonition"},"How to install SkinnyControllers  in a .NET Core 5 WebAPI / MVC application\nStep 1:"),(0,r.kt)("p",{parentName:"admonition"},"Install ",(0,r.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/SkinnyControllersGenerator/"},"https://www.nuget.org/packages/SkinnyControllersGenerator/")," "),(0,r.kt)("p",{parentName:"admonition"},"Step 2:"),(0,r.kt)("p",{parentName:"admonition"},"Install ",(0,r.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/SkinnyControllersCommon/"},"https://www.nuget.org/packages/SkinnyControllersCommon/")),(0,r.kt)("p",{parentName:"admonition"},"Step 3:"),(0,r.kt)("p",{parentName:"admonition"},"Add a field to your action either via DI, either directly"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre"},'[ApiController]\n[Route("[controller]/[action]")]\npublic partial class WeatherForecastController : ControllerBase\n{\n\n    private readonly RepositoryWF repository;\n    \n    public WeatherForecastController(RepositoryWF repository)\n    {\n        this.repository = repository;            \n        //or make\n        //this.repository=new RepositoryWF();\n    }\n\n    \n')),(0,r.kt)("p",{parentName:"admonition"},"Step 4:"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre"},'Add partial declaration and decorate your controller with \n\n[AutoActions(template = TemplateIndicator.AllPost,FieldsName =new[] { "*" }, ExcludeFields =new[]{"_logger"})]\n[ApiController]\n[Route("[controller]/[action]")]\npublic partial class WeatherForecastController : ControllerBase\n')),(0,r.kt)("p",{parentName:"admonition"},"You can choose your template from "),(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"All Post"),(0,r.kt)("li",{parentName:"ol"},"Get - if not arguments, POST else"),(0,r.kt)("li",{parentName:"ol"},"Rest action")),(0,r.kt)("p",{parentName:"admonition"},"You can add your template in 2 ways:\n//if custom template , hte name must end in controller.txt"),(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},'[AutoActions(template = TemplateIndicator.CustomTemplateFile, FieldsName = new[] { "*" } ,CustomTemplateFileName = "Controllers',"\\",'CustomTemplate1.controller.txt")]')),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"For creating new generic templates, please PR to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ignatandrei/SkinnyControllersGenerator"},"https://github.com/ignatandrei/SkinnyControllersGenerator")))),(0,r.kt)("p",{parentName:"admonition"},"That's all!"),(0,r.kt)("p",{parentName:"admonition"},"Usual problems:"),(0,r.kt)("ol",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ol"},"error CS0260: Missing partial modifier on declaration of type ")),(0,r.kt)("p",{parentName:"admonition"},"Answer:"),(0,r.kt)("p",{parentName:"admonition"},"Did you put partial on the controller declaration ? "),(0,r.kt)("p",{parentName:"admonition"},"public partial class "),(0,r.kt)("h1",{parentName:"admonition",id:"more-roslyn-source-code-generators"},"More Roslyn Source Code Generators"),(0,r.kt)("p",{parentName:"admonition"},"You can find more RSCG with examples at ",(0,r.kt)("a",{parentName:"p",href:"https://ignatandrei.github.io/RSCG_Examples/v2/"},"Roslyn Source Code Generators"))),(0,r.kt)("h3",{id:"about"},"About"),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Automatically add controllers actions for any class injected in constructor")),(0,r.kt)("h2",{id:"how-to-use"},"How to use"),(0,r.kt)("h3",{id:"example--source-csproj-source-files-"},"Example ( source csproj, source files )"),(0,r.kt)(a.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"csproj",label:"CSharp Project",mdxType:"TabItem"},(0,r.kt)("p",null,"This is the CSharp Project that references ",(0,r.kt)("strong",{parentName:"p"},"SkinnyControllersCommon")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml",metastring:"showLineNumbers {10}",showLineNumbers:!0,"{10}":!0},'<Project Sdk="Microsoft.NET.Sdk.Web">\n\n  <PropertyGroup>\n    <TargetFramework>net6.0</TargetFramework>\n    <Nullable>enable</Nullable>\n    <ImplicitUsings>enable</ImplicitUsings>\n  </PropertyGroup>\n\n  <ItemGroup>\n    <PackageReference Include="SkinnyControllersCommon" Version="2023.5.14.2055" />\n    <PackageReference Include="Swashbuckle.AspNetCore" Version="6.2.3" />\n  </ItemGroup>\n    <PropertyGroup>\n        <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n        <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n    </PropertyGroup>\n</Project>\n\n'))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\SkinnyControllersCommon\\src\\SkinnyControllersDemo\\Program.cs",label:"Program.cs",mdxType:"TabItem"},(0,r.kt)("p",null,"  This is the use of ",(0,r.kt)("strong",{parentName:"p"},"SkinnyControllersCommon")," in ",(0,r.kt)("em",{parentName:"p"},"Program.cs")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"using SkinnyControllersDemo.Controllers;\n\nvar builder = WebApplication.CreateBuilder(args);\n\n// Add services to the container.\n\nbuilder.Services.AddControllers();\n// Learn more about configuring Swagger/OpenAPI at https://aka.ms/aspnetcore/swashbuckle\nbuilder.Services.AddEndpointsApiExplorer();\nbuilder.Services.AddSwaggerGen();\nbuilder.Services.AddTransient<WeatherActions>();\nvar app = builder.Build();\n\n// Configure the HTTP request pipeline.\nif (app.Environment.IsDevelopment())\n{\n    app.UseSwagger();\n    app.UseSwaggerUI();\n}\n\napp.UseHttpsRedirection();\n\napp.UseAuthorization();\n\napp.MapControllers();\n\napp.Run();\n\n"))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\SkinnyControllersCommon\\src\\SkinnyControllersDemo\\Controllers\\WeatherForecastController.cs",label:"WeatherForecastController.cs",mdxType:"TabItem"},(0,r.kt)("p",null,"  This is the use of ",(0,r.kt)("strong",{parentName:"p"},"SkinnyControllersCommon")," in ",(0,r.kt)("em",{parentName:"p"},"WeatherForecastController.cs")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'using Microsoft.AspNetCore.Mvc;\nusing SkinnyControllersCommon;\n\nnamespace SkinnyControllersDemo.Controllers;\n[AutoActions(template = TemplateIndicator.NoArgs_Is_Get_Else_Post, FieldsName = new[] { "*" }, ExcludeFields = new[] { "_logger" })]\n[ApiController]\n[Route("[controller]/[action]")]\npublic partial class WeatherForecastController : ControllerBase\n{\n\n    private readonly ILogger<WeatherForecastController> _logger;\n    private readonly WeatherActions weather;\n\n    public WeatherForecastController(ILogger<WeatherForecastController> logger, WeatherActions weather)\n    {\n        _logger = logger;\n        this.weather = weather;\n    }\n\n    \n\n}\n'))),(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\SkinnyControllersCommon\\src\\SkinnyControllersDemo\\Controllers\\WeatherActions.cs",label:"WeatherActions.cs",mdxType:"TabItem"},(0,r.kt)("p",null,"  This is the use of ",(0,r.kt)("strong",{parentName:"p"},"SkinnyControllersCommon")," in ",(0,r.kt)("em",{parentName:"p"},"WeatherActions.cs")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'namespace SkinnyControllersDemo.Controllers\n{\n    public class WeatherActions\n    {\n        private static readonly string[] Summaries = new[]\n        {\n        "Freezing", "Bracing", "Chilly", "Cool", "Mild", "Warm", "Balmy", "Hot", "Sweltering", "Scorching"\n    };\n        public IEnumerable<WeatherForecast> Get()\n        {\n            return Enumerable.Range(1, 5).Select(index => new WeatherForecast\n            {\n                Date = DateTime.Now.AddDays(index),\n                TemperatureC = Random.Shared.Next(-20, 55),\n                Summary = Summaries[Random.Shared.Next(Summaries.Length)]\n            })\n            .ToArray();\n        }\n        public async Task<int> MultiplyBy2(int nr)\n        {\n            await Task.Delay(nr);\n            return nr*2;\n        }\n    }\n}\n')))),(0,r.kt)("h3",{id:"generated-files"},"Generated Files"),(0,r.kt)("p",null,"Those are taken from $(BaseIntermediateOutputPath)\\GX"),(0,r.kt)(a.Z,{mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\SkinnyControllersCommon\\src\\SkinnyControllersDemo\\obj\\GX\\SkinnyControllerGeneratorV2\\SkinnyControllerGeneratorV2.AutoGenerateActions\\WeatherForecastController.autogenerate.cs",label:"WeatherForecastController.autogenerate.cs",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by a tool.\n//\n//     SkinnyControllersGenerator: \n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n\nusing System.CodeDom.Compiler;\nusing System.Runtime.CompilerServices;\nusing Microsoft.AspNetCore.Mvc;\nusing Microsoft.Extensions.Logging;\n\nnamespace SkinnyControllersDemo.Controllers {\n  [GeneratedCode("SkinnyControllersGenerator", "")]\n  [CompilerGenerated]\n  partial class WeatherForecastController{ \n    /*[HttpGet()]\n    public int id(){\n    System.Diagnostics.Debugger.Break();\n    return 1;\n    } */\n\n      \n\n        [HttpGet] \n        public System.Collections.Generic.IEnumerable<SkinnyControllersDemo.WeatherForecast> Get (){\n            //System.Diagnostics.Debugger.Break();\n            \n                            return \n                        \n            weather.Get();\n\n        }\n      \n\n        [HttpPost] \n        public System.Threading.Tasks.Task<int> MultiplyBy2 (int nr){\n            //System.Diagnostics.Debugger.Break();\n            \n                            return \n                        \n            weather.MultiplyBy2(nr);\n\n        }\n      \n    \n  }\n}              \n')))),(0,r.kt)("h2",{id:"usefull"},"Usefull"),(0,r.kt)("h3",{id:"download-example-net--c-"},"Download Example (.NET  C# )"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{target:"_blank",href:t(27416).Z},"Download Example project SkinnyControllersCommon "))),(0,r.kt)("h3",{id:"share-skinnycontrollerscommon"},"Share SkinnyControllersCommon"),(0,r.kt)("ul",null,(0,r.kt)("li",null,(0,r.kt)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon&quote=SkinnyControllersCommon",title:"Share on Facebook",target:"_blank"},"Share on Facebook")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon&text=SkinnyControllersCommon:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon",target:"_blank",title:"Tweet"},"Share in Twitter")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon&title=SkinnyControllersCommon",target:"_blank",title:"Submit to Reddit"},"Share on Reddit")),(0,r.kt)("li",null,(0,r.kt)("a",{href:"http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon&title=SkinnyControllersCommon&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSkinnyControllersCommon",target:"_blank",title:"Share on LinkedIn"},"Share on Linkedin"))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/SkinnyControllersCommon"},"https://ignatandrei.github.io/RSCG_Examples/v2/docs/SkinnyControllersCommon")),(0,r.kt)("h3",{id:"in-the-same-category-api---9-other-generators"},"In the same category (API) - 9 other generators"),(0,r.kt)("h4",{id:"immediateapis"},(0,r.kt)("a",{parentName:"h4",href:"/docs/immediate.apis"},"immediate.apis")),(0,r.kt)("h4",{id:"microsoftextensionsconfigurationbinder"},(0,r.kt)("a",{parentName:"h4",href:"/docs/Microsoft.Extensions.Configuration.Binder"},"Microsoft.Extensions.Configuration.Binder")),(0,r.kt)("h4",{id:"minimalapibuilder"},(0,r.kt)("a",{parentName:"h4",href:"/docs/MinimalApiBuilder"},"MinimalApiBuilder")),(0,r.kt)("h4",{id:"minimalapisdiscovery"},(0,r.kt)("a",{parentName:"h4",href:"/docs/MinimalApis.Discovery"},"MinimalApis.Discovery")),(0,r.kt)("h4",{id:"minimalhelpersroutinganalyzers"},(0,r.kt)("a",{parentName:"h4",href:"/docs/MinimalHelpers.Routing.Analyzers"},"MinimalHelpers.Routing.Analyzers")),(0,r.kt)("h4",{id:"rdg"},(0,r.kt)("a",{parentName:"h4",href:"/docs/RDG"},"RDG")),(0,r.kt)("h4",{id:"refit"},(0,r.kt)("a",{parentName:"h4",href:"/docs/Refit"},"Refit")),(0,r.kt)("h4",{id:"rscg_webapiexports"},(0,r.kt)("a",{parentName:"h4",href:"/docs/RSCG_WebAPIExports"},"RSCG_WebAPIExports")),(0,r.kt)("h4",{id:"saferouting"},(0,r.kt)("a",{parentName:"h4",href:"/docs/SafeRouting"},"SafeRouting")))}g.isMDXComponent=!0},27416:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/files/SkinnyControllersCommon-cf5724bcf25aec052bb345ed56e4f5da.zip"}}]);