"use strict";(self.webpackChunkrscg_examples=self.webpackChunkrscg_examples||[]).push([[8104],{2304:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>p,default:()=>g,frontMatter:()=>l,metadata:()=>m,toc:()=>c});var a=t(7462),o=(t(7294),t(4137)),s=t(3992),r=t(425),i=t(8839);const l={sidebar_position:30,title:"RSCG - System.Text.Json",description:"Json Serialize without reflection",slug:"/System.Text.Json"},p="System.Text.Json  by Microsoft",m={unversionedId:"RSCG-Examples/System.Text.Json",id:"RSCG-Examples/System.Text.Json",title:"RSCG - System.Text.Json",description:"Json Serialize without reflection",source:"@site/docs/RSCG-Examples/System.Text.Json.md",sourceDirName:"RSCG-Examples",slug:"/System.Text.Json",permalink:"/RSCG_Examples/v2/docs/System.Text.Json",draft:!1,tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30,title:"RSCG - System.Text.Json",description:"Json Serialize without reflection",slug:"/System.Text.Json"},sidebar:"tutorialSidebar",previous:{title:"RSCG - RSCG_TimeBombComment",permalink:"/RSCG_Examples/v2/docs/RSCG_TimeBombComment"},next:{title:"RSCG - RSCG_Utils",permalink:"/RSCG_Examples/v2/docs/RSCG_Utils"}},u={},c=[{value:"Details",id:"details",level:2},{value:"Info",id:"info",level:3},{value:"About",id:"about",level:3},{value:"How to use",id:"how-to-use",level:2},{value:"Example ( source csproj, source files )",id:"example--source-csproj-source-files-",level:3},{value:"Generated Files",id:"generated-files",level:3},{value:"Usefull",id:"usefull",level:2},{value:"Download Example",id:"download-example",level:3},{value:"Download PDF",id:"download-pdf",level:3},{value:"Share System.Text.Json",id:"share-systemtextjson",level:3}],d={toc:c},S="wrapper";function g(e){let{components:n,...l}=e;return(0,o.kt)(S,(0,a.Z)({},d,l,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"systemtextjson--by-microsoft"},"System.Text.Json  by Microsoft"),(0,o.kt)(i.Z,{toc:c,mdxType:"TOCInline"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/System.Text.Json/"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/nuget/dt/System.Text.Json?label=System.Text.Json",alt:"Nuget"})),"\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dotnet/runtime"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/github/last-commit/dotnet/runtime?label=updated",alt:"GitHub last commit"})),"\n",(0,o.kt)("img",{parentName:"p",src:"https://img.shields.io/github/stars/dotnet/runtime?style=social",alt:"GitHub Repo stars"})),(0,o.kt)("h2",{id:"details"},"Details"),(0,o.kt)("h3",{id:"info"},"Info"),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Name: ",(0,o.kt)("strong",{parentName:"p"},"System.Text.Json")),(0,o.kt)("p",{parentName:"admonition"},"Author: Microsoft"),(0,o.kt)("p",{parentName:"admonition"},"NuGet:\n",(0,o.kt)("em",{parentName:"p"},(0,o.kt)("a",{parentName:"em",href:"https://www.nuget.org/packages/System.Text.Json/"},"https://www.nuget.org/packages/System.Text.Json/")),"   "),(0,o.kt)("p",{parentName:"admonition"},"You can find more details at ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/source-generation"},"https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/source-generation")),(0,o.kt)("p",{parentName:"admonition"},"Source : ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dotnet/runtime"},"https://github.com/dotnet/runtime"))),(0,o.kt)("h3",{id:"about"},"About"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Json Serialize without reflection")),(0,o.kt)("h2",{id:"how-to-use"},"How to use"),(0,o.kt)("h3",{id:"example--source-csproj-source-files-"},"Example ( source csproj, source files )"),(0,o.kt)(s.Z,{mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"csproj",label:"CSharp Project",mdxType:"TabItem"},(0,o.kt)("p",null,"This is the CSharp Project that references ",(0,o.kt)("strong",{parentName:"p"},"System.Text.Json")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},'<Project Sdk="Microsoft.NET.Sdk">\n\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>net7.0</TargetFramework>\n    <ImplicitUsings>enable</ImplicitUsings>\n    <Nullable>enable</Nullable>\n  </PropertyGroup>\n    <PropertyGroup>\n        <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n        <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GeneratedX</CompilerGeneratedFilesOutputPath>\n    </PropertyGroup>\n\n</Project>\n\n'))),(0,o.kt)(r.Z,{value:"Program.cs",label:"Program.cs",mdxType:"TabItem"},(0,o.kt)("p",null,"  This is the use of ",(0,o.kt)("strong",{parentName:"p"},"System.Text.Json")," in ",(0,o.kt)("em",{parentName:"p"},"Program.cs")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'using JsonSerializerOptionsExample;\nusing System.Text.Json;\n//for asp.net core\n//services.AddControllers().AddJsonOptions(options => options.JsonSerializerOptions.AddContext<MyJsonContext>());\n//https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/raw-string\n\nstring jsonString ="""\n{\n  "date": "2019-08-01T00:00:00",\n  "temperatureCelsius": 25,\n  "summary": "Hot"\n}\n""";\n        WeatherForecast? weatherForecast= JsonSerializer.Deserialize(\n            jsonString,\n            typeof(WeatherForecast),\n            new OptionsExampleContext(\n                new JsonSerializerOptions(JsonSerializerDefaults.Web)))\n                as WeatherForecast;\n        Console.WriteLine($"Date={weatherForecast?.Date}");\n        // output:\n        //Date=8/1/2019 12:00:00 AM\n\n        jsonString = JsonSerializer.Serialize(\n            weatherForecast,\n            typeof(WeatherForecast),\n            new OptionsExampleContext(\n                new JsonSerializerOptions(JsonSerializerDefaults.Web)));\n        Console.WriteLine(jsonString);\njsonString = JsonSerializer.Serialize(\n    weatherForecast,\n    typeof(WeatherForecast),\n    new OptionsExampleContext(\n        new JsonSerializerOptions(JsonSerializerDefaults.General)));\nConsole.WriteLine(jsonString);\n// output:\n//{ "date":"2019-08-01T00:00:00","temperatureCelsius":25,"summary":"Hot"}\n\n'))),(0,o.kt)(r.Z,{value:"WeatherForecast.cs",label:"WeatherForecast.cs",mdxType:"TabItem"},(0,o.kt)("p",null,"  This is the use of ",(0,o.kt)("strong",{parentName:"p"},"System.Text.Json")," in ",(0,o.kt)("em",{parentName:"p"},"WeatherForecast.cs")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"namespace JsonSerializerOptionsExample;\n\npublic class WeatherForecast\n{\n    public DateTime Date { get; set; }\n    public int TemperatureCelsius { get; set; }\n    public string? Summary { get; set; }\n}\n\n"))),(0,o.kt)(r.Z,{value:"OptionsExampleContext.cs",label:"OptionsExampleContext.cs",mdxType:"TabItem"},(0,o.kt)("p",null,"  This is the use of ",(0,o.kt)("strong",{parentName:"p"},"System.Text.Json")," in ",(0,o.kt)("em",{parentName:"p"},"OptionsExampleContext.cs")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"using System.Text.Json.Serialization;\n\nnamespace JsonSerializerOptionsExample;\n\n[JsonSerializable(typeof(WeatherForecast))]\ninternal partial class OptionsExampleContext : JsonSerializerContext\n{\n}\n\n")))),(0,o.kt)("h3",{id:"generated-files"},"Generated Files"),(0,o.kt)("p",null,"Those are taken from $(BaseIntermediateOutputPath)\\GeneratedX"),(0,o.kt)(s.Z,{mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"OptionsExampleContext.DateTime.g.cs001",label:"OptionsExampleContext.DateTime.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext\n    {\n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.DateTime>? _DateTime;\n        /// <summary>\n        /// Defines the source generated JSON serialization contract metadata for a given type.\n        /// </summary>\n        public global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.DateTime> DateTime\n        {\n            get => _DateTime ??= Create_DateTime(Options, makeReadOnly: true);\n        }\n        \n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.DateTime> Create_DateTime(global::System.Text.Json.JsonSerializerOptions options, bool makeReadOnly)\n        {\n            global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.DateTime>? jsonTypeInfo = null;\n            global::System.Text.Json.Serialization.JsonConverter? customConverter;\n            if (options.Converters.Count > 0 && (customConverter = GetRuntimeProvidedCustomConverter(options, typeof(global::System.DateTime))) != null)\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.DateTime>(options, customConverter);\n            }\n            else\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.DateTime>(options, global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.DateTimeConverter);\n            }\n        \n            if (makeReadOnly)\n            {\n                jsonTypeInfo.MakeReadOnly();\n            }\n        \n            return jsonTypeInfo;\n        }\n        \n    }\n}\n\n"))),(0,o.kt)(r.Z,{value:"OptionsExampleContext.g.cs002",label:"OptionsExampleContext.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    \n    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("System.Text.Json.SourceGeneration", "7.0.8.17405")]\n    internal partial class OptionsExampleContext\n    {\n        \n        private static global::System.Text.Json.JsonSerializerOptions s_defaultOptions { get; } = new global::System.Text.Json.JsonSerializerOptions()\n        {\n            DefaultIgnoreCondition = global::System.Text.Json.Serialization.JsonIgnoreCondition.Never,\n            IgnoreReadOnlyFields = false,\n            IgnoreReadOnlyProperties = false,\n            IncludeFields = false,\n            WriteIndented = false,\n        };\n        \n        private static global::JsonSerializerOptionsExample.OptionsExampleContext? s_defaultContext;\n        \n        /// <summary>\n        /// The default <see cref="global::System.Text.Json.Serialization.JsonSerializerContext"/> associated with a default <see cref="global::System.Text.Json.JsonSerializerOptions"/> instance.\n        /// </summary>\n        public static global::JsonSerializerOptionsExample.OptionsExampleContext Default => s_defaultContext ??= new global::JsonSerializerOptionsExample.OptionsExampleContext(new global::System.Text.Json.JsonSerializerOptions(s_defaultOptions));\n        \n        /// <summary>\n        /// The source-generated options associated with this context.\n        /// </summary>\n        protected override global::System.Text.Json.JsonSerializerOptions? GeneratedSerializerOptions { get; } = s_defaultOptions;\n        \n        /// <inheritdoc/>\n        public OptionsExampleContext() : base(null)\n        {\n        }\n        \n        /// <inheritdoc/>\n        public OptionsExampleContext(global::System.Text.Json.JsonSerializerOptions options) : base(options)\n        {\n        }\n        \n        private static global::System.Text.Json.Serialization.JsonConverter? GetRuntimeProvidedCustomConverter(global::System.Text.Json.JsonSerializerOptions options, global::System.Type type)\n        {\n            global::System.Collections.Generic.IList<global::System.Text.Json.Serialization.JsonConverter> converters = options.Converters;\n        \n            for (int i = 0; i < converters.Count; i++)\n            {\n                global::System.Text.Json.Serialization.JsonConverter? converter = converters[i];\n        \n                if (converter.CanConvert(type))\n                {\n                    if (converter is global::System.Text.Json.Serialization.JsonConverterFactory factory)\n                    {\n                        converter = factory.CreateConverter(type, options);\n                        if (converter == null || converter is global::System.Text.Json.Serialization.JsonConverterFactory)\n                        {\n                            throw new global::System.InvalidOperationException(string.Format("The converter \'{0}\' cannot return null or a JsonConverterFactory instance.", factory.GetType()));\n                        }\n                    }\n        \n                    return converter;\n                }\n            }\n        \n            return null;\n        }\n    }\n}\n\n'))),(0,o.kt)(r.Z,{value:"OptionsExampleContext.GetJsonTypeInfo.g.cs003",label:"OptionsExampleContext.GetJsonTypeInfo.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext: global::System.Text.Json.Serialization.Metadata.IJsonTypeInfoResolver\n    {\n        /// <inheritdoc/>\n        public override global::System.Text.Json.Serialization.Metadata.JsonTypeInfo GetTypeInfo(global::System.Type type)\n        {\n            if (type == typeof(global::JsonSerializerOptionsExample.WeatherForecast))\n            {\n                return this.WeatherForecast;\n            }\n        \n            if (type == typeof(global::System.DateTime))\n            {\n                return this.DateTime;\n            }\n        \n            if (type == typeof(global::System.Int32))\n            {\n                return this.Int32;\n            }\n        \n            if (type == typeof(global::System.String))\n            {\n                return this.String;\n            }\n        \n            return null!;\n        }\n        \n        global::System.Text.Json.Serialization.Metadata.JsonTypeInfo? global::System.Text.Json.Serialization.Metadata.IJsonTypeInfoResolver.GetTypeInfo(global::System.Type type, global::System.Text.Json.JsonSerializerOptions options)\n        {\n            if (type == typeof(global::JsonSerializerOptionsExample.WeatherForecast))\n            {\n                return Create_WeatherForecast(options, makeReadOnly: false);\n            }\n        \n            if (type == typeof(global::System.DateTime))\n            {\n                return Create_DateTime(options, makeReadOnly: false);\n            }\n        \n            if (type == typeof(global::System.Int32))\n            {\n                return Create_Int32(options, makeReadOnly: false);\n            }\n        \n            if (type == typeof(global::System.String))\n            {\n                return Create_String(options, makeReadOnly: false);\n            }\n        \n            return null;\n        }\n        \n    }\n}\n\n"))),(0,o.kt)(r.Z,{value:"OptionsExampleContext.Int32.g.cs004",label:"OptionsExampleContext.Int32.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext\n    {\n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.Int32>? _Int32;\n        /// <summary>\n        /// Defines the source generated JSON serialization contract metadata for a given type.\n        /// </summary>\n        public global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.Int32> Int32\n        {\n            get => _Int32 ??= Create_Int32(Options, makeReadOnly: true);\n        }\n        \n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.Int32> Create_Int32(global::System.Text.Json.JsonSerializerOptions options, bool makeReadOnly)\n        {\n            global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.Int32>? jsonTypeInfo = null;\n            global::System.Text.Json.Serialization.JsonConverter? customConverter;\n            if (options.Converters.Count > 0 && (customConverter = GetRuntimeProvidedCustomConverter(options, typeof(global::System.Int32))) != null)\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.Int32>(options, customConverter);\n            }\n            else\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.Int32>(options, global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.Int32Converter);\n            }\n        \n            if (makeReadOnly)\n            {\n                jsonTypeInfo.MakeReadOnly();\n            }\n        \n            return jsonTypeInfo;\n        }\n        \n    }\n}\n\n"))),(0,o.kt)(r.Z,{value:"OptionsExampleContext.PropertyNames.g.cs005",label:"OptionsExampleContext.PropertyNames.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext\n    {\n        \n        private static readonly global::System.Text.Json.JsonEncodedText PropName_Date = global::System.Text.Json.JsonEncodedText.Encode("Date");\n        private static readonly global::System.Text.Json.JsonEncodedText PropName_TemperatureCelsius = global::System.Text.Json.JsonEncodedText.Encode("TemperatureCelsius");\n        private static readonly global::System.Text.Json.JsonEncodedText PropName_Summary = global::System.Text.Json.JsonEncodedText.Encode("Summary");\n    }\n}\n\n'))),(0,o.kt)(r.Z,{value:"OptionsExampleContext.String.g.cs006",label:"OptionsExampleContext.String.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},"// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext\n    {\n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.String>? _String;\n        /// <summary>\n        /// Defines the source generated JSON serialization contract metadata for a given type.\n        /// </summary>\n        public global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.String> String\n        {\n            get => _String ??= Create_String(Options, makeReadOnly: true);\n        }\n        \n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.String> Create_String(global::System.Text.Json.JsonSerializerOptions options, bool makeReadOnly)\n        {\n            global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.String>? jsonTypeInfo = null;\n            global::System.Text.Json.Serialization.JsonConverter? customConverter;\n            if (options.Converters.Count > 0 && (customConverter = GetRuntimeProvidedCustomConverter(options, typeof(global::System.String))) != null)\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.String>(options, customConverter);\n            }\n            else\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.String>(options, global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.StringConverter);\n            }\n        \n            if (makeReadOnly)\n            {\n                jsonTypeInfo.MakeReadOnly();\n            }\n        \n            return jsonTypeInfo;\n        }\n        \n    }\n}\n\n"))),(0,o.kt)(r.Z,{value:"OptionsExampleContext.WeatherForecast.g.cs007",label:"OptionsExampleContext.WeatherForecast.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext\n    {\n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::JsonSerializerOptionsExample.WeatherForecast>? _WeatherForecast;\n        /// <summary>\n        /// Defines the source generated JSON serialization contract metadata for a given type.\n        /// </summary>\n        public global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::JsonSerializerOptionsExample.WeatherForecast> WeatherForecast\n        {\n            get => _WeatherForecast ??= Create_WeatherForecast(Options, makeReadOnly: true);\n        }\n        \n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::JsonSerializerOptionsExample.WeatherForecast> Create_WeatherForecast(global::System.Text.Json.JsonSerializerOptions options, bool makeReadOnly)\n        {\n            global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::JsonSerializerOptionsExample.WeatherForecast>? jsonTypeInfo = null;\n            global::System.Text.Json.Serialization.JsonConverter? customConverter;\n            if (options.Converters.Count > 0 && (customConverter = GetRuntimeProvidedCustomConverter(options, typeof(global::JsonSerializerOptionsExample.WeatherForecast))) != null)\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::JsonSerializerOptionsExample.WeatherForecast>(options, customConverter);\n            }\n            else\n            {\n                global::System.Text.Json.Serialization.Metadata.JsonObjectInfoValues<global::JsonSerializerOptionsExample.WeatherForecast> objectInfo = new global::System.Text.Json.Serialization.Metadata.JsonObjectInfoValues<global::JsonSerializerOptionsExample.WeatherForecast>()\n                {\n                    ObjectCreator = static () => new global::JsonSerializerOptionsExample.WeatherForecast(),\n                    ObjectWithParameterizedConstructorCreator = null,\n                    PropertyMetadataInitializer = _ => WeatherForecastPropInit(options),\n                    ConstructorParameterMetadataInitializer = null,\n                    NumberHandling = default,\n                    SerializeHandler = WeatherForecastSerializeHandler\n                };\n        \n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateObjectInfo<global::JsonSerializerOptionsExample.WeatherForecast>(options, objectInfo);\n            }\n        \n            if (makeReadOnly)\n            {\n                jsonTypeInfo.MakeReadOnly();\n            }\n        \n            return jsonTypeInfo;\n        }\n        \n        private static global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo[] WeatherForecastPropInit(global::System.Text.Json.JsonSerializerOptions options)\n        {\n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo[] properties = new global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo[3];\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.DateTime> info0 = new global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.DateTime>()\n            {\n                IsProperty = true,\n                IsPublic = true,\n                IsVirtual = false,\n                DeclaringType = typeof(global::JsonSerializerOptionsExample.WeatherForecast),\n                Converter = null,\n                Getter = static (obj) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).Date,\n                Setter = static (obj, value) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).Date = value!,\n                IgnoreCondition = null,\n                HasJsonInclude = false,\n                IsExtensionData = false,\n                NumberHandling = default,\n                PropertyName = "Date",\n                JsonPropertyName = null\n            };\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo propertyInfo0 = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreatePropertyInfo<global::System.DateTime>(options, info0);\n            properties[0] = propertyInfo0;\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.Int32> info1 = new global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.Int32>()\n            {\n                IsProperty = true,\n                IsPublic = true,\n                IsVirtual = false,\n                DeclaringType = typeof(global::JsonSerializerOptionsExample.WeatherForecast),\n                Converter = null,\n                Getter = static (obj) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).TemperatureCelsius,\n                Setter = static (obj, value) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).TemperatureCelsius = value!,\n                IgnoreCondition = null,\n                HasJsonInclude = false,\n                IsExtensionData = false,\n                NumberHandling = default,\n                PropertyName = "TemperatureCelsius",\n                JsonPropertyName = null\n            };\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo propertyInfo1 = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreatePropertyInfo<global::System.Int32>(options, info1);\n            properties[1] = propertyInfo1;\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.String> info2 = new global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.String>()\n            {\n                IsProperty = true,\n                IsPublic = true,\n                IsVirtual = false,\n                DeclaringType = typeof(global::JsonSerializerOptionsExample.WeatherForecast),\n                Converter = null,\n                Getter = static (obj) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).Summary!,\n                Setter = static (obj, value) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).Summary = value!,\n                IgnoreCondition = null,\n                HasJsonInclude = false,\n                IsExtensionData = false,\n                NumberHandling = default,\n                PropertyName = "Summary",\n                JsonPropertyName = null\n            };\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo propertyInfo2 = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreatePropertyInfo<global::System.String>(options, info2);\n            properties[2] = propertyInfo2;\n        \n            return properties;\n        }\n        \n        // Intentionally not a static method because we create a delegate to it. Invoking delegates to instance\n        // methods is almost as fast as virtual calls. Static methods need to go through a shuffle thunk.\n        private void WeatherForecastSerializeHandler(global::System.Text.Json.Utf8JsonWriter writer, global::JsonSerializerOptionsExample.WeatherForecast? value)\n        {\n            if (value == null)\n            {\n                writer.WriteNullValue();\n                return;\n            }\n        \n            writer.WriteStartObject();\n            writer.WriteString(PropName_Date, value.Date);\n            writer.WriteNumber(PropName_TemperatureCelsius, value.TemperatureCelsius);\n            writer.WriteString(PropName_Summary, value.Summary);\n        \n            writer.WriteEndObject();\n        }\n    }\n}\n\n'))),(0,o.kt)(r.Z,{value:"SourceGenerationContext.g.cs008",label:"SourceGenerationContext.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace BothModesNoOptions\n{\n    \n    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("System.Text.Json.SourceGeneration", "7.0.8.17405")]\n    internal partial class SourceGenerationContext\n    {\n        \n        private static global::System.Text.Json.JsonSerializerOptions s_defaultOptions { get; } = new global::System.Text.Json.JsonSerializerOptions()\n        {\n            DefaultIgnoreCondition = global::System.Text.Json.Serialization.JsonIgnoreCondition.Never,\n            IgnoreReadOnlyFields = false,\n            IgnoreReadOnlyProperties = false,\n            IncludeFields = false,\n            WriteIndented = true,\n        };\n        \n        private static global::BothModesNoOptions.SourceGenerationContext? s_defaultContext;\n        \n        /// <summary>\n        /// The default <see cref="global::System.Text.Json.Serialization.JsonSerializerContext"/> associated with a default <see cref="global::System.Text.Json.JsonSerializerOptions"/> instance.\n        /// </summary>\n        public static global::BothModesNoOptions.SourceGenerationContext Default => s_defaultContext ??= new global::BothModesNoOptions.SourceGenerationContext(new global::System.Text.Json.JsonSerializerOptions(s_defaultOptions));\n        \n        /// <summary>\n        /// The source-generated options associated with this context.\n        /// </summary>\n        protected override global::System.Text.Json.JsonSerializerOptions? GeneratedSerializerOptions { get; } = s_defaultOptions;\n        \n        /// <inheritdoc/>\n        public SourceGenerationContext() : base(null)\n        {\n        }\n        \n        /// <inheritdoc/>\n        public SourceGenerationContext(global::System.Text.Json.JsonSerializerOptions options) : base(options)\n        {\n        }\n        \n        private static global::System.Text.Json.Serialization.JsonConverter? GetRuntimeProvidedCustomConverter(global::System.Text.Json.JsonSerializerOptions options, global::System.Type type)\n        {\n            global::System.Collections.Generic.IList<global::System.Text.Json.Serialization.JsonConverter> converters = options.Converters;\n        \n            for (int i = 0; i < converters.Count; i++)\n            {\n                global::System.Text.Json.Serialization.JsonConverter? converter = converters[i];\n        \n                if (converter.CanConvert(type))\n                {\n                    if (converter is global::System.Text.Json.Serialization.JsonConverterFactory factory)\n                    {\n                        converter = factory.CreateConverter(type, options);\n                        if (converter == null || converter is global::System.Text.Json.Serialization.JsonConverterFactory)\n                        {\n                            throw new global::System.InvalidOperationException(string.Format("The converter \'{0}\' cannot return null or a JsonConverterFactory instance.", factory.GetType()));\n                        }\n                    }\n        \n                    return converter;\n                }\n            }\n        \n            return null;\n        }\n    }\n}\n\n'))),(0,o.kt)(r.Z,{value:"RegexGenerator.g.cs009",label:"RegexGenerator.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp"},'// <auto-generated/>\n#nullable enable\n#pragma warning disable CS0162 // Unreachable code\n#pragma warning disable CS0164 // Unreferenced label\n#pragma warning disable CS0219 // Variable assigned but never used\n\nnamespace JsonSerializerOptionsExample\n{\n    partial class WeatherForecast\n    {\n        /// <remarks>\n        /// Pattern explanation:<br/>\n        /// <code>\n        /// \u25cb Match with 2 alternative expressions, atomically.<br/>\n        ///     \u25cb Match a sequence of expressions.<br/>\n        ///         \u25cb Match a character in the set [Aa].<br/>\n        ///         \u25cb Match a character in the set [Bb].<br/>\n        ///         \u25cb Match a character in the set [Cc].<br/>\n        ///     \u25cb Match a sequence of expressions.<br/>\n        ///         \u25cb Match a character in the set [Dd].<br/>\n        ///         \u25cb Match a character in the set [Ee].<br/>\n        ///         \u25cb Match a character in the set [Ff].<br/>\n        /// </code>\n        /// </remarks>\n        [global::System.CodeDom.Compiler.GeneratedCodeAttribute("System.Text.RegularExpressions.Generator", "7.0.8.17405")]\n        private static partial global::System.Text.RegularExpressions.Regex AbcOrDefGeneratedRegex() => global::System.Text.RegularExpressions.Generated.AbcOrDefGeneratedRegex_0.Instance;\n    }\n}\n\nnamespace System.Text.RegularExpressions.Generated\n{\n    using System;\n    using System.CodeDom.Compiler;\n    using System.Collections;\n    using System.ComponentModel;\n    using System.Globalization;\n    using System.Runtime.CompilerServices;\n    using System.Text.RegularExpressions;\n    using System.Threading;\n\n    /// <summary>Custom <see cref="Regex"/>-derived type for the AbcOrDefGeneratedRegex method.</summary>\n    [GeneratedCodeAttribute("System.Text.RegularExpressions.Generator", "7.0.8.17405")]\n    file sealed class AbcOrDefGeneratedRegex_0 : Regex\n    {\n        /// <summary>Cached, thread-safe singleton instance.</summary>\n        internal static readonly AbcOrDefGeneratedRegex_0 Instance = new();\n    \n        /// <summary>Initializes the instance.</summary>\n        private AbcOrDefGeneratedRegex_0()\n        {\n            base.pattern = "abc|def";\n            base.roptions = RegexOptions.IgnoreCase;\n            ValidateMatchTimeout(Utilities.s_defaultTimeout);\n            base.internalMatchTimeout = Utilities.s_defaultTimeout;\n            base.factory = new RunnerFactory();\n            base.capsize = 1;\n        }\n    \n        /// <summary>Provides a factory for creating <see cref="RegexRunner"/> instances to be used by methods on <see cref="Regex"/>.</summary>\n        private sealed class RunnerFactory : RegexRunnerFactory\n        {\n            /// <summary>Creates an instance of a <see cref="RegexRunner"/> used by methods on <see cref="Regex"/>.</summary>\n            protected override RegexRunner CreateInstance() => new Runner();\n        \n            /// <summary>Provides the runner that contains the custom logic implementing the specified regular expression.</summary>\n            private sealed class Runner : RegexRunner\n            {\n                /// <summary>Scan the <paramref name="inputSpan"/> starting from base.runtextstart for the next match.</summary>\n                /// <param name="inputSpan">The text being scanned by the regular expression.</param>\n                protected override void Scan(ReadOnlySpan<char> inputSpan)\n                {\n                    // Search until we can\'t find a valid starting position, we find a match, or we reach the end of the input.\n                    while (TryFindNextPossibleStartingPosition(inputSpan) &&\n                           !TryMatchAtCurrentPosition(inputSpan) &&\n                           base.runtextpos != inputSpan.Length)\n                    {\n                        base.runtextpos++;\n                        if (Utilities.s_hasTimeout)\n                        {\n                            base.CheckTimeout();\n                        }\n                    }\n                }\n        \n                /// <summary>Search <paramref name="inputSpan"/> starting from base.runtextpos for the next location a match could possibly start.</summary>\n                /// <param name="inputSpan">The text being scanned by the regular expression.</param>\n                /// <returns>true if a possible match was found; false if no more matches are possible.</returns>\n                private bool TryFindNextPossibleStartingPosition(ReadOnlySpan<char> inputSpan)\n                {\n                    int pos = base.runtextpos;\n                    ulong charMinusLow;\n                    \n                    // Any possible match is at least 3 characters.\n                    if (pos <= inputSpan.Length - 3)\n                    {\n                        // The pattern matches a character in the set [CFcf] at index 2.\n                        // Find the next occurrence. If it can\'t be found, there\'s no match.\n                        ReadOnlySpan<char> span = inputSpan.Slice(pos);\n                        for (int i = 0; i < span.Length - 2; i++)\n                        {\n                            int indexOfPos = span.Slice(i + 2).IndexOfAny("CFcf");\n                            if (indexOfPos < 0)\n                            {\n                                goto NoMatchFound;\n                            }\n                            i += indexOfPos;\n                            \n                            if (((long)((0x9000000090000000UL << (int)(charMinusLow = (uint)span[i] - \'A\')) & (charMinusLow - 64)) < 0) &&\n                                ((long)((0x9000000090000000UL << (int)(charMinusLow = (uint)span[i + 1] - \'B\')) & (charMinusLow - 64)) < 0))\n                            {\n                                base.runtextpos = pos + i;\n                                return true;\n                            }\n                        }\n                    }\n                    \n                    // No match found.\n                    NoMatchFound:\n                    base.runtextpos = inputSpan.Length;\n                    return false;\n                }\n        \n                /// <summary>Determine whether <paramref name="inputSpan"/> at base.runtextpos is a match for the regular expression.</summary>\n                /// <param name="inputSpan">The text being scanned by the regular expression.</param>\n                /// <returns>true if the regular expression matches at the current position; otherwise, false.</returns>\n                private bool TryMatchAtCurrentPosition(ReadOnlySpan<char> inputSpan)\n                {\n                    int pos = base.runtextpos;\n                    int matchStart = pos;\n                    ReadOnlySpan<char> slice = inputSpan.Slice(pos);\n                    \n                    // Match with 2 alternative expressions, atomically.\n                    {\n                        if (slice.IsEmpty)\n                        {\n                            return false; // The input didn\'t match.\n                        }\n                        \n                        switch (slice[0])\n                        {\n                            case \'A\' or \'a\':\n                                if ((uint)slice.Length < 3 ||\n                                    !slice.Slice(1).StartsWith("bc", StringComparison.OrdinalIgnoreCase)) // Match the string "bc" (ordinal case-insensitive)\n                                {\n                                    return false; // The input didn\'t match.\n                                }\n                                \n                                pos += 3;\n                                slice = inputSpan.Slice(pos);\n                                break;\n                                \n                            case \'D\' or \'d\':\n                                if ((uint)slice.Length < 3 ||\n                                    !slice.Slice(1).StartsWith("ef", StringComparison.OrdinalIgnoreCase)) // Match the string "ef" (ordinal case-insensitive)\n                                {\n                                    return false; // The input didn\'t match.\n                                }\n                                \n                                pos += 3;\n                                slice = inputSpan.Slice(pos);\n                                break;\n                                \n                            default:\n                                return false; // The input didn\'t match.\n                        }\n                    }\n                    \n                    // The input matched.\n                    base.runtextpos = pos;\n                    base.Capture(0, matchStart, pos);\n                    return true;\n                }\n            }\n        }\n\n    }\n    \n    /// <summary>Helper methods used by generated <see cref="Regex"/>-derived implementations.</summary>\n    [GeneratedCodeAttribute("System.Text.RegularExpressions.Generator", "7.0.8.17405")]\n    file static class Utilities\n    {\n        /// <summary>Default timeout value set in <see cref="AppContext"/>, or <see cref="Regex.InfiniteMatchTimeout"/> if none was set.</summary>\n        internal static readonly TimeSpan s_defaultTimeout = AppContext.GetData("REGEX_DEFAULT_MATCH_TIMEOUT") is TimeSpan timeout ? timeout : Regex.InfiniteMatchTimeout;\n        \n        /// <summary>Whether <see cref="s_defaultTimeout"/> is non-infinite.</summary>\n        internal static readonly bool s_hasTimeout = s_defaultTimeout != Timeout.InfiniteTimeSpan;\n    }\n}\n\n')))),(0,o.kt)("h2",{id:"usefull"},"Usefull"),(0,o.kt)("h3",{id:"download-example"},"Download Example"),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("a",{target:"_blank",href:t(4743).Z},"Download Example System.Text.Json "))),(0,o.kt)("h3",{id:"download-pdf"},"Download PDF"),(0,o.kt)("p",null,(0,o.kt)("a",{target:"_blank",href:t(3577).Z},"Download PDF System.Text.Json ")),(0,o.kt)("h3",{id:"share-systemtextjson"},"Share System.Text.Json"),(0,o.kt)("ul",null,(0,o.kt)("li",null,(0,o.kt)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json&quote=System.Text.Json",title:"Share on Facebook",target:"_blank"},"Share on Facebook")),(0,o.kt)("li",null,(0,o.kt)("a",{href:"https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json&text=System.Text.Json:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json",target:"_blank",title:"Tweet"},"Share in Twitter")),(0,o.kt)("li",null,(0,o.kt)("a",{href:"http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json&title=System.Text.Json",target:"_blank",title:"Submit to Reddit"},"Share on Reddit")),(0,o.kt)("li",null,(0,o.kt)("a",{href:"http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json&title=System.Text.Json&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json",target:"_blank",title:"Share on LinkedIn"},"Share on Linkedin"))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/System.Text.Json"},"https://ignatandrei.github.io/RSCG_Examples/v2/docs/System.Text.Json")))}g.isMDXComponent=!0},3577:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/files/System.Text.Json-3d8a6ee759e9a081e4e4692cf883181f.pdf"},4743:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/files/System.Text.Json-d864795c5997c4e92c853cf9fb881e56.zip"}}]);