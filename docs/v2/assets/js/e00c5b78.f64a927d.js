"use strict";(self.webpackChunkrscg_examples=self.webpackChunkrscg_examples||[]).push([[9516],{9069:(e,n,t)=>{t.d(n,{A:()=>r});const r="data:image/png;base64,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"},31451:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"GoodPractices","title":"Good Practices","description":"Content","source":"@site/docs/GoodPractices.md","sourceDirName":".","slug":"/GoodPractices","permalink":"/RSCG_Examples/v2/docs/GoodPractices","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"sidebar_position":15,"title":"Good Practices"},"sidebar":"tutorialSidebar","previous":{"title":"Introduction","permalink":"/RSCG_Examples/v2/docs/intro"},"next":{"title":"About","permalink":"/RSCG_Examples/v2/docs/about"}}');var a=t(74848),o=t(28453);const s={sidebar_position:15,title:"Good Practices"},i=void 0,l={},c=[{value:"Content",id:"content",level:2},{value:"If you are using a Roslyn Source Code Generator",id:"if-you-are-using-a-roslyn-source-code-generator",level:2},{value:"See files generated",id:"see-files-generated",level:3},{value:"See if implements IIncrementalGenerator",id:"see-if-implements-iincrementalgenerator",level:3},{value:"If you are creating a Roslyn Source Code Generator project",id:"if-you-are-creating-a-roslyn-source-code-generator-project",level:2},{value:"It is a nuget package",id:"it-is-a-nuget-package",level:3},{value:"Read the documentation",id:"read-the-documentation",level:3},{value:"For easy debugging, add IsRoslynComponent",id:"for-easy-debugging-add-isroslyncomponent",level:3},{value:"For continuous debugging",id:"for-continuous-debugging",level:3},{value:"Aim for ReferenceOutputAssembly=&quot;false&quot;",id:"aim-for-referenceoutputassemblyfalse",level:3},{value:"Do not use all classes",id:"do-not-use-all-classes",level:3},{value:"General attributes / code",id:"general-attributes--code",level:3},{value:"Add reference to another package when need just for compilation",id:"add-reference-to-another-package-when-need-just-for-compilation",level:3},{value:"For files generated",id:"for-files-generated",level:2},{value:"Add .g.cs extension",id:"add-gcs-extension",level:3},{value:"Add auto-generated comment",id:"add-auto-generated-comment",level:3},{value:"Add a version to the files generated",id:"add-a-version-to-the-files-generated",level:3},{value:"Make the full path of the file generated shorter",id:"make-the-full-path-of-the-file-generated-shorter",level:3},{value:"mark the code as non - code coverage",id:"mark-the-code-as-non---code-coverage",level:3},{value:"Add comments for method / classes  /  properties generated",id:"add-comments-for-method--classes----properties-generated",level:3},{value:"If you&#39;re fond of nullable reference types",id:"if-youre-fond-of-nullable-reference-types",level:3},{value:"For deploy",id:"for-deploy",level:2},{value:"NuGet package",id:"nuget-package",level:3},{value:"Ensure in nuget",id:"ensure-in-nuget",level:3},{value:"Performance",id:"performance",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"content",children:"Content"}),"\n",(0,a.jsxs)(n.p,{children:["I am trying here to add good practices , as I see from the community and from my experience.\nThe examples are from the ",(0,a.jsx)(n.a,{href:"https://github.com/ignatandrei/RSCG_WaitAndOptions",children:"https://github.com/ignatandrei/RSCG_WaitAndOptions"})," project"]}),"\n",(0,a.jsx)(n.h2,{id:"if-you-are-using-a-roslyn-source-code-generator",children:"If you are using a Roslyn Source Code Generator"}),"\n",(0,a.jsx)(n.h3,{id:"see-files-generated",children:"See files generated"}),"\n",(0,a.jsx)(n.p,{children:"To see the files generated , add the following to the csproj file"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<PropertyGroup>\n    <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n    <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n</PropertyGroup>\n"})}),"\n",(0,a.jsx)(n.p,{children:"Then go to the obj/GX folder and inspect the files generated"}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),(0,a.jsxs)(n.p,{children:["If you have downloaded ",(0,a.jsx)(n.a,{href:"https://github.com/ignatandrei/RSCG_WaitAndOptions",children:"https://github.com/ignatandrei/RSCG_WaitAndOptions"})," ,\nsee src\\Console_Wait\\Console_Wait.csproj file"]}),(0,a.jsx)(n.p,{children:"also, after compiling, you can see the files generated in the obj/GX folder from the src\\Console_Wait folder"})]}),"\n",(0,a.jsx)(n.h3,{id:"see-if-implements-iincrementalgenerator",children:"See if implements IIncrementalGenerator"}),"\n",(0,a.jsx)(n.p,{children:"In simple terms, works better and faster with VS if RSCG implements IIncrementalGenerator instead of ISourceGenerator"}),"\n",(0,a.jsx)(n.p,{children:"The old way to create a RSCG was with ISourceGenerator interface. The new way is with IIncrementalGenerator interface."}),"\n",(0,a.jsx)(n.p,{children:'The difference is that the IIncrementalGenerator interface has a method called "Initialize" that is called only once per modification of the code - it is not called if the code is not modified.'}),"\n",(0,a.jsx)(n.p,{children:"Also the source generators have been deprecated in favor of the new incremental generators."}),"\n",(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"https://github.com/dotnet/roslyn/blob/main/docs/features/incremental-generators.md",children:"https://github.com/dotnet/roslyn/blob/main/docs/features/incremental-generators.md"})]}),"\n",(0,a.jsx)(n.h2,{id:"if-you-are-creating-a-roslyn-source-code-generator-project",children:"If you are creating a Roslyn Source Code Generator project"}),"\n",(0,a.jsx)(n.h3,{id:"it-is-a-nuget-package",children:"It is a nuget package"}),"\n",(0,a.jsxs)(n.p,{children:["Follow best practices for NuGet packages. See ",(0,a.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/nuget/create-packages/package-authoring-best-practices",children:"https://learn.microsoft.com/en-us/nuget/create-packages/package-authoring-best-practices"})]}),"\n",(0,a.jsx)(n.h3,{id:"read-the-documentation",children:"Read the documentation"}),"\n",(0,a.jsxs)(n.p,{children:["The documentation is at ",(0,a.jsx)(n.a,{href:"https://github.com/dotnet/roslyn/blob/main/docs/features/incremental-generators.cookbook.md",children:"https://github.com/dotnet/roslyn/blob/main/docs/features/incremental-generators.cookbook.md"})]}),"\n",(0,a.jsx)(n.h3,{id:"for-easy-debugging-add-isroslyncomponent",children:"For easy debugging, add IsRoslynComponent"}),"\n",(0,a.jsx)(n.p,{children:"You can debug easy the component if you add the following code to the Roslyn csproj file"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<PropertyGroup>\n    <IsRoslynComponent>true</IsRoslynComponent>\n</PropertyGroup>\n"})}),"\n",(0,a.jsx)(n.p,{children:"Then add a simple console ( or any other project) and reference the Roslyn project.\n( Pay attention to ReferenceOutputAssembly property ,could be false or true)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<ItemGroup>\n\t<ProjectReference Include="..\\RSCG_Wait\\RSCG_Wait.csproj" OutputItemType="Analyzer"\n\t\t\t\t\tReferenceOutputAssembly="false"  />\n</ItemGroup>\n'})}),"\n",(0,a.jsx)(n.p,{children:"Then in the Roslyn project you can add a breakpoint and debug the code ."}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),(0,a.jsxs)(n.p,{children:["If you have downloaded ",(0,a.jsx)(n.a,{href:"https://github.com/ignatandrei/RSCG_WaitAndOptions",children:"https://github.com/ignatandrei/RSCG_WaitAndOptions"})," ,\nsee src\\RSCG_Wait\\RSCG_Wait.csproj file"]})]}),"\n",(0,a.jsx)(n.h3,{id:"for-continuous-debugging",children:"For continuous debugging"}),"\n",(0,a.jsx)(n.p,{children:"If you want continuous debugging, a la dotnet watch run , you should delete the bin and obj files of the target project and run dotnet build again"}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),"\nThis is the powershell that I use for this with the name rscg_build.ps1 . I run it in the src\\Console_Wait folder from ",(0,a.jsx)(n.a,{href:"https://github.com/ignatandrei/RSCG_WaitAndOptions",children:"https://github.com/ignatandrei/RSCG_WaitAndOptions"})," , i.e in the target project folder."]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-powershell",children:'while($true)\n{\n\n    cls\n    Write-Host "delete obj and bin"\n    gci obj -recurse | foreach{ri $_.FullName -recurse -force }\n    gci bin -recurse | foreach{ri $_.FullName -recurse -force }\n    dotnet clean\n    dotnet restore\n    dotnet build /p:EmitCompilerGeneratedFiles=true --disable-build-servers --force\n    dotnet run\n    Read-Host -Prompt "Press Enter to continue"\n\n}\n\n'})})]}),"\n",(0,a.jsx)(n.h3,{id:"aim-for-referenceoutputassemblyfalse",children:'Aim for ReferenceOutputAssembly="false"'}),"\n",(0,a.jsx)(n.p,{children:"Generally speaking , the work of a Roslyn generator is to generate code. So, you do not need to reference the assembly generated when publishing the build."}),"\n",(0,a.jsx)(n.p,{children:'So, you should aim for ReferenceOutputAssembly="false" in the csproj file that reference the Roslyn generator.'}),"\n",(0,a.jsx)(r,{children:(0,a.jsx)("summary",{children:"Example - click to expand"})}),"\n",(0,a.jsx)(n.h3,{id:"do-not-use-all-classes",children:"Do not use all classes"}),"\n",(0,a.jsx)(n.p,{children:"Add an attribute to be used on the classes that you want to add  functionality to."}),"\n",(0,a.jsx)(n.p,{children:"For example, in the project"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'public void Initialize(IncrementalGeneratorInitializationContext context)\n{\n\n    var classToImplement = context.SyntaxProvider\n                        .ForAttributeWithMetadataName("RSCG_IFormattableCommon.AddIFormattableAttribute",\n                                                    CouldBeClass,\n                                                    GetClassInfo)\n                        .Collect();\n    ; \n//more code\n\n'})}),"\n",(0,a.jsx)(n.p,{children:"I do prefer putting this attribute in a separate nuget package and reference it from the main program."}),"\n",(0,a.jsx)(n.h3,{id:"general-attributes--code",children:"General attributes / code"}),"\n",(0,a.jsxs)(n.p,{children:["Problem - make internal or have another assembly referenced ( or the opposite)\n",(0,a.jsx)(n.a,{href:"https://andrewlock.net/creating-a-source-generator-part-8-solving-the-source-generator-marker-attribute-problem-part2/",children:"https://andrewlock.net/creating-a-source-generator-part-8-solving-the-source-generator-marker-attribute-problem-part2/"})]}),"\n",(0,a.jsx)(n.h3,{id:"add-reference-to-another-package-when-need-just-for-compilation",children:"Add reference to another package when need just for compilation"}),"\n",(0,a.jsxs)(n.p,{children:["See the documentation at ",(0,a.jsx)(n.a,{href:"https://github.com/dotnet/roslyn/blob/main/docs/features/incremental-generators.cookbook.md#use-functionality-from-nuget-packages",children:"https://github.com/dotnet/roslyn/blob/main/docs/features/incremental-generators.cookbook.md#use-functionality-from-nuget-packages"})]}),"\n",(0,a.jsx)(n.h2,{id:"for-files-generated",children:"For files generated"}),"\n",(0,a.jsx)(n.h3,{id:"add-gcs-extension",children:"Add .g.cs extension"}),"\n",(0,a.jsx)(n.p,{children:"Add a .g.cs generated suffix so some tools consider the file to be generated"}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),(0,a.jsxs)(n.p,{children:["The following code is from the project ",(0,a.jsx)(n.a,{href:"https://github.com/ignatandrei/RSCG_WaitAndOptions",children:"https://github.com/ignatandrei/RSCG_WaitAndOptions"})]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'private void GenerateData(SourceProductionContext context /*other arguments*/)\n{\n     context.AddSource("WaitGeneratorStart.g", $$"""\n//generated code here\n""");\n}\n'})})]}),"\n",(0,a.jsx)(n.h3,{id:"add-auto-generated-comment",children:"Add auto-generated comment"}),"\n",(0,a.jsx)(n.p,{children:"As a header of the file generated, add the following comment"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:"//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by a tool.\n//     Runtime Version: ...\n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n"})}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),"\nIn the project  ",(0,a.jsx)(n.a,{href:"https://github.com/ignatandrei/RSCG_WaitAndOptions",children:"https://github.com/ignatandrei/RSCG_WaitAndOptions"})," , this the header"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'static string Header()\n{\n    var version = ThisAssembly.Info.Version;\n    var name = ThisAssembly.Info.Title;\n    var header = $$"""\n//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by a tool {{name}}.\n//     Runtime Version: {{version}}\n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n""";\n    return header;\n}\n'})})]}),"\n",(0,a.jsx)(n.h3,{id:"add-a-version-to-the-files-generated",children:"Add a version to the files generated"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'[global::System.CodeDom.Compiler.GeneratedCode("GeneratorName", "1.0.0.0")]\n'})}),"\n",(0,a.jsx)(n.p,{children:"You could use the version from the generator in order to know what version of the generator was used to generate the code."}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),(0,a.jsxs)(n.p,{children:["You could use AssemblyInfo , as I have done myself into the project ",(0,a.jsx)(n.a,{href:"https://github.com/ignatandrei/RSCG_WaitAndOptions",children:"https://github.com/ignatandrei/RSCG_WaitAndOptions"})]}),(0,a.jsx)(n.p,{children:"In the csproj file , add the following"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<ItemGroup>\n    <PackageReference Include="ThisAssembly.AssemblyInfo" Version="1.4.3" OutputItemType="Analyzer"\n                    ReferenceOutputAssembly="false">\n        <PrivateAssets>all</PrivateAssets>\n        <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>\n    </PackageReference>\n</ItemGroup>\n\n'})}),(0,a.jsx)(n.p,{children:"And use when generating the code"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'var version=ThisAssembly.Info.Version;\nvar name = ThisAssembly.Info.Title;\nvar data = $$"""\nnamespace RSCG_Wait;\n[global::System.CodeDom.Compiler.GeneratedCode("{{name}}", "{{version}}")]\npublic partial class OptionsFromBuild{\n\n}\n""";\n'})})]}),"\n",(0,a.jsx)(n.h3,{id:"make-the-full-path-of-the-file-generated-shorter",children:"Make the full path of the file generated shorter"}),"\n",(0,a.jsxs)(n.p,{children:["Because of the 260 characters limit for the path, you should the path of the files generated shorter. See more at\n",(0,a.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/windows/win32/fileio/maximum-file-path-limitation?tabs=powershell",children:"https://learn.microsoft.com/en-us/windows/win32/fileio/maximum-file-path-limitation?tabs=powershell"})]}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),(0,a.jsx)(n.p,{children:"The files generated for the project src\\Console_Wait\\Console_Wait.csproj"}),(0,a.jsx)(n.p,{children:"are in the folder"}),(0,a.jsx)(n.p,{children:"obj\\GX\\RSCG_Wait\\RSCG_Wait.WaitGenerator"}),(0,a.jsx)(n.p,{children:"i.e obj\\GX\\Name of the Nuget\\Name of the class name that implements IIncrementalGenerator"})]}),"\n",(0,a.jsx)(n.h3,{id:"mark-the-code-as-non---code-coverage",children:"mark the code as non - code coverage"}),"\n",(0,a.jsx)(n.p,{children:"Add the following attribute to the generated code"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:"[global::System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverage]\n"})}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),(0,a.jsx)(n.p,{children:"In the mentioned project src\\RSCG_Wait\\RSCG_Wait.csproj"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'var data = $$"""\n{{Header()}}\nnamespace RSCG_Wait;\n[global::System.CodeDom.Compiler.GeneratedCode("{{name}}", "{{version}}")]\n[global::System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverage]\npartial class OptionsFromBuild\n{\n""";\n'})})]}),"\n",(0,a.jsx)(n.h3,{id:"add-comments-for-method--classes----properties-generated",children:"Add comments for method / classes  /  properties generated"}),"\n",(0,a.jsx)(n.p,{children:"Add comments to the generated code in order to help the user understand the code generated"}),"\n",(0,a.jsx)(n.p,{children:"Or if not , add"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:"//pragma warning disable CS1591\n"})}),"\n",(0,a.jsx)(n.p,{children:"to the generated code"}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),(0,a.jsx)(n.p,{children:"In the mentioned project src\\RSCG_Wait\\RSCG_Wait.csproj"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'context.AddSource("WaitGeneratorStart.g", $$"""\n{{Header()}}\nnamespace RSCG_Wait;\n//pragma warning disable CS1591\n[global::System.CodeDom.Compiler.GeneratedCode("{{name}}", "{{version}}")]\n[global::System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverage]\npartial class MyGeneratedCode\n'})})]}),"\n",(0,a.jsx)(n.h3,{id:"if-youre-fond-of-nullable-reference-types",children:"If you're fond of nullable reference types"}),"\n",(0,a.jsx)(n.p,{children:"Add"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:"#nullable enable\n"})}),"\n",(0,a.jsx)(n.p,{children:"at the start of the file and"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:"#nullable restore\n"})}),"\n",(0,a.jsx)(n.p,{children:"at the end of the file"}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),"\nIn the mentioned project src\\RSCG_Wait\\RSCG_Wait.csproj"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csharp",children:'context.AddSource("WaitGeneratorStart.g", $$"""\n{{Header()}}\n#nullable enable\nnamespace RSCG_Wait;\n//pragma warning disable CS1591\n[global::System.CodeDom.Compiler.GeneratedCode("{{name}}", "{{version}}")]\n[global::System.Diagnostics.CodeAnalysis.ExcludeFromCodeCoverage]\npartial class MyGeneratedCode\n{\n    public static string DateStart => "{{DateTime.Now.ToString()}}";\n    public static int SecondsToWait={{secondsToWait}};\n}\n#nullable restore\n""");\n'})})]}),"\n",(0,a.jsx)(n.h2,{id:"for-deploy",children:"For deploy"}),"\n",(0,a.jsx)(n.h3,{id:"nuget-package",children:"NuGet package"}),"\n",(0,a.jsx)(n.p,{children:"The best way to deploy the Roslyn generator is to use a NuGet package."}),"\n",(0,a.jsxs)(n.p,{children:["So you should follow documentation at ",(0,a.jsx)(n.a,{href:"https://learn.microsoft.com/en-us/nuget/create-packages/package-authoring-best-practices",children:"https://learn.microsoft.com/en-us/nuget/create-packages/package-authoring-best-practices"})]}),"\n",(0,a.jsxs)(n.p,{children:["Read also ",(0,a.jsx)(n.a,{href:"https://www.meziantou.net/ensuring-best-practices-for-nuget-packages.htm",children:"https://www.meziantou.net/ensuring-best-practices-for-nuget-packages.htm"})]}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),"\nIn the mentioned project src\\RSCG_Wait\\RSCG_Wait.csproj"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<PropertyGroup>\n    <EnforceExtendedAnalyzerRules>true</EnforceExtendedAnalyzerRules>\n    <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n    <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n</PropertyGroup>\n\n<ItemGroup>\n    <None Include="../../readme.md" Pack="true" PackagePath="\\" />\n    <None Include="../../docs/imgs/nuget.png" Pack="true" PackagePath="\\" />\n    <None Include="$(OutputPath)\\$(AssemblyName).dll" Pack="true" PackagePath="analyzers/dotnet/cs" Visible="false" />\n    <None Include="../../readme.txt" pack="true" PackagePath="." />\n</ItemGroup>\n<PropertyGroup>\n    <Version>2024.2.23.1940</Version>\n    <Authors>Andrei Ignat</Authors>\n    <Description>This package wait for a time and put all global options into a cs file</Description>\n    <Title>RSCG Wait and Options</Title>\n    <PackageId>RSCG_WaitAndOptions</PackageId>\n    <PackageTags>C#;.NET;Roslyn;RSCG;Roslyn Source Code Generator;</PackageTags>\n    <PackageReadmeFile>readme.md</PackageReadmeFile>\n    <PackageIcon>nuget.png</PackageIcon>\n    <RepositoryUrl>https://github.com/ignatandrei/RSCG_WaitAndOptions</RepositoryUrl>\n    <PackageProjectUrl>https://github.com/ignatandrei/RSCG_WaitAndOptions</PackageProjectUrl>\n    <RepositoryType>GIT</RepositoryType>\n    <Copyright>MIT</Copyright>\n    <PackageLicenseExpression>MIT</PackageLicenseExpression>\n    <IncludeSymbols>true</IncludeSymbols>\n    <PublishRepositoryUrl>true</PublishRepositoryUrl>\n    <EmbedUntrackedSources>true</EmbedUntrackedSources>\n    <Deterministic>true</Deterministic>\n    <DebugType>embedded</DebugType>\n\n</PropertyGroup>\n<PropertyGroup Condition="\'$(GITHUB_ACTIONS)\' == \'true\'">\n    <ContinuousIntegrationBuild>true</ContinuousIntegrationBuild>\n</PropertyGroup>\n'})})]}),"\n",(0,a.jsx)(n.h3,{id:"ensure-in-nuget",children:"Ensure in nuget"}),"\n",(0,a.jsx)(n.p,{children:"The generator should be packed in analyzer folder in nuget package"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"image",src:t(9069).A+"",width:"496",height:"157"})}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)("summary",{children:"Example - click to expand"}),"\nIn the mentioned project src\\RSCG_Wait\\RSCG_Wait.csproj"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<ItemGroup>\n    <None Include="$(OutputPath)\\$(AssemblyName).dll" Pack="true" PackagePath="analyzers/dotnet/cs" Visible="false" />\n</ItemGroup>\n'})})]}),"\n",(0,a.jsx)(n.h2,{id:"performance",children:"Performance"}),"\n",(0,a.jsx)(n.p,{children:"For performance, see the following links:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://andrewlock.net/creating-a-source-generator-part-9-avoiding-performance-pitfalls-in-incremental-generators/",children:"https://andrewlock.net/creating-a-source-generator-part-9-avoiding-performance-pitfalls-in-incremental-generators/"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://www.thinktecture.com/net/roslyn-source-generators-high-level-api-forattributewithmetadataname/",children:"https://www.thinktecture.com/net/roslyn-source-generators-high-level-api-forattributewithmetadataname/"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.a,{href:"https://papafe.dev/posts/source-generators-tips/",children:"https://papafe.dev/posts/source-generators-tips/"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);