"use strict";(self.webpackChunkrscg_examples=self.webpackChunkrscg_examples||[]).push([[8104],{2304:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>m,default:()=>g,frontMatter:()=>l,metadata:()=>p,toc:()=>c});var a=n(7462),o=(n(7294),n(4137)),s=n(3992),r=n(425),i=n(8839);const l={sidebar_position:30,title:"03 - System.Text.Json",description:"Json Serialize without reflection",slug:"/System.Text.Json"},m="System.Text.Json  by Microsoft",p={unversionedId:"RSCG-Examples/System.Text.Json",id:"RSCG-Examples/System.Text.Json",title:"03 - System.Text.Json",description:"Json Serialize without reflection",source:"@site/docs/RSCG-Examples/System.Text.Json.md",sourceDirName:"RSCG-Examples",slug:"/System.Text.Json",permalink:"/RSCG_Examples/v2/docs/System.Text.Json",draft:!1,tags:[],version:"current",sidebarPosition:30,frontMatter:{sidebar_position:30,title:"03 - System.Text.Json",description:"Json Serialize without reflection",slug:"/System.Text.Json"},sidebar:"tutorialSidebar",previous:{title:"02 - RSCG_TimeBombComment",permalink:"/RSCG_Examples/v2/docs/RSCG_TimeBombComment"},next:{title:"04 - RSCG_Utils",permalink:"/RSCG_Examples/v2/docs/RSCG_Utils"}},u={},c=[{value:"Details",id:"details",level:2},{value:"Info",id:"info",level:3},{value:"Original Readme",id:"original-readme",level:3},{value:"About",id:"about",level:3},{value:"How to use",id:"how-to-use",level:2},{value:"Example ( source csproj, source files )",id:"example--source-csproj-source-files-",level:3},{value:"Generated Files",id:"generated-files",level:3},{value:"Usefull",id:"usefull",level:2},{value:"Download Example (.NET  C# )",id:"download-example-net--c-",level:3},{value:"Share System.Text.Json",id:"share-systemtextjson",level:3},{value:"In the same category (Serializer)",id:"in-the-same-category-serializer",level:2},{value:"jsonConverterSourceGenerator",id:"jsonconvertersourcegenerator",level:3},{value:"JsonPolymorphicGenerator",id:"jsonpolymorphicgenerator",level:3},{value:"ProtobufSourceGenerator",id:"protobufsourcegenerator",level:3}],d={toc:c},S="wrapper";function g(e){let{components:t,...l}=e;return(0,o.kt)(S,(0,a.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"systemtextjson--by-microsoft"},"System.Text.Json  by Microsoft"),(0,o.kt)(i.Z,{toc:c,mdxType:"TOCInline"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.nuget.org/packages/System.Text.Json/"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/nuget/dt/System.Text.Json?label=System.Text.Json",alt:"Nuget"})),"\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dotnet/runtime"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/github/last-commit/dotnet/runtime?label=updated",alt:"GitHub last commit"})),"\n",(0,o.kt)("img",{parentName:"p",src:"https://img.shields.io/github/stars/dotnet/runtime?style=social",alt:"GitHub Repo stars"})),(0,o.kt)("h2",{id:"details"},"Details"),(0,o.kt)("h3",{id:"info"},"Info"),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"Name: ",(0,o.kt)("strong",{parentName:"p"},"System.Text.Json")),(0,o.kt)("p",{parentName:"admonition"},"A minimalistic and fast JSON parser/deserializer, for full .NET"),(0,o.kt)("p",{parentName:"admonition"},"Author: Microsoft"),(0,o.kt)("p",{parentName:"admonition"},"NuGet:\n",(0,o.kt)("em",{parentName:"p"},(0,o.kt)("a",{parentName:"em",href:"https://www.nuget.org/packages/System.Text.Json/"},"https://www.nuget.org/packages/System.Text.Json/")),"   "),(0,o.kt)("p",{parentName:"admonition"},"You can find more details at ",(0,o.kt)("a",{parentName:"p",href:"https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/source-generation"},"https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/source-generation")),(0,o.kt)("p",{parentName:"admonition"},"Source : ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dotnet/runtime"},"https://github.com/dotnet/runtime"))),(0,o.kt)("h3",{id:"original-readme"},"Original Readme"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("h1",{parentName:"admonition",id:"net-runtime"},".NET Runtime"),(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("a",{parentName:"p",href:"https://dev.azure.com/dnceng-public/public/_build/latest?definitionId=129&branchName=main"},(0,o.kt)("img",{parentName:"a",src:"https://dev.azure.com/dnceng-public/public/_apis/build/status/dotnet/runtime/runtime?branchName=main",alt:"Build Status"})),"\n",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dotnet/runtime/labels/help%20wanted"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/github/issues/dotnet/runtime/help%20wanted?style=flat-square&color=%232EA043&label=help%20wanted",alt:"Help Wanted"})),"\n",(0,o.kt)("a",{parentName:"p",href:"https://gitter.im/dotnet/runtime"},(0,o.kt)("img",{parentName:"a",src:"https://badges.gitter.im/Join%20Chat.svg",alt:"Gitter"})),"\n",(0,o.kt)("a",{parentName:"p",href:"https://aka.ms/dotnet-discord"},(0,o.kt)("img",{parentName:"a",src:"https://img.shields.io/discord/732297728826277939?style=flat-square&label=Discord&logo=discord&logoColor=white&color=7289DA",alt:"Discord"}))),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#what-is-net"},"What is .NET?")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#how-can-i-contribute"},"How can I contribute?")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#reporting-security-issues-and-security-bugs"},"Reporting security issues and security bugs")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#filing-issues"},"Filing issues")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#useful-links"},"Useful Links")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#net-foundation"},".NET Foundation")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"#license"},"License"))),(0,o.kt)("p",{parentName:"admonition"},"This repo contains the code to build the .NET runtime, libraries and shared host (",(0,o.kt)("inlineCode",{parentName:"p"},"dotnet"),") installers for\nall supported platforms, as well as the sources to .NET runtime and libraries."),(0,o.kt)("h2",{parentName:"admonition",id:"what-is-net"},"What is .NET?"),(0,o.kt)("p",{parentName:"admonition"},"Official Starting Page: ",(0,o.kt)("a",{parentName:"p",href:"https://dotnet.microsoft.com"},"https://dotnet.microsoft.com")),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/dotnet/core/get-started"},"How to use .NET")," (with VS, VS Code, command-line CLI)",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://dotnet.microsoft.com/download"},"Install official releases")),(0,o.kt)("li",{parentName:"ul"},"Install daily builds"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/dotnet/core"},"Documentation")," (Get Started, Tutorials, Porting from .NET Framework, API reference, ...)",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/dotnet/core/deploying"},"Deploying apps")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/dotnet/core/blob/main/os-lifecycle-policy.md"},"Supported OS versions")))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/dotnet/core/blob/main/roadmap.md"},"Roadmap")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/dotnet/core/tree/main/release-notes"},"Releases"))),(0,o.kt)("h2",{parentName:"admonition",id:"how-can-i-contribute"},"How can I contribute?"),(0,o.kt)("p",{parentName:"admonition"},"We welcome contributions! Many people all over the world have helped make this project better."),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},"Contributing explains what kinds of contributions we welcome"),(0,o.kt)("li",{parentName:"ul"},"Workflow Instructions explains how to build and test"),(0,o.kt)("li",{parentName:"ul"},"Get Up and Running on .NET Core explains how to get nightly builds of the runtime and its libraries to test them in your own projects.")),(0,o.kt)("h2",{parentName:"admonition",id:"reporting-security-issues-and-security-bugs"},"Reporting security issues and security bugs"),(0,o.kt)("p",{parentName:"admonition"},"Security issues and bugs should be reported privately, via email, to the Microsoft Security Response Center (MSRC) ",(0,o.kt)("a",{parentName:"p",href:"mailto:secure@microsoft.com"},"secure@microsoft.com"),". You should receive a response within 24 hours. If for some reason you do not, please follow up via email to ensure we received your original message. Further information, including the MSRC PGP key, can be found in the ",(0,o.kt)("a",{parentName:"p",href:"https://www.microsoft.com/msrc/faqs-report-an-issue"},"Security TechCenter"),". You can also find these instructions in this repo's Security doc."),(0,o.kt)("p",{parentName:"admonition"},"Also see info about related ",(0,o.kt)("a",{parentName:"p",href:"https://www.microsoft.com/msrc/bounty-dot-net-core"},"Microsoft .NET Core and ASP.NET Core Bug Bounty Program"),"."),(0,o.kt)("h2",{parentName:"admonition",id:"filing-issues"},"Filing issues"),(0,o.kt)("p",{parentName:"admonition"},"This repo should contain issues that are tied to the runtime, the class libraries and frameworks, the installation of the ",(0,o.kt)("inlineCode",{parentName:"p"},"dotnet")," binary (sometimes known as the ",(0,o.kt)("inlineCode",{parentName:"p"},"muxer"),") and installation of the .NET runtime and libraries."),(0,o.kt)("p",{parentName:"admonition"},"For other issues, please file them to their appropriate sibling repos. We have links to many of them on ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dotnet/runtime/issues/new/choose"},"our new issue page"),"."),(0,o.kt)("h2",{parentName:"admonition",id:"useful-links"},"Useful Links"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://source.dot.net"},".NET Core source index")," / ",(0,o.kt)("a",{parentName:"li",href:"https://referencesource.microsoft.com"},".NET Framework source index")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/dotnet/api"},"API Reference docs")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://apisof.net"},".NET API Catalog")," (incl. APIs from daily builds and API usage info)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/dotnet/dotnet-api-docs/wiki"},"API docs writing guidelines")," - useful when writing /// comments"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://aka.ms/dotnet-discord"},".NET Discord Server")," - a place to discuss the development of .NET and its ecosystem")),(0,o.kt)("h2",{parentName:"admonition",id:"net-foundation"},".NET Foundation"),(0,o.kt)("p",{parentName:"admonition"},".NET Runtime is a ",(0,o.kt)("a",{parentName:"p",href:"https://www.dotnetfoundation.org/projects"},".NET Foundation")," project."),(0,o.kt)("p",{parentName:"admonition"},"There are many .NET related projects on GitHub."),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/Microsoft/dotnet"},".NET home repo"),"\xa0- links to 100s of .NET projects, from Microsoft and the community."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/aspnet/core"},"ASP.NET Core home")," - the best place to start learning about ASP.NET Core.")),(0,o.kt)("p",{parentName:"admonition"},"This project has adopted the code of conduct defined by the ",(0,o.kt)("a",{parentName:"p",href:"https://contributor-covenant.org"},"Contributor Covenant")," to clarify expected behavior in our community. For more information, see the ",(0,o.kt)("a",{parentName:"p",href:"https://www.dotnetfoundation.org/code-of-conduct"},".NET Foundation Code of Conduct"),"."),(0,o.kt)("p",{parentName:"admonition"},"General .NET OSS discussions: ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/dotnet-foundation/Home/discussions"},".NET Foundation Discussions")),(0,o.kt)("h2",{parentName:"admonition",id:"license"},"License"),(0,o.kt)("p",{parentName:"admonition"},".NET (including the runtime repo) is licensed under the MIT license.")),(0,o.kt)("h3",{id:"about"},"About"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Json Serialize without reflection")),(0,o.kt)("h2",{id:"how-to-use"},"How to use"),(0,o.kt)("h3",{id:"example--source-csproj-source-files-"},"Example ( source csproj, source files )"),(0,o.kt)(s.Z,{mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"csproj",label:"CSharp Project",mdxType:"TabItem"},(0,o.kt)("p",null,"This is the CSharp Project that references ",(0,o.kt)("strong",{parentName:"p"},"System.Text.Json")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml",metastring:"showLineNumbers {1}",showLineNumbers:!0,"{1}":!0},'<Project Sdk="Microsoft.NET.Sdk">\n\n  <PropertyGroup>\n    <OutputType>Exe</OutputType>\n    <TargetFramework>net7.0</TargetFramework>\n    <ImplicitUsings>enable</ImplicitUsings>\n    <Nullable>enable</Nullable>\n  </PropertyGroup>\n    <PropertyGroup>\n        <EmitCompilerGeneratedFiles>true</EmitCompilerGeneratedFiles>\n        <CompilerGeneratedFilesOutputPath>$(BaseIntermediateOutputPath)\\GX</CompilerGeneratedFilesOutputPath>\n    </PropertyGroup>\n\n</Project>\n\n'))),(0,o.kt)(r.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\System.Text.Json\\src\\DemoSerializeJSON\\Program.cs",label:"Program.cs",mdxType:"TabItem"},(0,o.kt)("p",null,"  This is the use of ",(0,o.kt)("strong",{parentName:"p"},"System.Text.Json")," in ",(0,o.kt)("em",{parentName:"p"},"Program.cs")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'using JsonSerializerOptionsExample;\nusing System.Text.Json;\n//for asp.net core\n//services.AddControllers().AddJsonOptions(options => options.JsonSerializerOptions.AddContext<MyJsonContext>());\n//https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/tokens/raw-string\n\nstring jsonString ="""\n{\n  "date": "2019-08-01T00:00:00",\n  "temperatureCelsius": 25,\n  "summary": "Hot"\n}\n""";\n        WeatherForecast? weatherForecast= JsonSerializer.Deserialize(\n            jsonString,\n            typeof(WeatherForecast),\n            new OptionsExampleContext(\n                new JsonSerializerOptions(JsonSerializerDefaults.Web)))\n                as WeatherForecast;\n        Console.WriteLine($"Date={weatherForecast?.Date}");\n        // output:\n        //Date=8/1/2019 12:00:00 AM\n\n        jsonString = JsonSerializer.Serialize(\n            weatherForecast,\n            typeof(WeatherForecast),\n            new OptionsExampleContext(\n                new JsonSerializerOptions(JsonSerializerDefaults.Web)));\n        Console.WriteLine(jsonString);\njsonString = JsonSerializer.Serialize(\n    weatherForecast,\n    typeof(WeatherForecast),\n    new OptionsExampleContext(\n        new JsonSerializerOptions(JsonSerializerDefaults.General)));\nConsole.WriteLine(jsonString);\n// output:\n//{ "date":"2019-08-01T00:00:00","temperatureCelsius":25,"summary":"Hot"}\n\n'))),(0,o.kt)(r.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\System.Text.Json\\src\\DemoSerializeJSON\\WeatherForecast.cs",label:"WeatherForecast.cs",mdxType:"TabItem"},(0,o.kt)("p",null,"  This is the use of ",(0,o.kt)("strong",{parentName:"p"},"System.Text.Json")," in ",(0,o.kt)("em",{parentName:"p"},"WeatherForecast.cs")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"namespace JsonSerializerOptionsExample;\n\npublic class WeatherForecast\n{\n    public DateTime Date { get; set; }\n    public int TemperatureCelsius { get; set; }\n    public string? Summary { get; set; }\n}\n\n"))),(0,o.kt)(r.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\System.Text.Json\\src\\DemoSerializeJSON\\OptionsExampleContext.cs",label:"OptionsExampleContext.cs",mdxType:"TabItem"},(0,o.kt)("p",null,"  This is the use of ",(0,o.kt)("strong",{parentName:"p"},"System.Text.Json")," in ",(0,o.kt)("em",{parentName:"p"},"OptionsExampleContext.cs")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"using System.Text.Json.Serialization;\n\nnamespace JsonSerializerOptionsExample;\n\n[JsonSerializable(typeof(WeatherForecast))]\ninternal partial class OptionsExampleContext : JsonSerializerContext\n{\n}\n\n")))),(0,o.kt)("h3",{id:"generated-files"},"Generated Files"),(0,o.kt)("p",null,"Those are taken from $(BaseIntermediateOutputPath)\\GX"),(0,o.kt)(s.Z,{mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\System.Text.Json\\src\\DemoSerializeJSON\\obj\\GX\\System.Text.Json.SourceGeneration\\System.Text.Json.SourceGeneration.JsonSourceGenerator\\OptionsExampleContext.DateTime.g.cs",label:"OptionsExampleContext.DateTime.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext\n    {\n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.DateTime>? _DateTime;\n        /// <summary>\n        /// Defines the source generated JSON serialization contract metadata for a given type.\n        /// </summary>\n        public global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.DateTime> DateTime\n        {\n            get => _DateTime ??= Create_DateTime(Options, makeReadOnly: true);\n        }\n        \n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.DateTime> Create_DateTime(global::System.Text.Json.JsonSerializerOptions options, bool makeReadOnly)\n        {\n            global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.DateTime>? jsonTypeInfo = null;\n            global::System.Text.Json.Serialization.JsonConverter? customConverter;\n            if (options.Converters.Count > 0 && (customConverter = GetRuntimeProvidedCustomConverter(options, typeof(global::System.DateTime))) != null)\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.DateTime>(options, customConverter);\n            }\n            else\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.DateTime>(options, global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.DateTimeConverter);\n            }\n        \n            if (makeReadOnly)\n            {\n                jsonTypeInfo.MakeReadOnly();\n            }\n        \n            return jsonTypeInfo;\n        }\n        \n    }\n}\n\n"))),(0,o.kt)(r.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\System.Text.Json\\src\\DemoSerializeJSON\\obj\\GX\\System.Text.Json.SourceGeneration\\System.Text.Json.SourceGeneration.JsonSourceGenerator\\OptionsExampleContext.g.cs",label:"OptionsExampleContext.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    \n    [global::System.CodeDom.Compiler.GeneratedCodeAttribute("System.Text.Json.SourceGeneration", "7.0.9.1910")]\n    internal partial class OptionsExampleContext\n    {\n        \n        private static global::System.Text.Json.JsonSerializerOptions s_defaultOptions { get; } = new global::System.Text.Json.JsonSerializerOptions()\n        {\n            DefaultIgnoreCondition = global::System.Text.Json.Serialization.JsonIgnoreCondition.Never,\n            IgnoreReadOnlyFields = false,\n            IgnoreReadOnlyProperties = false,\n            IncludeFields = false,\n            WriteIndented = false,\n        };\n        \n        private static global::JsonSerializerOptionsExample.OptionsExampleContext? s_defaultContext;\n        \n        /// <summary>\n        /// The default <see cref="global::System.Text.Json.Serialization.JsonSerializerContext"/> associated with a default <see cref="global::System.Text.Json.JsonSerializerOptions"/> instance.\n        /// </summary>\n        public static global::JsonSerializerOptionsExample.OptionsExampleContext Default => s_defaultContext ??= new global::JsonSerializerOptionsExample.OptionsExampleContext(new global::System.Text.Json.JsonSerializerOptions(s_defaultOptions));\n        \n        /// <summary>\n        /// The source-generated options associated with this context.\n        /// </summary>\n        protected override global::System.Text.Json.JsonSerializerOptions? GeneratedSerializerOptions { get; } = s_defaultOptions;\n        \n        /// <inheritdoc/>\n        public OptionsExampleContext() : base(null)\n        {\n        }\n        \n        /// <inheritdoc/>\n        public OptionsExampleContext(global::System.Text.Json.JsonSerializerOptions options) : base(options)\n        {\n        }\n        \n        private static global::System.Text.Json.Serialization.JsonConverter? GetRuntimeProvidedCustomConverter(global::System.Text.Json.JsonSerializerOptions options, global::System.Type type)\n        {\n            global::System.Collections.Generic.IList<global::System.Text.Json.Serialization.JsonConverter> converters = options.Converters;\n        \n            for (int i = 0; i < converters.Count; i++)\n            {\n                global::System.Text.Json.Serialization.JsonConverter? converter = converters[i];\n        \n                if (converter.CanConvert(type))\n                {\n                    if (converter is global::System.Text.Json.Serialization.JsonConverterFactory factory)\n                    {\n                        converter = factory.CreateConverter(type, options);\n                        if (converter == null || converter is global::System.Text.Json.Serialization.JsonConverterFactory)\n                        {\n                            throw new global::System.InvalidOperationException(string.Format("The converter \'{0}\' cannot return null or a JsonConverterFactory instance.", factory.GetType()));\n                        }\n                    }\n        \n                    return converter;\n                }\n            }\n        \n            return null;\n        }\n    }\n}\n\n'))),(0,o.kt)(r.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\System.Text.Json\\src\\DemoSerializeJSON\\obj\\GX\\System.Text.Json.SourceGeneration\\System.Text.Json.SourceGeneration.JsonSourceGenerator\\OptionsExampleContext.GetJsonTypeInfo.g.cs",label:"OptionsExampleContext.GetJsonTypeInfo.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext: global::System.Text.Json.Serialization.Metadata.IJsonTypeInfoResolver\n    {\n        /// <inheritdoc/>\n        public override global::System.Text.Json.Serialization.Metadata.JsonTypeInfo GetTypeInfo(global::System.Type type)\n        {\n            if (type == typeof(global::JsonSerializerOptionsExample.WeatherForecast))\n            {\n                return this.WeatherForecast;\n            }\n        \n            if (type == typeof(global::System.DateTime))\n            {\n                return this.DateTime;\n            }\n        \n            if (type == typeof(global::System.Int32))\n            {\n                return this.Int32;\n            }\n        \n            if (type == typeof(global::System.String))\n            {\n                return this.String;\n            }\n        \n            return null!;\n        }\n        \n        global::System.Text.Json.Serialization.Metadata.JsonTypeInfo? global::System.Text.Json.Serialization.Metadata.IJsonTypeInfoResolver.GetTypeInfo(global::System.Type type, global::System.Text.Json.JsonSerializerOptions options)\n        {\n            if (type == typeof(global::JsonSerializerOptionsExample.WeatherForecast))\n            {\n                return Create_WeatherForecast(options, makeReadOnly: false);\n            }\n        \n            if (type == typeof(global::System.DateTime))\n            {\n                return Create_DateTime(options, makeReadOnly: false);\n            }\n        \n            if (type == typeof(global::System.Int32))\n            {\n                return Create_Int32(options, makeReadOnly: false);\n            }\n        \n            if (type == typeof(global::System.String))\n            {\n                return Create_String(options, makeReadOnly: false);\n            }\n        \n            return null;\n        }\n        \n    }\n}\n\n"))),(0,o.kt)(r.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\System.Text.Json\\src\\DemoSerializeJSON\\obj\\GX\\System.Text.Json.SourceGeneration\\System.Text.Json.SourceGeneration.JsonSourceGenerator\\OptionsExampleContext.Int32.g.cs",label:"OptionsExampleContext.Int32.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext\n    {\n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.Int32>? _Int32;\n        /// <summary>\n        /// Defines the source generated JSON serialization contract metadata for a given type.\n        /// </summary>\n        public global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.Int32> Int32\n        {\n            get => _Int32 ??= Create_Int32(Options, makeReadOnly: true);\n        }\n        \n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.Int32> Create_Int32(global::System.Text.Json.JsonSerializerOptions options, bool makeReadOnly)\n        {\n            global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.Int32>? jsonTypeInfo = null;\n            global::System.Text.Json.Serialization.JsonConverter? customConverter;\n            if (options.Converters.Count > 0 && (customConverter = GetRuntimeProvidedCustomConverter(options, typeof(global::System.Int32))) != null)\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.Int32>(options, customConverter);\n            }\n            else\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.Int32>(options, global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.Int32Converter);\n            }\n        \n            if (makeReadOnly)\n            {\n                jsonTypeInfo.MakeReadOnly();\n            }\n        \n            return jsonTypeInfo;\n        }\n        \n    }\n}\n\n"))),(0,o.kt)(r.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\System.Text.Json\\src\\DemoSerializeJSON\\obj\\GX\\System.Text.Json.SourceGeneration\\System.Text.Json.SourceGeneration.JsonSourceGenerator\\OptionsExampleContext.PropertyNames.g.cs",label:"OptionsExampleContext.PropertyNames.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext\n    {\n        \n        private static readonly global::System.Text.Json.JsonEncodedText PropName_Date = global::System.Text.Json.JsonEncodedText.Encode("Date");\n        private static readonly global::System.Text.Json.JsonEncodedText PropName_TemperatureCelsius = global::System.Text.Json.JsonEncodedText.Encode("TemperatureCelsius");\n        private static readonly global::System.Text.Json.JsonEncodedText PropName_Summary = global::System.Text.Json.JsonEncodedText.Encode("Summary");\n    }\n}\n\n'))),(0,o.kt)(r.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\System.Text.Json\\src\\DemoSerializeJSON\\obj\\GX\\System.Text.Json.SourceGeneration\\System.Text.Json.SourceGeneration.JsonSourceGenerator\\OptionsExampleContext.String.g.cs",label:"OptionsExampleContext.String.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},"// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext\n    {\n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.String>? _String;\n        /// <summary>\n        /// Defines the source generated JSON serialization contract metadata for a given type.\n        /// </summary>\n        public global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.String> String\n        {\n            get => _String ??= Create_String(Options, makeReadOnly: true);\n        }\n        \n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.String> Create_String(global::System.Text.Json.JsonSerializerOptions options, bool makeReadOnly)\n        {\n            global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::System.String>? jsonTypeInfo = null;\n            global::System.Text.Json.Serialization.JsonConverter? customConverter;\n            if (options.Converters.Count > 0 && (customConverter = GetRuntimeProvidedCustomConverter(options, typeof(global::System.String))) != null)\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.String>(options, customConverter);\n            }\n            else\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::System.String>(options, global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.StringConverter);\n            }\n        \n            if (makeReadOnly)\n            {\n                jsonTypeInfo.MakeReadOnly();\n            }\n        \n            return jsonTypeInfo;\n        }\n        \n    }\n}\n\n"))),(0,o.kt)(r.Z,{value:"D:\\gth\\RSCG_Examples\\v2\\rscg_examples\\System.Text.Json\\src\\DemoSerializeJSON\\obj\\GX\\System.Text.Json.SourceGeneration\\System.Text.Json.SourceGeneration.JsonSourceGenerator\\OptionsExampleContext.WeatherForecast.g.cs",label:"OptionsExampleContext.WeatherForecast.g.cs",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-csharp",metastring:"showLineNumbers",showLineNumbers:!0},'// <auto-generated/>\n\n#nullable enable annotations\n#nullable disable warnings\n\n// Suppress warnings about [Obsolete] member usage in generated code.\n#pragma warning disable CS0618\n\nnamespace JsonSerializerOptionsExample\n{\n    internal partial class OptionsExampleContext\n    {\n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::JsonSerializerOptionsExample.WeatherForecast>? _WeatherForecast;\n        /// <summary>\n        /// Defines the source generated JSON serialization contract metadata for a given type.\n        /// </summary>\n        public global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::JsonSerializerOptionsExample.WeatherForecast> WeatherForecast\n        {\n            get => _WeatherForecast ??= Create_WeatherForecast(Options, makeReadOnly: true);\n        }\n        \n        private global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::JsonSerializerOptionsExample.WeatherForecast> Create_WeatherForecast(global::System.Text.Json.JsonSerializerOptions options, bool makeReadOnly)\n        {\n            global::System.Text.Json.Serialization.Metadata.JsonTypeInfo<global::JsonSerializerOptionsExample.WeatherForecast>? jsonTypeInfo = null;\n            global::System.Text.Json.Serialization.JsonConverter? customConverter;\n            if (options.Converters.Count > 0 && (customConverter = GetRuntimeProvidedCustomConverter(options, typeof(global::JsonSerializerOptionsExample.WeatherForecast))) != null)\n            {\n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateValueInfo<global::JsonSerializerOptionsExample.WeatherForecast>(options, customConverter);\n            }\n            else\n            {\n                global::System.Text.Json.Serialization.Metadata.JsonObjectInfoValues<global::JsonSerializerOptionsExample.WeatherForecast> objectInfo = new global::System.Text.Json.Serialization.Metadata.JsonObjectInfoValues<global::JsonSerializerOptionsExample.WeatherForecast>()\n                {\n                    ObjectCreator = static () => new global::JsonSerializerOptionsExample.WeatherForecast(),\n                    ObjectWithParameterizedConstructorCreator = null,\n                    PropertyMetadataInitializer = _ => WeatherForecastPropInit(options),\n                    ConstructorParameterMetadataInitializer = null,\n                    NumberHandling = default,\n                    SerializeHandler = WeatherForecastSerializeHandler\n                };\n        \n                jsonTypeInfo = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreateObjectInfo<global::JsonSerializerOptionsExample.WeatherForecast>(options, objectInfo);\n            }\n        \n            if (makeReadOnly)\n            {\n                jsonTypeInfo.MakeReadOnly();\n            }\n        \n            return jsonTypeInfo;\n        }\n        \n        private static global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo[] WeatherForecastPropInit(global::System.Text.Json.JsonSerializerOptions options)\n        {\n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo[] properties = new global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo[3];\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.DateTime> info0 = new global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.DateTime>()\n            {\n                IsProperty = true,\n                IsPublic = true,\n                IsVirtual = false,\n                DeclaringType = typeof(global::JsonSerializerOptionsExample.WeatherForecast),\n                Converter = null,\n                Getter = static (obj) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).Date,\n                Setter = static (obj, value) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).Date = value!,\n                IgnoreCondition = null,\n                HasJsonInclude = false,\n                IsExtensionData = false,\n                NumberHandling = default,\n                PropertyName = "Date",\n                JsonPropertyName = null\n            };\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo propertyInfo0 = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreatePropertyInfo<global::System.DateTime>(options, info0);\n            properties[0] = propertyInfo0;\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.Int32> info1 = new global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.Int32>()\n            {\n                IsProperty = true,\n                IsPublic = true,\n                IsVirtual = false,\n                DeclaringType = typeof(global::JsonSerializerOptionsExample.WeatherForecast),\n                Converter = null,\n                Getter = static (obj) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).TemperatureCelsius,\n                Setter = static (obj, value) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).TemperatureCelsius = value!,\n                IgnoreCondition = null,\n                HasJsonInclude = false,\n                IsExtensionData = false,\n                NumberHandling = default,\n                PropertyName = "TemperatureCelsius",\n                JsonPropertyName = null\n            };\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo propertyInfo1 = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreatePropertyInfo<global::System.Int32>(options, info1);\n            properties[1] = propertyInfo1;\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.String> info2 = new global::System.Text.Json.Serialization.Metadata.JsonPropertyInfoValues<global::System.String>()\n            {\n                IsProperty = true,\n                IsPublic = true,\n                IsVirtual = false,\n                DeclaringType = typeof(global::JsonSerializerOptionsExample.WeatherForecast),\n                Converter = null,\n                Getter = static (obj) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).Summary!,\n                Setter = static (obj, value) => ((global::JsonSerializerOptionsExample.WeatherForecast)obj).Summary = value!,\n                IgnoreCondition = null,\n                HasJsonInclude = false,\n                IsExtensionData = false,\n                NumberHandling = default,\n                PropertyName = "Summary",\n                JsonPropertyName = null\n            };\n        \n            global::System.Text.Json.Serialization.Metadata.JsonPropertyInfo propertyInfo2 = global::System.Text.Json.Serialization.Metadata.JsonMetadataServices.CreatePropertyInfo<global::System.String>(options, info2);\n            properties[2] = propertyInfo2;\n        \n            return properties;\n        }\n        \n        // Intentionally not a static method because we create a delegate to it. Invoking delegates to instance\n        // methods is almost as fast as virtual calls. Static methods need to go through a shuffle thunk.\n        private void WeatherForecastSerializeHandler(global::System.Text.Json.Utf8JsonWriter writer, global::JsonSerializerOptionsExample.WeatherForecast? value)\n        {\n            if (value == null)\n            {\n                writer.WriteNullValue();\n                return;\n            }\n        \n            writer.WriteStartObject();\n            writer.WriteString(PropName_Date, value.Date);\n            writer.WriteNumber(PropName_TemperatureCelsius, value.TemperatureCelsius);\n            writer.WriteString(PropName_Summary, value.Summary);\n        \n            writer.WriteEndObject();\n        }\n    }\n}\n\n')))),(0,o.kt)("h2",{id:"usefull"},"Usefull"),(0,o.kt)("h3",{id:"download-example-net--c-"},"Download Example (.NET  C# )"),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("a",{target:"_blank",href:n(4743).Z},"Download Example project System.Text.Json "))),(0,o.kt)("h3",{id:"share-systemtextjson"},"Share System.Text.Json"),(0,o.kt)("ul",null,(0,o.kt)("li",null,(0,o.kt)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json&quote=System.Text.Json",title:"Share on Facebook",target:"_blank"},"Share on Facebook")),(0,o.kt)("li",null,(0,o.kt)("a",{href:"https://twitter.com/intent/tweet?source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json&text=System.Text.Json:%20https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json",target:"_blank",title:"Tweet"},"Share in Twitter")),(0,o.kt)("li",null,(0,o.kt)("a",{href:"http://www.reddit.com/submit?url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json&title=System.Text.Json",target:"_blank",title:"Submit to Reddit"},"Share on Reddit")),(0,o.kt)("li",null,(0,o.kt)("a",{href:"http://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json&title=System.Text.Json&summary=&source=https%3A%2F%2Fignatandrei.github.io%2FRSCG_Examples%2Fv2%2Fdocs%2FSystem.Text.Json",target:"_blank",title:"Share on LinkedIn"},"Share on Linkedin"))),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://ignatandrei.github.io/RSCG_Examples/v2/docs/System.Text.Json"},"https://ignatandrei.github.io/RSCG_Examples/v2/docs/System.Text.Json")),(0,o.kt)("h2",{id:"in-the-same-category-serializer"},"In the same category (Serializer)"),(0,o.kt)("h3",{id:"jsonconvertersourcegenerator"},(0,o.kt)("a",{parentName:"h3",href:"/docs/jsonConverterSourceGenerator"},"jsonConverterSourceGenerator")),(0,o.kt)("h3",{id:"jsonpolymorphicgenerator"},(0,o.kt)("a",{parentName:"h3",href:"/docs/JsonPolymorphicGenerator"},"JsonPolymorphicGenerator")),(0,o.kt)("h3",{id:"protobufsourcegenerator"},(0,o.kt)("a",{parentName:"h3",href:"/docs/ProtobufSourceGenerator"},"ProtobufSourceGenerator")))}g.isMDXComponent=!0},4743:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/files/System.Text.Json-316742a212ec29dc21a13e19a4d6c579.zip"}}]);