//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
using System;
using System.Collections.Generic;
using System.CodeDom.Compiler;
using System.Runtime.CompilerServices;

namespace {{NamespaceName}} {

    public interface I{{ClassName}}{
     {{~ for pi in Properties ~}}
         //{{pi.Original.DeclaredAccessibility}} a
         {{pi.ReturnType}} {{pi.Name}} {get;set;}
         
     {{~ end ~}}
    }
    
   
    
    /// <summary>
    /// Generates code from  {{ClassName}}
    /// </summary>
  partial class {{ClassName}} : I{{ClassName}}
  { 
   /*
    public int id(){
    System.Diagnostics.Debugger.Break();
    return 1;
    } 
    */


    partial void OnConstructor();
    partial void BeforeCopyConstructor(I{{ClassName}} other);
    partial void AfterCopyConstructor(I{{ClassName}} other);
    public {{ClassName}} (){
            OnConstructor();
        }
     public {{ClassName}}(I{{ClassName}} other):base(){ 
            BeforeCopyConstructor(other);
            CopyPropertiesFrom(other);
            AfterCopyConstructor(other);
                
        }
        public void CopyPropertiesFrom(I{{ClassName}} other){

            {{~ for mi in Properties ~}}
            this.{{mi.Name}} = other.{{mi.Name}};            
            {{~ end ~}}
        }    

        {{
            propsArguments = ""
            for mi in Properties
                if ! for.first
                    propsArguments =propsArguments + ","
                end
                propsArguments= propsArguments + " out " + mi.ReturnType + " "+ mi.Name 
                
            end

        }}
        
         public void Deconstruct({{propsArguments}})
         {
               {{~ for mi in Properties ~}}
                    {{mi.Name}} = this.{{mi.Name}};            
                {{~ end ~}}
         }
         
  }
}